(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function Z1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _d={exports:{}},eo={};var Wv;function J1(){if(Wv)return eo;Wv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:s,key:c,ref:o!==void 0?o:null,props:u}}return eo.Fragment=e,eo.jsx=i,eo.jsxs=i,eo}var Kv;function eR(){return Kv||(Kv=1,_d.exports=J1()),_d.exports}var T=eR(),yd={exports:{}},re={};var Zv;function tR(){if(Zv)return re;Zv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),v=Symbol.iterator;function E(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,L={};function F(w,j,Y){this.props=w,this.context=j,this.refs=L,this.updater=Y||R}F.prototype.isReactComponent={},F.prototype.setState=function(w,j){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,j,"setState")},F.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function G(){}G.prototype=F.prototype;function B(w,j,Y){this.props=w,this.context=j,this.refs=L,this.updater=Y||R}var $=B.prototype=new G;$.constructor=B,D($,F.prototype),$.isPureReactComponent=!0;var k=Array.isArray;function J(){}var X={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function Ke(w,j,Y){var W=Y.ref;return{$$typeof:n,type:w,key:j,ref:W!==void 0?W:null,props:Y}}function Rt(w,j){return Ke(w.type,j,w.props)}function $t(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function At(w){var j={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Y){return j[Y]})}var ur=/\/+/g;function Ln(w,j){return typeof w=="object"&&w!==null&&w.key!=null?At(""+w.key):j.toString(36)}function fn(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(J,J):(w.status="pending",w.then(function(j){w.status==="pending"&&(w.status="fulfilled",w.value=j)},function(j){w.status==="pending"&&(w.status="rejected",w.reason=j)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function P(w,j,Y,W,oe){var he=typeof w;(he==="undefined"||he==="boolean")&&(w=null);var we=!1;if(w===null)we=!0;else switch(he){case"bigint":case"string":case"number":we=!0;break;case"object":switch(w.$$typeof){case n:case e:we=!0;break;case y:return we=w._init,P(we(w._payload),j,Y,W,oe)}}if(we)return oe=oe(w),we=W===""?"."+Ln(w,0):W,k(oe)?(Y="",we!=null&&(Y=we.replace(ur,"$&/")+"/"),P(oe,j,Y,"",function(oa){return oa})):oe!=null&&($t(oe)&&(oe=Rt(oe,Y+(oe.key==null||w&&w.key===oe.key?"":(""+oe.key).replace(ur,"$&/")+"/")+we)),j.push(oe)),1;we=0;var bt=W===""?".":W+":";if(k(w))for(var Qe=0;Qe<w.length;Qe++)W=w[Qe],he=bt+Ln(W,Qe),we+=P(W,j,Y,he,oe);else if(Qe=E(w),typeof Qe=="function")for(w=Qe.call(w),Qe=0;!(W=w.next()).done;)W=W.value,he=bt+Ln(W,Qe++),we+=P(W,j,Y,he,oe);else if(he==="object"){if(typeof w.then=="function")return P(fn(w),j,Y,W,oe);throw j=String(w),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return we}function q(w,j,Y){if(w==null)return w;var W=[],oe=0;return P(w,W,"","",function(he){return j.call(Y,he,oe++)}),W}function ie(w){if(w._status===-1){var j=w._result;j=j(),j.then(function(Y){(w._status===0||w._status===-1)&&(w._status=1,w._result=Y)},function(Y){(w._status===0||w._status===-1)&&(w._status=2,w._result=Y)}),w._status===-1&&(w._status=0,w._result=j)}if(w._status===1)return w._result.default;throw w._result}var Oe=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},ke={map:q,forEach:function(w,j,Y){q(w,function(){j.apply(this,arguments)},Y)},count:function(w){var j=0;return q(w,function(){j++}),j},toArray:function(w){return q(w,function(j){return j})||[]},only:function(w){if(!$t(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return re.Activity=_,re.Children=ke,re.Component=F,re.Fragment=i,re.Profiler=o,re.PureComponent=B,re.StrictMode=s,re.Suspense=m,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,re.__COMPILER_RUNTIME={__proto__:null,c:function(w){return X.H.useMemoCache(w)}},re.cache=function(w){return function(){return w.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(w,j,Y){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var W=D({},w.props),oe=w.key;if(j!=null)for(he in j.key!==void 0&&(oe=""+j.key),j)!se.call(j,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&j.ref===void 0||(W[he]=j[he]);var he=arguments.length-2;if(he===1)W.children=Y;else if(1<he){for(var we=Array(he),bt=0;bt<he;bt++)we[bt]=arguments[bt+2];W.children=we}return Ke(w.type,oe,W)},re.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},re.createElement=function(w,j,Y){var W,oe={},he=null;if(j!=null)for(W in j.key!==void 0&&(he=""+j.key),j)se.call(j,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(oe[W]=j[W]);var we=arguments.length-2;if(we===1)oe.children=Y;else if(1<we){for(var bt=Array(we),Qe=0;Qe<we;Qe++)bt[Qe]=arguments[Qe+2];oe.children=bt}if(w&&w.defaultProps)for(W in we=w.defaultProps,we)oe[W]===void 0&&(oe[W]=we[W]);return Ke(w,he,oe)},re.createRef=function(){return{current:null}},re.forwardRef=function(w){return{$$typeof:d,render:w}},re.isValidElement=$t,re.lazy=function(w){return{$$typeof:y,_payload:{_status:-1,_result:w},_init:ie}},re.memo=function(w,j){return{$$typeof:p,type:w,compare:j===void 0?null:j}},re.startTransition=function(w){var j=X.T,Y={};X.T=Y;try{var W=w(),oe=X.S;oe!==null&&oe(Y,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(J,Oe)}catch(he){Oe(he)}finally{j!==null&&Y.types!==null&&(j.types=Y.types),X.T=j}},re.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},re.use=function(w){return X.H.use(w)},re.useActionState=function(w,j,Y){return X.H.useActionState(w,j,Y)},re.useCallback=function(w,j){return X.H.useCallback(w,j)},re.useContext=function(w){return X.H.useContext(w)},re.useDebugValue=function(){},re.useDeferredValue=function(w,j){return X.H.useDeferredValue(w,j)},re.useEffect=function(w,j){return X.H.useEffect(w,j)},re.useEffectEvent=function(w){return X.H.useEffectEvent(w)},re.useId=function(){return X.H.useId()},re.useImperativeHandle=function(w,j,Y){return X.H.useImperativeHandle(w,j,Y)},re.useInsertionEffect=function(w,j){return X.H.useInsertionEffect(w,j)},re.useLayoutEffect=function(w,j){return X.H.useLayoutEffect(w,j)},re.useMemo=function(w,j){return X.H.useMemo(w,j)},re.useOptimistic=function(w,j){return X.H.useOptimistic(w,j)},re.useReducer=function(w,j,Y){return X.H.useReducer(w,j,Y)},re.useRef=function(w){return X.H.useRef(w)},re.useState=function(w){return X.H.useState(w)},re.useSyncExternalStore=function(w,j,Y){return X.H.useSyncExternalStore(w,j,Y)},re.useTransition=function(){return X.H.useTransition()},re.version="19.2.3",re}var Jv;function Cc(){return Jv||(Jv=1,yd.exports=tR()),yd.exports}var A=Cc();const rS=Z1(A);var vd={exports:{}},to={},bd={exports:{}},Ed={};var eb;function nR(){return eb||(eb=1,(function(n){function e(P,q){var ie=P.length;P.push(q);e:for(;0<ie;){var Oe=ie-1>>>1,ke=P[Oe];if(0<o(ke,q))P[Oe]=q,P[ie]=ke,ie=Oe;else break e}}function i(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var q=P[0],ie=P.pop();if(ie!==q){P[0]=ie;e:for(var Oe=0,ke=P.length,w=ke>>>1;Oe<w;){var j=2*(Oe+1)-1,Y=P[j],W=j+1,oe=P[W];if(0>o(Y,ie))W<ke&&0>o(oe,Y)?(P[Oe]=oe,P[W]=ie,Oe=W):(P[Oe]=Y,P[j]=ie,Oe=j);else if(W<ke&&0>o(oe,ie))P[Oe]=oe,P[W]=ie,Oe=W;else break e}}return q}function o(P,q){var ie=P.sortIndex-q.sortIndex;return ie!==0?ie:P.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,_=null,v=3,E=!1,R=!1,D=!1,L=!1,F=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function $(P){for(var q=i(p);q!==null;){if(q.callback===null)s(p);else if(q.startTime<=P)s(p),q.sortIndex=q.expirationTime,e(m,q);else break;q=i(p)}}function k(P){if(D=!1,$(P),!R)if(i(m)!==null)R=!0,J||(J=!0,At());else{var q=i(p);q!==null&&fn(k,q.startTime-P)}}var J=!1,X=-1,se=5,Ke=-1;function Rt(){return L?!0:!(n.unstable_now()-Ke<se)}function $t(){if(L=!1,J){var P=n.unstable_now();Ke=P;var q=!0;try{e:{R=!1,D&&(D=!1,G(X),X=-1),E=!0;var ie=v;try{t:{for($(P),_=i(m);_!==null&&!(_.expirationTime>P&&Rt());){var Oe=_.callback;if(typeof Oe=="function"){_.callback=null,v=_.priorityLevel;var ke=Oe(_.expirationTime<=P);if(P=n.unstable_now(),typeof ke=="function"){_.callback=ke,$(P),q=!0;break t}_===i(m)&&s(m),$(P)}else s(m);_=i(m)}if(_!==null)q=!0;else{var w=i(p);w!==null&&fn(k,w.startTime-P),q=!1}}break e}finally{_=null,v=ie,E=!1}q=void 0}}finally{q?At():J=!1}}}var At;if(typeof B=="function")At=function(){B($t)};else if(typeof MessageChannel<"u"){var ur=new MessageChannel,Ln=ur.port2;ur.port1.onmessage=$t,At=function(){Ln.postMessage(null)}}else At=function(){F($t,0)};function fn(P,q){X=F(function(){P(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(P){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var ie=v;v=q;try{return P()}finally{v=ie}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ie=v;v=P;try{return q()}finally{v=ie}},n.unstable_scheduleCallback=function(P,q,ie){var Oe=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Oe+ie:Oe):ie=Oe,P){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ie+ke,P={id:y++,callback:q,priorityLevel:P,startTime:ie,expirationTime:ke,sortIndex:-1},ie>Oe?(P.sortIndex=ie,e(p,P),i(m)===null&&P===i(p)&&(D?(G(X),X=-1):D=!0,fn(k,ie-Oe))):(P.sortIndex=ke,e(m,P),R||E||(R=!0,J||(J=!0,At()))),P},n.unstable_shouldYield=Rt,n.unstable_wrapCallback=function(P){var q=v;return function(){var ie=v;v=q;try{return P.apply(this,arguments)}finally{v=ie}}}})(Ed)),Ed}var tb;function iR(){return tb||(tb=1,bd.exports=nR()),bd.exports}var Sd={exports:{}},_t={};var nb;function rR(){if(nb)return _t;nb=1;var n=Cc();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,_t.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,y)},_t.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},_t.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},_t.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},_t.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:E}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:v,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},_t.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},_t.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},_t.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},_t.requestFormReset=function(m){s.d.r(m)},_t.unstable_batchedUpdates=function(m,p){return m(p)},_t.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},_t.useFormStatus=function(){return c.H.useHostTransitionStatus()},_t.version="19.2.3",_t}var ib;function sR(){if(ib)return Sd.exports;ib=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sd.exports=rR(),Sd.exports}var rb;function aR(){if(rb)return to;rb=1;var n=iR(),e=Cc(),i=sR();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function d(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return m(f),t;if(h===l)return m(f),r;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=h;else{for(var g=!1,b=f.child;b;){if(b===a){g=!0,a=f,l=h;break}if(b===l){g=!0,l=f,a=h;break}b=b.sibling}if(!g){for(b=h.child;b;){if(b===a){g=!0,a=h,l=f;break}if(b===l){g=!0,l=h,a=f;break}b=b.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),B=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),Ke=Symbol.for("react.activity"),Rt=Symbol.for("react.memo_cache_sentinel"),$t=Symbol.iterator;function At(t){return t===null||typeof t!="object"?null:(t=$t&&t[$t]||t["@@iterator"],typeof t=="function"?t:null)}var ur=Symbol.for("react.client.reference");function Ln(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ur?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case F:return"Profiler";case L:return"StrictMode";case k:return"Suspense";case J:return"SuspenseList";case Ke:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case R:return"Portal";case B:return t.displayName||"Context";case G:return(t._context.displayName||"Context")+".Consumer";case $:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return r=t.displayName||null,r!==null?r:Ln(t.type)||"Memo";case se:r=t._payload,t=t._init;try{return Ln(t(r))}catch{}}return null}var fn=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Oe=[],ke=-1;function w(t){return{current:t}}function j(t){0>ke||(t.current=Oe[ke],Oe[ke]=null,ke--)}function Y(t,r){ke++,Oe[ke]=t.current,t.current=r}var W=w(null),oe=w(null),he=w(null),we=w(null);function bt(t,r){switch(Y(he,r),Y(oe,t),Y(W,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?vv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=vv(r),t=bv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(W),Y(W,t)}function Qe(){j(W),j(oe),j(he)}function oa(t){t.memoizedState!==null&&Y(we,t);var r=W.current,a=bv(r,t.type);r!==a&&(Y(oe,t),Y(W,a))}function ol(t){oe.current===t&&(j(W),j(oe)),we.current===t&&(j(we),Wa._currentValue=ie)}var Zc,$p;function cr(t){if(Zc===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Zc=r&&r[1]||"",$p=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zc+t+$p}var Jc=!1;function ef(t,r){if(!t||Jc)return"";Jc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(M){var I=M}Reflect.construct(t,[],z)}else{try{z.call()}catch(M){I=M}t.call(z.prototype)}}else{try{throw Error()}catch(M){I=M}(z=t())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(M){if(M&&I&&typeof M.stack=="string")return[M.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],b=h[1];if(g&&b){var S=g.split(`
`),x=b.split(`
`);for(f=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;f<x.length&&!x[f].includes("DetermineComponentFrameRoot");)f++;if(l===S.length||f===x.length)for(l=S.length-1,f=x.length-1;1<=l&&0<=f&&S[l]!==x[f];)f--;for(;1<=l&&0<=f;l--,f--)if(S[l]!==x[f]){if(l!==1||f!==1)do if(l--,f--,0>f||S[l]!==x[f]){var U=`
`+S[l].replace(" at new "," at ");return t.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",t.displayName)),U}while(1<=l&&0<=f);break}}}finally{Jc=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?cr(a):""}function OC(t,r){switch(t.tag){case 26:case 27:case 5:return cr(t.type);case 16:return cr("Lazy");case 13:return t.child!==r&&r!==null?cr("Suspense Fallback"):cr("Suspense");case 19:return cr("SuspenseList");case 0:case 15:return ef(t.type,!1);case 11:return ef(t.type.render,!1);case 1:return ef(t.type,!0);case 31:return cr("Activity");default:return""}}function Wp(t){try{var r="",a=null;do r+=OC(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var tf=Object.prototype.hasOwnProperty,nf=n.unstable_scheduleCallback,rf=n.unstable_cancelCallback,xC=n.unstable_shouldYield,IC=n.unstable_requestPaint,Ut=n.unstable_now,DC=n.unstable_getCurrentPriorityLevel,Kp=n.unstable_ImmediatePriority,Zp=n.unstable_UserBlockingPriority,ll=n.unstable_NormalPriority,MC=n.unstable_LowPriority,Jp=n.unstable_IdlePriority,LC=n.log,kC=n.unstable_setDisableYieldValue,la=null,Pt=null;function gi(t){if(typeof LC=="function"&&kC(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(la,t)}catch{}}var Ht=Math.clz32?Math.clz32:HC,UC=Math.log,PC=Math.LN2;function HC(t){return t>>>=0,t===0?32:31-(UC(t)/PC|0)|0}var ul=256,cl=262144,fl=4194304;function fr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hl(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~h,l!==0?f=fr(l):(g&=b,g!==0?f=fr(g):a||(a=b&~t,a!==0&&(f=fr(a))))):(b=l&~h,b!==0?f=fr(b):g!==0?f=fr(g):a||(a=l&~t,a!==0&&(f=fr(a)))),f===0?0:r!==0&&r!==f&&(r&h)===0&&(h=f&-f,a=r&-r,h>=a||h===32&&(a&4194048)!==0)?r:f}function ua(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function BC(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eg(){var t=fl;return fl<<=1,(fl&62914560)===0&&(fl=4194304),t}function sf(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ca(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zC(t,r,a,l,f,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,S=t.expirationTimes,x=t.hiddenUpdates;for(a=g&~a;0<a;){var U=31-Ht(a),z=1<<U;b[U]=0,S[U]=-1;var I=x[U];if(I!==null)for(x[U]=null,U=0;U<I.length;U++){var M=I[U];M!==null&&(M.lane&=-536870913)}a&=~z}l!==0&&tg(t,l,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~r))}function tg(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Ht(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ng(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Ht(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function ig(t,r){var a=r&-r;return a=(a&42)!==0?1:af(a),(a&(t.suspendedLanes|r))!==0?0:a}function af(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function of(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function rg(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:Gv(t.type))}function sg(t,r){var a=q.p;try{return q.p=t,r()}finally{q.p=a}}var _i=Math.random().toString(36).slice(2),ut="__reactFiber$"+_i,Nt="__reactProps$"+_i,Yr="__reactContainer$"+_i,lf="__reactEvents$"+_i,jC="__reactListeners$"+_i,FC="__reactHandles$"+_i,ag="__reactResources$"+_i,fa="__reactMarker$"+_i;function uf(t){delete t[ut],delete t[Nt],delete t[lf],delete t[jC],delete t[FC]}function Xr(t){var r=t[ut];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Yr]||a[ut]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Av(t);t!==null;){if(a=t[ut])return a;t=Av(t)}return r}t=a,a=t.parentNode}return null}function Qr(t){if(t=t[ut]||t[Yr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function ha(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function $r(t){var r=t[ag];return r||(r=t[ag]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function st(t){t[fa]=!0}var og=new Set,lg={};function hr(t,r){Wr(t,r),Wr(t+"Capture",r)}function Wr(t,r){for(lg[t]=r,t=0;t<r.length;t++)og.add(r[t])}var GC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ug={},cg={};function VC(t){return tf.call(cg,t)?!0:tf.call(ug,t)?!1:GC.test(t)?cg[t]=!0:(ug[t]=!0,!1)}function dl(t,r,a){if(VC(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ml(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function kn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fg(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qC(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,h=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function cf(t){if(!t._valueTracker){var r=fg(t)?"checked":"value";t._valueTracker=qC(t,r,""+t[r])}}function hg(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=fg(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function pl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var YC=/[\n"\\]/g;function Kt(t){return t.replace(YC,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ff(t,r,a,l,f,h,g,b){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),r!=null?g==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Wt(r)):t.value!==""+Wt(r)&&(t.value=""+Wt(r)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),r!=null?hf(t,g,Wt(r)):a!=null?hf(t,g,Wt(a)):l!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Wt(b):t.removeAttribute("name")}function dg(t,r,a,l,f,h,g,b){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),r!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||r!=null)){cf(t);return}a=a!=null?""+Wt(a):"",r=r!=null?""+Wt(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),cf(t)}function hf(t,r,a){r==="number"&&pl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Kr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Wt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function mg(t,r,a){if(r!=null&&(r=""+Wt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Wt(a):""}function pg(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(fn(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Wt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),cf(t)}function Zr(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var XC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gg(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||XC.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function _g(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&gg(t,f,l)}else for(var h in r)r.hasOwnProperty(h)&&gg(t,h,r[h])}function df(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var QC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$C=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gl(t){return $C.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Un(){}var mf=null;function pf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jr=null,es=null;function yg(t){var r=Qr(t);if(r&&(t=r.stateNode)){var a=t[Nt]||null;e:switch(t=r.stateNode,r.type){case"input":if(ff(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Kt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Nt]||null;if(!f)throw Error(s(90));ff(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&hg(l)}break e;case"textarea":mg(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Kr(t,!!a.multiple,r,!1)}}}var gf=!1;function vg(t,r,a){if(gf)return t(r,a);gf=!0;try{var l=t(r);return l}finally{if(gf=!1,(Jr!==null||es!==null)&&(iu(),Jr&&(r=Jr,t=es,es=Jr=null,yg(r),t)))for(r=0;r<t.length;r++)yg(t[r])}}function da(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Nt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_f=!1;if(Pn)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){_f=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{_f=!1}var yi=null,yf=null,_l=null;function bg(){if(_l)return _l;var t,r=yf,a=r.length,l,f="value"in yi?yi.value:yi.textContent,h=f.length;for(t=0;t<a&&r[t]===f[t];t++);var g=a-t;for(l=1;l<=g&&r[a-l]===f[h-l];l++);return _l=f.slice(t,1<l?1-l:void 0)}function yl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function vl(){return!0}function Eg(){return!1}function Ot(t){function r(a,l,f,h,g){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?vl:Eg,this.isPropagationStopped=Eg,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),r}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=Ot(dr),pa=_({},dr,{view:0,detail:0}),WC=Ot(pa),vf,bf,ga,El=_({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ga&&(ga&&t.type==="mousemove"?(vf=t.screenX-ga.screenX,bf=t.screenY-ga.screenY):bf=vf=0,ga=t),vf)},movementY:function(t){return"movementY"in t?t.movementY:bf}}),Sg=Ot(El),KC=_({},El,{dataTransfer:0}),ZC=Ot(KC),JC=_({},pa,{relatedTarget:0}),Ef=Ot(JC),ew=_({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),tw=Ot(ew),nw=_({},dr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iw=Ot(nw),rw=_({},dr,{data:0}),Tg=Ot(rw),sw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ow={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lw(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ow[t])?!!r[t]:!1}function Sf(){return lw}var uw=_({},pa,{key:function(t){if(t.key){var r=sw[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sf,charCode:function(t){return t.type==="keypress"?yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cw=Ot(uw),fw=_({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cg=Ot(fw),hw=_({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sf}),dw=Ot(hw),mw=_({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pw=Ot(mw),gw=_({},El,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_w=Ot(gw),yw=_({},dr,{newState:0,oldState:0}),vw=Ot(yw),bw=[9,13,27,32],Tf=Pn&&"CompositionEvent"in window,_a=null;Pn&&"documentMode"in document&&(_a=document.documentMode);var Ew=Pn&&"TextEvent"in window&&!_a,wg=Pn&&(!Tf||_a&&8<_a&&11>=_a),Rg=" ",Ag=!1;function Ng(t,r){switch(t){case"keyup":return bw.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Og(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ts=!1;function Sw(t,r){switch(t){case"compositionend":return Og(r);case"keypress":return r.which!==32?null:(Ag=!0,Rg);case"textInput":return t=r.data,t===Rg&&Ag?null:t;default:return null}}function Tw(t,r){if(ts)return t==="compositionend"||!Tf&&Ng(t,r)?(t=bg(),_l=yf=yi=null,ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return wg&&r.locale!=="ko"?null:r.data;default:return null}}var Cw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Cw[t.type]:r==="textarea"}function Ig(t,r,a,l){Jr?es?es.push(l):es=[l]:Jr=l,r=cu(r,"onChange"),0<r.length&&(a=new bl("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var ya=null,va=null;function ww(t){dv(t,0)}function Sl(t){var r=ha(t);if(hg(r))return t}function Dg(t,r){if(t==="change")return r}var Mg=!1;if(Pn){var Cf;if(Pn){var wf="oninput"in document;if(!wf){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),wf=typeof Lg.oninput=="function"}Cf=wf}else Cf=!1;Mg=Cf&&(!document.documentMode||9<document.documentMode)}function kg(){ya&&(ya.detachEvent("onpropertychange",Ug),va=ya=null)}function Ug(t){if(t.propertyName==="value"&&Sl(va)){var r=[];Ig(r,va,t,pf(t)),vg(ww,r)}}function Rw(t,r,a){t==="focusin"?(kg(),ya=r,va=a,ya.attachEvent("onpropertychange",Ug)):t==="focusout"&&kg()}function Aw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sl(va)}function Nw(t,r){if(t==="click")return Sl(r)}function Ow(t,r){if(t==="input"||t==="change")return Sl(r)}function xw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Bt=typeof Object.is=="function"?Object.is:xw;function ba(t,r){if(Bt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!tf.call(r,f)||!Bt(t[f],r[f]))return!1}return!0}function Pg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hg(t,r){var a=Pg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pg(a)}}function Bg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Bg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function zg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=pl(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=pl(t.document)}return r}function Rf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Iw=Pn&&"documentMode"in document&&11>=document.documentMode,ns=null,Af=null,Ea=null,Nf=!1;function jg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nf||ns==null||ns!==pl(l)||(l=ns,"selectionStart"in l&&Rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ea&&ba(Ea,l)||(Ea=l,l=cu(Af,"onSelect"),0<l.length&&(r=new bl("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ns)))}function mr(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var is={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionrun:mr("Transition","TransitionRun"),transitionstart:mr("Transition","TransitionStart"),transitioncancel:mr("Transition","TransitionCancel"),transitionend:mr("Transition","TransitionEnd")},Of={},Fg={};Pn&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function pr(t){if(Of[t])return Of[t];if(!is[t])return t;var r=is[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Fg)return Of[t]=r[a];return t}var Gg=pr("animationend"),Vg=pr("animationiteration"),qg=pr("animationstart"),Dw=pr("transitionrun"),Mw=pr("transitionstart"),Lw=pr("transitioncancel"),Yg=pr("transitionend"),Xg=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function hn(t,r){Xg.set(t,r),hr(r,[t])}var Tl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zt=[],rs=0,If=0;function Cl(){for(var t=rs,r=If=rs=0;r<t;){var a=Zt[r];Zt[r++]=null;var l=Zt[r];Zt[r++]=null;var f=Zt[r];Zt[r++]=null;var h=Zt[r];if(Zt[r++]=null,l!==null&&f!==null){var g=l.pending;g===null?f.next=f:(f.next=g.next,g.next=f),l.pending=f}h!==0&&Qg(a,f,h)}}function wl(t,r,a,l){Zt[rs++]=t,Zt[rs++]=r,Zt[rs++]=a,Zt[rs++]=l,If|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Df(t,r,a,l){return wl(t,r,a,l),Rl(t)}function gr(t,r){return wl(t,null,null,r),Rl(t)}function Qg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&r!==null&&(f=31-Ht(a),t=h.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),h):null}function Rl(t){if(50<Ga)throw Ga=0,jh=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ss={};function kw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(t,r,a,l){return new kw(t,r,a,l)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hn(t,r){var a=t.alternate;return a===null?(a=zt(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $g(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Al(t,r,a,l,f,h){var g=0;if(l=t,typeof t=="function")Mf(t)&&(g=1);else if(typeof t=="string")g=z1(t,a,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Ke:return t=zt(31,a,r,f),t.elementType=Ke,t.lanes=h,t;case D:return _r(a.children,f,h,r);case L:g=8,f|=24;break;case F:return t=zt(12,a,r,f|2),t.elementType=F,t.lanes=h,t;case k:return t=zt(13,a,r,f),t.elementType=k,t.lanes=h,t;case J:return t=zt(19,a,r,f),t.elementType=J,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:g=10;break e;case G:g=9;break e;case $:g=11;break e;case X:g=14;break e;case se:g=16,l=null;break e}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=zt(g,a,r,f),r.elementType=t,r.type=l,r.lanes=h,r}function _r(t,r,a,l){return t=zt(7,t,l,r),t.lanes=a,t}function Lf(t,r,a){return t=zt(6,t,null,r),t.lanes=a,t}function Wg(t){var r=zt(18,null,null,0);return r.stateNode=t,r}function kf(t,r,a){return r=zt(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Kg=new WeakMap;function Jt(t,r){if(typeof t=="object"&&t!==null){var a=Kg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Wp(r)},Kg.set(t,r),r)}return{value:t,source:r,stack:Wp(r)}}var as=[],os=0,Nl=null,Sa=0,en=[],tn=0,vi=null,Cn=1,wn="";function Bn(t,r){as[os++]=Sa,as[os++]=Nl,Nl=t,Sa=r}function Zg(t,r,a){en[tn++]=Cn,en[tn++]=wn,en[tn++]=vi,vi=t;var l=Cn;t=wn;var f=32-Ht(l)-1;l&=~(1<<f),a+=1;var h=32-Ht(r)+f;if(30<h){var g=f-f%5;h=(l&(1<<g)-1).toString(32),l>>=g,f-=g,Cn=1<<32-Ht(r)+f|a<<f|l,wn=h+t}else Cn=1<<h|a<<f|l,wn=t}function Uf(t){t.return!==null&&(Bn(t,1),Zg(t,1,0))}function Pf(t){for(;t===Nl;)Nl=as[--os],as[os]=null,Sa=as[--os],as[os]=null;for(;t===vi;)vi=en[--tn],en[tn]=null,wn=en[--tn],en[tn]=null,Cn=en[--tn],en[tn]=null}function Jg(t,r){en[tn++]=Cn,en[tn++]=wn,en[tn++]=vi,Cn=r.id,wn=r.overflow,vi=t}var ct=null,Be=null,ye=!1,bi=null,nn=!1,Hf=Error(s(519));function Ei(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ta(Jt(r,t)),Hf}function e_(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[ut]=t,r[Nt]=l,a){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(a=0;a<qa.length;a++)me(qa[a],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":me("invalid",r),dg(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":me("invalid",r);break;case"textarea":me("invalid",r),pg(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||_v(r.textContent,a)?(l.popover!=null&&(me("beforetoggle",r),me("toggle",r)),l.onScroll!=null&&me("scroll",r),l.onScrollEnd!=null&&me("scrollend",r),l.onClick!=null&&(r.onclick=Un),r=!0):r=!1,r||Ei(t,!0)}function t_(t){for(ct=t.return;ct;)switch(ct.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:ct=ct.return}}function ls(t){if(t!==ct)return!1;if(!ye)return t_(t),ye=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||nd(t.type,t.memoizedProps)),a=!a),a&&Be&&Ei(t),t_(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Be=Rv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Be=Rv(t)}else r===27?(r=Be,ki(t.type)?(t=od,od=null,Be=t):Be=r):Be=ct?sn(t.stateNode.nextSibling):null;return!0}function yr(){Be=ct=null,ye=!1}function Bf(){var t=bi;return t!==null&&(Mt===null?Mt=t:Mt.push.apply(Mt,t),bi=null),t}function Ta(t){bi===null?bi=[t]:bi.push(t)}var zf=w(null),vr=null,zn=null;function Si(t,r,a){Y(zf,r._currentValue),r._currentValue=a}function jn(t){t._currentValue=zf.current,j(zf)}function jf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Ff(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var g=f.child;h=h.firstContext;e:for(;h!==null;){var b=h;h=f;for(var S=0;S<r.length;S++)if(b.context===r[S]){h.lanes|=a,b=h.alternate,b!==null&&(b.lanes|=a),jf(h.return,a,t),l||(g=null);break e}h=b.next}}else if(f.tag===18){if(g=f.return,g===null)throw Error(s(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),jf(g,a,t),g=null}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}}function us(t,r,a,l){t=null;for(var f=r,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var g=f.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var b=f.type;Bt(f.pendingProps.value,g.value)||(t!==null?t.push(b):t=[b])}}else if(f===we.current){if(g=f.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Wa):t=[Wa])}f=f.return}t!==null&&Ff(r,t,a,l),r.flags|=262144}function Ol(t){for(t=t.firstContext;t!==null;){if(!Bt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function br(t){vr=t,zn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ft(t){return n_(vr,t)}function xl(t,r){return vr===null&&br(t),n_(t,r)}function n_(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},zn===null){if(t===null)throw Error(s(308));zn=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else zn=zn.next=r;return a}var Uw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Pw=n.unstable_scheduleCallback,Hw=n.unstable_NormalPriority,Ze={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new Uw,data:new Map,refCount:0}}function Ca(t){t.refCount--,t.refCount===0&&Pw(Hw,function(){t.controller.abort()})}var wa=null,Vf=0,cs=0,fs=null;function Bw(t,r){if(wa===null){var a=wa=[];Vf=0,cs=Xh(),fs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,r.then(i_,i_),r}function i_(){if(--Vf===0&&wa!==null){fs!==null&&(fs.status="fulfilled");var t=wa;wa=null,cs=0,fs=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function zw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var r_=P.S;P.S=function(t,r){jy=Ut(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Bw(t,r),r_!==null&&r_(t,r)};var Er=w(null);function qf(){var t=Er.current;return t!==null?t:Ue.pooledCache}function Il(t,r){r===null?Y(Er,Er.current):Y(Er,r.pool)}function s_(){var t=qf();return t===null?null:{parent:Ze._currentValue,pool:t}}var hs=Error(s(460)),Yf=Error(s(474)),Dl=Error(s(542)),Ml={then:function(){}};function a_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function o_(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Un,Un),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,u_(t),t;default:if(typeof r.status=="string")r.then(Un,Un);else{if(t=Ue,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,u_(t),t}throw Tr=r,hs}}function Sr(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Tr=a,hs):a}}var Tr=null;function l_(){if(Tr===null)throw Error(s(459));var t=Tr;return Tr=null,t}function u_(t){if(t===hs||t===Dl)throw Error(s(483))}var ds=null,Ra=0;function Ll(t){var r=Ra;return Ra+=1,ds===null&&(ds=[]),o_(ds,t,r)}function Aa(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function kl(t,r){throw r.$$typeof===v?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function c_(t){function r(N,C){if(t){var O=N.deletions;O===null?(N.deletions=[C],N.flags|=16):O.push(C)}}function a(N,C){if(!t)return null;for(;C!==null;)r(N,C),C=C.sibling;return null}function l(N){for(var C=new Map;N!==null;)N.key!==null?C.set(N.key,N):C.set(N.index,N),N=N.sibling;return C}function f(N,C){return N=Hn(N,C),N.index=0,N.sibling=null,N}function h(N,C,O){return N.index=O,t?(O=N.alternate,O!==null?(O=O.index,O<C?(N.flags|=67108866,C):O):(N.flags|=67108866,C)):(N.flags|=1048576,C)}function g(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function b(N,C,O,H){return C===null||C.tag!==6?(C=Lf(O,N.mode,H),C.return=N,C):(C=f(C,O),C.return=N,C)}function S(N,C,O,H){var Z=O.type;return Z===D?U(N,C,O.props.children,H,O.key):C!==null&&(C.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===se&&Sr(Z)===C.type)?(C=f(C,O.props),Aa(C,O),C.return=N,C):(C=Al(O.type,O.key,O.props,null,N.mode,H),Aa(C,O),C.return=N,C)}function x(N,C,O,H){return C===null||C.tag!==4||C.stateNode.containerInfo!==O.containerInfo||C.stateNode.implementation!==O.implementation?(C=kf(O,N.mode,H),C.return=N,C):(C=f(C,O.children||[]),C.return=N,C)}function U(N,C,O,H,Z){return C===null||C.tag!==7?(C=_r(O,N.mode,H,Z),C.return=N,C):(C=f(C,O),C.return=N,C)}function z(N,C,O){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Lf(""+C,N.mode,O),C.return=N,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case E:return O=Al(C.type,C.key,C.props,null,N.mode,O),Aa(O,C),O.return=N,O;case R:return C=kf(C,N.mode,O),C.return=N,C;case se:return C=Sr(C),z(N,C,O)}if(fn(C)||At(C))return C=_r(C,N.mode,O,null),C.return=N,C;if(typeof C.then=="function")return z(N,Ll(C),O);if(C.$$typeof===B)return z(N,xl(N,C),O);kl(N,C)}return null}function I(N,C,O,H){var Z=C!==null?C.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return Z!==null?null:b(N,C,""+O,H);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case E:return O.key===Z?S(N,C,O,H):null;case R:return O.key===Z?x(N,C,O,H):null;case se:return O=Sr(O),I(N,C,O,H)}if(fn(O)||At(O))return Z!==null?null:U(N,C,O,H,null);if(typeof O.then=="function")return I(N,C,Ll(O),H);if(O.$$typeof===B)return I(N,C,xl(N,O),H);kl(N,O)}return null}function M(N,C,O,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return N=N.get(O)||null,b(C,N,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return N=N.get(H.key===null?O:H.key)||null,S(C,N,H,Z);case R:return N=N.get(H.key===null?O:H.key)||null,x(C,N,H,Z);case se:return H=Sr(H),M(N,C,O,H,Z)}if(fn(H)||At(H))return N=N.get(O)||null,U(C,N,H,Z,null);if(typeof H.then=="function")return M(N,C,O,Ll(H),Z);if(H.$$typeof===B)return M(N,C,O,xl(C,H),Z);kl(C,H)}return null}function Q(N,C,O,H){for(var Z=null,Ee=null,K=C,ue=C=0,_e=null;K!==null&&ue<O.length;ue++){K.index>ue?(_e=K,K=null):_e=K.sibling;var Se=I(N,K,O[ue],H);if(Se===null){K===null&&(K=_e);break}t&&K&&Se.alternate===null&&r(N,K),C=h(Se,C,ue),Ee===null?Z=Se:Ee.sibling=Se,Ee=Se,K=_e}if(ue===O.length)return a(N,K),ye&&Bn(N,ue),Z;if(K===null){for(;ue<O.length;ue++)K=z(N,O[ue],H),K!==null&&(C=h(K,C,ue),Ee===null?Z=K:Ee.sibling=K,Ee=K);return ye&&Bn(N,ue),Z}for(K=l(K);ue<O.length;ue++)_e=M(K,N,ue,O[ue],H),_e!==null&&(t&&_e.alternate!==null&&K.delete(_e.key===null?ue:_e.key),C=h(_e,C,ue),Ee===null?Z=_e:Ee.sibling=_e,Ee=_e);return t&&K.forEach(function(zi){return r(N,zi)}),ye&&Bn(N,ue),Z}function ee(N,C,O,H){if(O==null)throw Error(s(151));for(var Z=null,Ee=null,K=C,ue=C=0,_e=null,Se=O.next();K!==null&&!Se.done;ue++,Se=O.next()){K.index>ue?(_e=K,K=null):_e=K.sibling;var zi=I(N,K,Se.value,H);if(zi===null){K===null&&(K=_e);break}t&&K&&zi.alternate===null&&r(N,K),C=h(zi,C,ue),Ee===null?Z=zi:Ee.sibling=zi,Ee=zi,K=_e}if(Se.done)return a(N,K),ye&&Bn(N,ue),Z;if(K===null){for(;!Se.done;ue++,Se=O.next())Se=z(N,Se.value,H),Se!==null&&(C=h(Se,C,ue),Ee===null?Z=Se:Ee.sibling=Se,Ee=Se);return ye&&Bn(N,ue),Z}for(K=l(K);!Se.done;ue++,Se=O.next())Se=M(K,N,ue,Se.value,H),Se!==null&&(t&&Se.alternate!==null&&K.delete(Se.key===null?ue:Se.key),C=h(Se,C,ue),Ee===null?Z=Se:Ee.sibling=Se,Ee=Se);return t&&K.forEach(function(K1){return r(N,K1)}),ye&&Bn(N,ue),Z}function De(N,C,O,H){if(typeof O=="object"&&O!==null&&O.type===D&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case E:e:{for(var Z=O.key;C!==null;){if(C.key===Z){if(Z=O.type,Z===D){if(C.tag===7){a(N,C.sibling),H=f(C,O.props.children),H.return=N,N=H;break e}}else if(C.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===se&&Sr(Z)===C.type){a(N,C.sibling),H=f(C,O.props),Aa(H,O),H.return=N,N=H;break e}a(N,C);break}else r(N,C);C=C.sibling}O.type===D?(H=_r(O.props.children,N.mode,H,O.key),H.return=N,N=H):(H=Al(O.type,O.key,O.props,null,N.mode,H),Aa(H,O),H.return=N,N=H)}return g(N);case R:e:{for(Z=O.key;C!==null;){if(C.key===Z)if(C.tag===4&&C.stateNode.containerInfo===O.containerInfo&&C.stateNode.implementation===O.implementation){a(N,C.sibling),H=f(C,O.children||[]),H.return=N,N=H;break e}else{a(N,C);break}else r(N,C);C=C.sibling}H=kf(O,N.mode,H),H.return=N,N=H}return g(N);case se:return O=Sr(O),De(N,C,O,H)}if(fn(O))return Q(N,C,O,H);if(At(O)){if(Z=At(O),typeof Z!="function")throw Error(s(150));return O=Z.call(O),ee(N,C,O,H)}if(typeof O.then=="function")return De(N,C,Ll(O),H);if(O.$$typeof===B)return De(N,C,xl(N,O),H);kl(N,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,C!==null&&C.tag===6?(a(N,C.sibling),H=f(C,O),H.return=N,N=H):(a(N,C),H=Lf(O,N.mode,H),H.return=N,N=H),g(N)):a(N,C)}return function(N,C,O,H){try{Ra=0;var Z=De(N,C,O,H);return ds=null,Z}catch(K){if(K===hs||K===Dl)throw K;var Ee=zt(29,K,null,N.mode);return Ee.lanes=H,Ee.return=N,Ee}}}var Cr=c_(!0),f_=c_(!1),Ti=!1;function Xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ci(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ce&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Rl(t),Qg(t,null,a),r}return wl(t,l,r,a),Rl(t)}function Na(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,ng(t,a)}}function $f(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?f=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?f=h=r:h=h.next=r}else f=h=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Wf=!1;function Oa(){if(Wf){var t=fs;if(t!==null)throw t}}function xa(t,r,a,l){Wf=!1;var f=t.updateQueue;Ti=!1;var h=f.firstBaseUpdate,g=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var S=b,x=S.next;S.next=null,g===null?h=x:g.next=x,g=S;var U=t.alternate;U!==null&&(U=U.updateQueue,b=U.lastBaseUpdate,b!==g&&(b===null?U.firstBaseUpdate=x:b.next=x,U.lastBaseUpdate=S))}if(h!==null){var z=f.baseState;g=0,U=x=S=null,b=h;do{var I=b.lane&-536870913,M=I!==b.lane;if(M?(ge&I)===I:(l&I)===I){I!==0&&I===cs&&(Wf=!0),U!==null&&(U=U.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Q=t,ee=b;I=r;var De=a;switch(ee.tag){case 1:if(Q=ee.payload,typeof Q=="function"){z=Q.call(De,z,I);break e}z=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=ee.payload,I=typeof Q=="function"?Q.call(De,z,I):Q,I==null)break e;z=_({},z,I);break e;case 2:Ti=!0}}I=b.callback,I!==null&&(t.flags|=64,M&&(t.flags|=8192),M=f.callbacks,M===null?f.callbacks=[I]:M.push(I))}else M={lane:I,tag:b.tag,payload:b.payload,callback:b.callback,next:null},U===null?(x=U=M,S=z):U=U.next=M,g|=I;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;M=b,b=M.next,M.next=null,f.lastBaseUpdate=M,f.shared.pending=null}}while(!0);U===null&&(S=z),f.baseState=S,f.firstBaseUpdate=x,f.lastBaseUpdate=U,h===null&&(f.shared.lanes=0),xi|=g,t.lanes=g,t.memoizedState=z}}function h_(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function d_(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)h_(a[t],r)}var ms=w(null),Ul=w(0);function m_(t,r){t=Wn,Y(Ul,t),Y(ms,r),Wn=t|r.baseLanes}function Kf(){Y(Ul,Wn),Y(ms,ms.current)}function Zf(){Wn=Ul.current,j(ms),j(Ul)}var jt=w(null),rn=null;function Ri(t){var r=t.alternate;Y($e,$e.current&1),Y(jt,t),rn===null&&(r===null||ms.current!==null||r.memoizedState!==null)&&(rn=t)}function Jf(t){Y($e,$e.current),Y(jt,t),rn===null&&(rn=t)}function p_(t){t.tag===22?(Y($e,$e.current),Y(jt,t),rn===null&&(rn=t)):Ai()}function Ai(){Y($e,$e.current),Y(jt,jt.current)}function Ft(t){j(jt),rn===t&&(rn=null),j($e)}var $e=w(0);function Pl(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||sd(a)||ad(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Fn=0,le=null,xe=null,Je=null,Hl=!1,ps=!1,wr=!1,Bl=0,Ia=0,gs=null,jw=0;function Ve(){throw Error(s(321))}function eh(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Bt(t[a],r[a]))return!1;return!0}function th(t,r,a,l,f,h){return Fn=h,le=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,P.H=t===null||t.memoizedState===null?Z_:gh,wr=!1,h=a(l,f),wr=!1,ps&&(h=__(r,a,l,f)),g_(t),h}function g_(t){P.H=La;var r=xe!==null&&xe.next!==null;if(Fn=0,Je=xe=le=null,Hl=!1,Ia=0,gs=null,r)throw Error(s(300));t===null||et||(t=t.dependencies,t!==null&&Ol(t)&&(et=!0))}function __(t,r,a,l){le=t;var f=0;do{if(ps&&(gs=null),Ia=0,ps=!1,25<=f)throw Error(s(301));if(f+=1,Je=xe=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}P.H=J_,h=r(a,l)}while(ps);return h}function Fw(){var t=P.H,r=t.useState()[0];return r=typeof r.then=="function"?Da(r):r,t=t.useState()[0],(xe!==null?xe.memoizedState:null)!==t&&(le.flags|=1024),r}function nh(){var t=Bl!==0;return Bl=0,t}function ih(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function rh(t){if(Hl){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Hl=!1}Fn=0,Je=xe=le=null,ps=!1,Ia=Bl=0,gs=null}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?le.memoizedState=Je=t:Je=Je.next=t,Je}function We(){if(xe===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=xe.next;var r=Je===null?le.memoizedState:Je.next;if(r!==null)Je=r,xe=t;else{if(t===null)throw le.alternate===null?Error(s(467)):Error(s(310));xe=t,t={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Je===null?le.memoizedState=Je=t:Je=Je.next=t}return Je}function zl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Da(t){var r=Ia;return Ia+=1,gs===null&&(gs=[]),t=o_(gs,t,r),r=le,(Je===null?r.memoizedState:Je.next)===null&&(r=r.alternate,P.H=r===null||r.memoizedState===null?Z_:gh),t}function jl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Da(t);if(t.$$typeof===B)return ft(t)}throw Error(s(438,String(t)))}function sh(t){var r=null,a=le.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=zl(),le.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=Rt;return r.index++,a}function Gn(t,r){return typeof r=="function"?r(t):r}function Fl(t){var r=We();return ah(r,xe,t)}function ah(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,h=l.pending;if(h!==null){if(f!==null){var g=f.next;f.next=h.next,h.next=g}r.baseQueue=f=h,l.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{r=f.next;var b=g=null,S=null,x=r,U=!1;do{var z=x.lane&-536870913;if(z!==x.lane?(ge&z)===z:(Fn&z)===z){var I=x.revertLane;if(I===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),z===cs&&(U=!0);else if((Fn&I)===I){x=x.next,I===cs&&(U=!0);continue}else z={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},S===null?(b=S=z,g=h):S=S.next=z,le.lanes|=I,xi|=I;z=x.action,wr&&a(h,z),h=x.hasEagerState?x.eagerState:a(h,z)}else I={lane:z,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},S===null?(b=S=I,g=h):S=S.next=I,le.lanes|=z,xi|=z;x=x.next}while(x!==null&&x!==r);if(S===null?g=h:S.next=b,!Bt(h,t.memoizedState)&&(et=!0,U&&(a=fs,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=S,l.lastRenderedState=h}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function oh(t){var r=We(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,h=r.memoizedState;if(f!==null){a.pending=null;var g=f=f.next;do h=t(h,g.action),g=g.next;while(g!==f);Bt(h,r.memoizedState)||(et=!0),r.memoizedState=h,r.baseQueue===null&&(r.baseState=h),a.lastRenderedState=h}return[h,l]}function y_(t,r,a){var l=le,f=We(),h=ye;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=r();var g=!Bt((xe||f).memoizedState,a);if(g&&(f.memoizedState=a,et=!0),f=f.queue,ch(E_.bind(null,l,f,t),[t]),f.getSnapshot!==r||g||Je!==null&&Je.memoizedState.tag&1){if(l.flags|=2048,_s(9,{destroy:void 0},b_.bind(null,l,f,a,r),null),Ue===null)throw Error(s(349));h||(Fn&127)!==0||v_(l,r,a)}return a}function v_(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=le.updateQueue,r===null?(r=zl(),le.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function b_(t,r,a,l){r.value=a,r.getSnapshot=l,S_(r)&&T_(t)}function E_(t,r,a){return a(function(){S_(r)&&T_(t)})}function S_(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Bt(t,a)}catch{return!0}}function T_(t){var r=gr(t,2);r!==null&&Lt(r,t,2)}function lh(t){var r=Et();if(typeof t=="function"){var a=t;if(t=a(),wr){gi(!0);try{a()}finally{gi(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:t},r}function C_(t,r,a,l){return t.baseState=a,ah(t,xe,typeof l=="function"?l:Gn)}function Gw(t,r,a,l,f){if(ql(t))throw Error(s(485));if(t=r.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};P.T!==null?a(!0):h.isTransition=!1,l(h),a=r.pending,a===null?(h.next=r.pending=h,w_(r,h)):(h.next=a.next,r.pending=a.next=h)}}function w_(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var h=P.T,g={};P.T=g;try{var b=a(f,l),S=P.S;S!==null&&S(g,b),R_(t,r,b)}catch(x){uh(t,r,x)}finally{h!==null&&g.types!==null&&(h.types=g.types),P.T=h}}else try{h=a(f,l),R_(t,r,h)}catch(x){uh(t,r,x)}}function R_(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){A_(t,r,l)},function(l){return uh(t,r,l)}):A_(t,r,a)}function A_(t,r,a){r.status="fulfilled",r.value=a,N_(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,w_(t,a)))}function uh(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,N_(r),r=r.next;while(r!==l)}t.action=null}function N_(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function O_(t,r){return r}function x_(t,r){if(ye){var a=Ue.formState;if(a!==null){e:{var l=le;if(ye){if(Be){t:{for(var f=Be,h=nn;f.nodeType!==8;){if(!h){f=null;break t}if(f=sn(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Be=sn(f.nextSibling),l=f.data==="F!";break e}}Ei(l)}l=!1}l&&(r=a[0])}}return a=Et(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O_,lastRenderedState:r},a.queue=l,a=$_.bind(null,le,l),l.dispatch=a,l=lh(!1),h=ph.bind(null,le,!1,l.queue),l=Et(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=Gw.bind(null,le,f,h,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function I_(t){var r=We();return D_(r,xe,t)}function D_(t,r,a){if(r=ah(t,r,O_)[0],t=Fl(Gn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Da(r)}catch(g){throw g===hs?Dl:g}else l=r;r=We();var f=r.queue,h=f.dispatch;return a!==r.memoizedState&&(le.flags|=2048,_s(9,{destroy:void 0},Vw.bind(null,f,a),null)),[l,h,t]}function Vw(t,r){t.action=r}function M_(t){var r=We(),a=xe;if(a!==null)return D_(r,a,t);We(),r=r.memoizedState,a=We();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function _s(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=le.updateQueue,r===null&&(r=zl(),le.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function L_(){return We().memoizedState}function Gl(t,r,a,l){var f=Et();le.flags|=t,f.memoizedState=_s(1|r,{destroy:void 0},a,l===void 0?null:l)}function Vl(t,r,a,l){var f=We();l=l===void 0?null:l;var h=f.memoizedState.inst;xe!==null&&l!==null&&eh(l,xe.memoizedState.deps)?f.memoizedState=_s(r,h,a,l):(le.flags|=t,f.memoizedState=_s(1|r,h,a,l))}function k_(t,r){Gl(8390656,8,t,r)}function ch(t,r){Vl(2048,8,t,r)}function qw(t){le.flags|=4;var r=le.updateQueue;if(r===null)r=zl(),le.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function U_(t){var r=We().memoizedState;return qw({ref:r,nextImpl:t}),function(){if((Ce&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function P_(t,r){return Vl(4,2,t,r)}function H_(t,r){return Vl(4,4,t,r)}function B_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function z_(t,r,a){a=a!=null?a.concat([t]):null,Vl(4,4,B_.bind(null,r,t),a)}function fh(){}function j_(t,r){var a=We();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&eh(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function F_(t,r){var a=We();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&eh(r,l[1]))return l[0];if(l=t(),wr){gi(!0);try{t()}finally{gi(!1)}}return a.memoizedState=[l,r],l}function hh(t,r,a){return a===void 0||(Fn&1073741824)!==0&&(ge&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=Gy(),le.lanes|=t,xi|=t,a)}function G_(t,r,a,l){return Bt(a,r)?a:ms.current!==null?(t=hh(t,a,l),Bt(t,r)||(et=!0),t):(Fn&42)===0||(Fn&1073741824)!==0&&(ge&261930)===0?(et=!0,t.memoizedState=a):(t=Gy(),le.lanes|=t,xi|=t,r)}function V_(t,r,a,l,f){var h=q.p;q.p=h!==0&&8>h?h:8;var g=P.T,b={};P.T=b,ph(t,!1,r,a);try{var S=f(),x=P.S;if(x!==null&&x(b,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var U=zw(S,l);Ma(t,r,U,qt(t))}else Ma(t,r,l,qt(t))}catch(z){Ma(t,r,{then:function(){},status:"rejected",reason:z},qt())}finally{q.p=h,g!==null&&b.types!==null&&(g.types=b.types),P.T=g}}function Yw(){}function dh(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=q_(t).queue;V_(t,f,r,ie,a===null?Yw:function(){return Y_(t),a(l)})}function q_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:ie},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Y_(t){var r=q_(t);r.next===null&&(r=t.alternate.memoizedState),Ma(t,r.next.queue,{},qt())}function mh(){return ft(Wa)}function X_(){return We().memoizedState}function Q_(){return We().memoizedState}function Xw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=qt();t=Ci(a);var l=wi(r,t,a);l!==null&&(Lt(l,r,a),Na(l,r,a)),r={cache:Gf()},t.payload=r;return}r=r.return}}function Qw(t,r,a){var l=qt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ql(t)?W_(r,a):(a=Df(t,r,a,l),a!==null&&(Lt(a,t,l),K_(a,r,l)))}function $_(t,r,a){var l=qt();Ma(t,r,a,l)}function Ma(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ql(t))W_(r,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=r.lastRenderedReducer,h!==null))try{var g=r.lastRenderedState,b=h(g,a);if(f.hasEagerState=!0,f.eagerState=b,Bt(b,g))return wl(t,r,f,0),Ue===null&&Cl(),!1}catch{}if(a=Df(t,r,f,l),a!==null)return Lt(a,t,l),K_(a,r,l),!0}return!1}function ph(t,r,a,l){if(l={lane:2,revertLane:Xh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ql(t)){if(r)throw Error(s(479))}else r=Df(t,a,l,2),r!==null&&Lt(r,t,2)}function ql(t){var r=t.alternate;return t===le||r!==null&&r===le}function W_(t,r){ps=Hl=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function K_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,ng(t,a)}}var La={readContext:ft,use:jl,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};La.useEffectEvent=Ve;var Z_={readContext:ft,use:jl,useCallback:function(t,r){return Et().memoizedState=[t,r===void 0?null:r],t},useContext:ft,useEffect:k_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Gl(4194308,4,B_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Gl(4194308,4,t,r)},useInsertionEffect:function(t,r){Gl(4,2,t,r)},useMemo:function(t,r){var a=Et();r=r===void 0?null:r;var l=t();if(wr){gi(!0);try{t()}finally{gi(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=Et();if(a!==void 0){var f=a(r);if(wr){gi(!0);try{a(r)}finally{gi(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Qw.bind(null,le,t),[l.memoizedState,t]},useRef:function(t){var r=Et();return t={current:t},r.memoizedState=t},useState:function(t){t=lh(t);var r=t.queue,a=$_.bind(null,le,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:fh,useDeferredValue:function(t,r){var a=Et();return hh(a,t,r)},useTransition:function(){var t=lh(!1);return t=V_.bind(null,le,t.queue,!0,!1),Et().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=le,f=Et();if(ye){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ue===null)throw Error(s(349));(ge&127)!==0||v_(l,r,a)}f.memoizedState=a;var h={value:a,getSnapshot:r};return f.queue=h,k_(E_.bind(null,l,h,t),[t]),l.flags|=2048,_s(9,{destroy:void 0},b_.bind(null,l,h,a,r),null),a},useId:function(){var t=Et(),r=Ue.identifierPrefix;if(ye){var a=wn,l=Cn;a=(l&~(1<<32-Ht(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Bl++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=jw++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:mh,useFormState:x_,useActionState:x_,useOptimistic:function(t){var r=Et();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ph.bind(null,le,!0,a),a.dispatch=r,[t,r]},useMemoCache:sh,useCacheRefresh:function(){return Et().memoizedState=Xw.bind(null,le)},useEffectEvent:function(t){var r=Et(),a={impl:t};return r.memoizedState=a,function(){if((Ce&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},gh={readContext:ft,use:jl,useCallback:j_,useContext:ft,useEffect:ch,useImperativeHandle:z_,useInsertionEffect:P_,useLayoutEffect:H_,useMemo:F_,useReducer:Fl,useRef:L_,useState:function(){return Fl(Gn)},useDebugValue:fh,useDeferredValue:function(t,r){var a=We();return G_(a,xe.memoizedState,t,r)},useTransition:function(){var t=Fl(Gn)[0],r=We().memoizedState;return[typeof t=="boolean"?t:Da(t),r]},useSyncExternalStore:y_,useId:X_,useHostTransitionStatus:mh,useFormState:I_,useActionState:I_,useOptimistic:function(t,r){var a=We();return C_(a,xe,t,r)},useMemoCache:sh,useCacheRefresh:Q_};gh.useEffectEvent=U_;var J_={readContext:ft,use:jl,useCallback:j_,useContext:ft,useEffect:ch,useImperativeHandle:z_,useInsertionEffect:P_,useLayoutEffect:H_,useMemo:F_,useReducer:oh,useRef:L_,useState:function(){return oh(Gn)},useDebugValue:fh,useDeferredValue:function(t,r){var a=We();return xe===null?hh(a,t,r):G_(a,xe.memoizedState,t,r)},useTransition:function(){var t=oh(Gn)[0],r=We().memoizedState;return[typeof t=="boolean"?t:Da(t),r]},useSyncExternalStore:y_,useId:X_,useHostTransitionStatus:mh,useFormState:M_,useActionState:M_,useOptimistic:function(t,r){var a=We();return xe!==null?C_(a,xe,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:sh,useCacheRefresh:Q_};J_.useEffectEvent=U_;function _h(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var yh={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=qt(),f=Ci(l);f.payload=r,a!=null&&(f.callback=a),r=wi(t,f,l),r!==null&&(Lt(r,t,l),Na(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=qt(),f=Ci(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=wi(t,f,l),r!==null&&(Lt(r,t,l),Na(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=qt(),l=Ci(a);l.tag=2,r!=null&&(l.callback=r),r=wi(t,l,a),r!==null&&(Lt(r,t,a),Na(r,t,a))}};function ey(t,r,a,l,f,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):r.prototype&&r.prototype.isPureReactComponent?!ba(a,l)||!ba(f,h):!0}function ty(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&yh.enqueueReplaceState(r,r.state,null)}function Rr(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=_({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function ny(t){Tl(t)}function iy(t){console.error(t)}function ry(t){Tl(t)}function Yl(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function sy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function vh(t,r,a){return a=Ci(a),a.tag=3,a.payload={element:null},a.callback=function(){Yl(t,r)},a}function ay(t){return t=Ci(t),t.tag=3,t}function oy(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var h=l.value;t.payload=function(){return f(h)},t.callback=function(){sy(r,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){sy(r,a,l),typeof f!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function $w(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&us(r,a,f,!0),a=jt.current,a!==null){switch(a.tag){case 31:case 13:return rn===null?ru():a.alternate===null&&qe===0&&(qe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ml?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Vh(t,l,f)),!1;case 22:return a.flags|=65536,l===Ml?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Vh(t,l,f)),!1}throw Error(s(435,a.tag))}return Vh(t,l,f),ru(),!1}if(ye)return r=jt.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Hf&&(t=Error(s(422),{cause:l}),Ta(Jt(t,a)))):(l!==Hf&&(r=Error(s(423),{cause:l}),Ta(Jt(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Jt(l,a),f=vh(t.stateNode,l,f),$f(t,f),qe!==4&&(qe=2)),!1;var h=Error(s(520),{cause:l});if(h=Jt(h,a),Fa===null?Fa=[h]:Fa.push(h),qe!==4&&(qe=2),r===null)return!0;l=Jt(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=vh(a.stateNode,l,t),$f(a,t),!1;case 1:if(r=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ii===null||!Ii.has(h))))return a.flags|=65536,f&=-f,a.lanes|=f,f=ay(f),oy(f,t,a,l),$f(a,f),!1}a=a.return}while(a!==null);return!1}var bh=Error(s(461)),et=!1;function ht(t,r,a,l){r.child=t===null?f_(r,null,a,l):Cr(r,t.child,a,l)}function ly(t,r,a,l,f){a=a.render;var h=r.ref;if("ref"in l){var g={};for(var b in l)b!=="ref"&&(g[b]=l[b])}else g=l;return br(r),l=th(t,r,a,g,h,f),b=nh(),t!==null&&!et?(ih(t,r,f),Vn(t,r,f)):(ye&&b&&Uf(r),r.flags|=1,ht(t,r,l,f),r.child)}function uy(t,r,a,l,f){if(t===null){var h=a.type;return typeof h=="function"&&!Mf(h)&&h.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=h,cy(t,r,h,l,f)):(t=Al(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(h=t.child,!Nh(t,f)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:ba,a(g,l)&&t.ref===r.ref)return Vn(t,r,f)}return r.flags|=1,t=Hn(h,l),t.ref=r.ref,t.return=r,r.child=t}function cy(t,r,a,l,f){if(t!==null){var h=t.memoizedProps;if(ba(h,l)&&t.ref===r.ref)if(et=!1,r.pendingProps=l=h,Nh(t,f))(t.flags&131072)!==0&&(et=!0);else return r.lanes=t.lanes,Vn(t,r,f)}return Eh(t,r,a,l,f)}function fy(t,r,a,l){var f=l.children,h=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~h}else l=0,r.child=null;return hy(t,r,h,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Il(r,h!==null?h.cachePool:null),h!==null?m_(r,h):Kf(),p_(r);else return l=r.lanes=536870912,hy(t,r,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(Il(r,h.cachePool),m_(r,h),Ai(),r.memoizedState=null):(t!==null&&Il(r,null),Kf(),Ai());return ht(t,r,f,a),r.child}function ka(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function hy(t,r,a,l,f){var h=qf();return h=h===null?null:{parent:Ze._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Il(r,null),Kf(),p_(r),t!==null&&us(t,r,l,!0),r.childLanes=f,null}function Xl(t,r){return r=$l({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function dy(t,r,a){return Cr(r,t.child,null,a),t=Xl(r,r.pendingProps),t.flags|=2,Ft(r),r.memoizedState=null,t}function Ww(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(ye){if(l.mode==="hidden")return t=Xl(r,l),r.lanes=536870912,ka(null,t);if(Jf(r),(t=Be)?(t=wv(t,nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:vi!==null?{id:Cn,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=r,r.child=a,ct=r,Be=null)):t=null,t===null)throw Ei(r);return r.lanes=536870912,null}return Xl(r,l)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(Jf(r),f)if(r.flags&256)r.flags&=-257,r=dy(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(et||us(t,r,a,!1),f=(a&t.childLanes)!==0,et||f){if(l=Ue,l!==null&&(g=ig(l,a),g!==0&&g!==h.retryLane))throw h.retryLane=g,gr(t,g),Lt(l,t,g),bh;ru(),r=dy(t,r,a)}else t=h.treeContext,Be=sn(g.nextSibling),ct=r,ye=!0,bi=null,nn=!1,t!==null&&Jg(r,t),r=Xl(r,l),r.flags|=4096;return r}return t=Hn(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Ql(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Eh(t,r,a,l,f){return br(r),a=th(t,r,a,l,void 0,f),l=nh(),t!==null&&!et?(ih(t,r,f),Vn(t,r,f)):(ye&&l&&Uf(r),r.flags|=1,ht(t,r,a,f),r.child)}function my(t,r,a,l,f,h){return br(r),r.updateQueue=null,a=__(r,l,a,f),g_(t),l=nh(),t!==null&&!et?(ih(t,r,h),Vn(t,r,h)):(ye&&l&&Uf(r),r.flags|=1,ht(t,r,a,h),r.child)}function py(t,r,a,l,f){if(br(r),r.stateNode===null){var h=ss,g=a.contextType;typeof g=="object"&&g!==null&&(h=ft(g)),h=new a(l,h),r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=yh,r.stateNode=h,h._reactInternals=r,h=r.stateNode,h.props=l,h.state=r.memoizedState,h.refs={},Xf(r),g=a.contextType,h.context=typeof g=="object"&&g!==null?ft(g):ss,h.state=r.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(_h(r,a,g,l),h.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&yh.enqueueReplaceState(h,h.state,null),xa(r,l,h,f),Oa(),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){h=r.stateNode;var b=r.memoizedProps,S=Rr(a,b);h.props=S;var x=h.context,U=a.contextType;g=ss,typeof U=="object"&&U!==null&&(g=ft(U));var z=a.getDerivedStateFromProps;U=typeof z=="function"||typeof h.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,U||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b||x!==g)&&ty(r,h,l,g),Ti=!1;var I=r.memoizedState;h.state=I,xa(r,l,h,f),Oa(),x=r.memoizedState,b||I!==x||Ti?(typeof z=="function"&&(_h(r,a,z,l),x=r.memoizedState),(S=Ti||ey(r,a,S,l,I,x,g))?(U||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(r.flags|=4194308)):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=x),h.props=l,h.state=x,h.context=g,l=S):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{h=r.stateNode,Qf(t,r),g=r.memoizedProps,U=Rr(a,g),h.props=U,z=r.pendingProps,I=h.context,x=a.contextType,S=ss,typeof x=="object"&&x!==null&&(S=ft(x)),b=a.getDerivedStateFromProps,(x=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==z||I!==S)&&ty(r,h,l,S),Ti=!1,I=r.memoizedState,h.state=I,xa(r,l,h,f),Oa();var M=r.memoizedState;g!==z||I!==M||Ti||t!==null&&t.dependencies!==null&&Ol(t.dependencies)?(typeof b=="function"&&(_h(r,a,b,l),M=r.memoizedState),(U=Ti||ey(r,a,U,l,I,M,S)||t!==null&&t.dependencies!==null&&Ol(t.dependencies))?(x||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,M,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,M,S)),typeof h.componentDidUpdate=="function"&&(r.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=M),h.props=l,h.state=M,h.context=S,l=U):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(r.flags|=1024),l=!1)}return h=l,Ql(t,r),l=(r.flags&128)!==0,h||l?(h=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),r.flags|=1,t!==null&&l?(r.child=Cr(r,t.child,null,f),r.child=Cr(r,null,a,f)):ht(t,r,a,f),r.memoizedState=h.state,t=r.child):t=Vn(t,r,f),t}function gy(t,r,a,l){return yr(),r.flags|=256,ht(t,r,a,l),r.child}var Sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Th(t){return{baseLanes:t,cachePool:s_()}}function Ch(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Vt),t}function _y(t,r,a){var l=r.pendingProps,f=!1,h=(r.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:($e.current&2)!==0),g&&(f=!0,r.flags&=-129),g=(r.flags&32)!==0,r.flags&=-33,t===null){if(ye){if(f?Ri(r):Ai(),(t=Be)?(t=wv(t,nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:vi!==null?{id:Cn,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=r,r.child=a,ct=r,Be=null)):t=null,t===null)throw Ei(r);return ad(t)?r.lanes=32:r.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(Ai(),f=r.mode,b=$l({mode:"hidden",children:b},f),l=_r(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,l=r.child,l.memoizedState=Th(a),l.childLanes=Ch(t,g,a),r.memoizedState=Sh,ka(null,l)):(Ri(r),wh(r,b))}var S=t.memoizedState;if(S!==null&&(b=S.dehydrated,b!==null)){if(h)r.flags&256?(Ri(r),r.flags&=-257,r=Rh(t,r,a)):r.memoizedState!==null?(Ai(),r.child=t.child,r.flags|=128,r=null):(Ai(),b=l.fallback,f=r.mode,l=$l({mode:"visible",children:l.children},f),b=_r(b,f,a,null),b.flags|=2,l.return=r,b.return=r,l.sibling=b,r.child=l,Cr(r,t.child,null,a),l=r.child,l.memoizedState=Th(a),l.childLanes=Ch(t,g,a),r.memoizedState=Sh,r=ka(null,l));else if(Ri(r),ad(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var x=g.dgst;g=x,l=Error(s(419)),l.stack="",l.digest=g,Ta({value:l,source:null,stack:null}),r=Rh(t,r,a)}else if(et||us(t,r,a,!1),g=(a&t.childLanes)!==0,et||g){if(g=Ue,g!==null&&(l=ig(g,a),l!==0&&l!==S.retryLane))throw S.retryLane=l,gr(t,l),Lt(g,t,l),bh;sd(b)||ru(),r=Rh(t,r,a)}else sd(b)?(r.flags|=192,r.child=t.child,r=null):(t=S.treeContext,Be=sn(b.nextSibling),ct=r,ye=!0,bi=null,nn=!1,t!==null&&Jg(r,t),r=wh(r,l.children),r.flags|=4096);return r}return f?(Ai(),b=l.fallback,f=r.mode,S=t.child,x=S.sibling,l=Hn(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,x!==null?b=Hn(x,b):(b=_r(b,f,a,null),b.flags|=2),b.return=r,l.return=r,l.sibling=b,r.child=l,ka(null,l),l=r.child,b=t.child.memoizedState,b===null?b=Th(a):(f=b.cachePool,f!==null?(S=Ze._currentValue,f=f.parent!==S?{parent:S,pool:S}:f):f=s_(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=Ch(t,g,a),r.memoizedState=Sh,ka(t.child,l)):(Ri(r),a=t.child,t=a.sibling,a=Hn(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(g=r.deletions,g===null?(r.deletions=[t],r.flags|=16):g.push(t)),r.child=a,r.memoizedState=null,a)}function wh(t,r){return r=$l({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function $l(t,r){return t=zt(22,t,null,r),t.lanes=0,t}function Rh(t,r,a){return Cr(r,t.child,null,a),t=wh(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function yy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),jf(t.return,r,a)}function Ah(t,r,a,l,f,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:h}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=f,g.treeForkCount=h)}function vy(t,r,a){var l=r.pendingProps,f=l.revealOrder,h=l.tail;l=l.children;var g=$e.current,b=(g&2)!==0;if(b?(g=g&1|2,r.flags|=128):g&=1,Y($e,g),ht(t,r,l,a),l=ye?Sa:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yy(t,a,r);else if(t.tag===19)yy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Pl(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Ah(r,!1,f,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Pl(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Ah(r,!0,a,null,h,l);break;case"together":Ah(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Vn(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),xi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(us(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Hn(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Hn(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Nh(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Ol(t)))}function Kw(t,r,a){switch(r.tag){case 3:bt(r,r.stateNode.containerInfo),Si(r,Ze,t.memoizedState.cache),yr();break;case 27:case 5:oa(r);break;case 4:bt(r,r.stateNode.containerInfo);break;case 10:Si(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Jf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ri(r),r.flags|=128,null):(a&r.child.childLanes)!==0?_y(t,r,a):(Ri(r),t=Vn(t,r,a),t!==null?t.sibling:null);Ri(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(us(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return vy(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Y($e,$e.current),l)break;return null;case 22:return r.lanes=0,fy(t,r,a,r.pendingProps);case 24:Si(r,Ze,t.memoizedState.cache)}return Vn(t,r,a)}function by(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)et=!0;else{if(!Nh(t,a)&&(r.flags&128)===0)return et=!1,Kw(t,r,a);et=(t.flags&131072)!==0}else et=!1,ye&&(r.flags&1048576)!==0&&Zg(r,Sa,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Sr(r.elementType),r.type=t,typeof t=="function")Mf(t)?(l=Rr(t,l),r.tag=1,r=py(null,r,t,l,a)):(r.tag=0,r=Eh(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===$){r.tag=11,r=ly(null,r,t,l,a);break e}else if(f===X){r.tag=14,r=uy(null,r,t,l,a);break e}}throw r=Ln(t)||t,Error(s(306,r,""))}}return r;case 0:return Eh(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Rr(l,r.pendingProps),py(t,r,l,f,a);case 3:e:{if(bt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var h=r.memoizedState;f=h.element,Qf(t,r),xa(r,l,null,a);var g=r.memoizedState;if(l=g.cache,Si(r,Ze,l),l!==h.cache&&Ff(r,[Ze],a,!0),Oa(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=gy(t,r,l,a);break e}else if(l!==f){f=Jt(Error(s(424)),r),Ta(f),r=gy(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Be=sn(t.firstChild),ct=r,ye=!0,bi=null,nn=!0,a=f_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(yr(),l===f){r=Vn(t,r,a);break e}ht(t,r,l,a)}r=r.child}return r;case 26:return Ql(t,r),t===null?(a=Iv(r.type,null,r.pendingProps,null))?r.memoizedState=a:ye||(a=r.type,t=r.pendingProps,l=fu(he.current).createElement(a),l[ut]=r,l[Nt]=t,dt(l,a,t),st(l),r.stateNode=l):r.memoizedState=Iv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return oa(r),t===null&&ye&&(l=r.stateNode=Nv(r.type,r.pendingProps,he.current),ct=r,nn=!0,f=Be,ki(r.type)?(od=f,Be=sn(l.firstChild)):Be=f),ht(t,r,r.pendingProps.children,a),Ql(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ye&&((f=l=Be)&&(l=A1(l,r.type,r.pendingProps,nn),l!==null?(r.stateNode=l,ct=r,Be=sn(l.firstChild),nn=!1,f=!0):f=!1),f||Ei(r)),oa(r),f=r.type,h=r.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,nd(f,h)?l=null:g!==null&&nd(f,g)&&(r.flags|=32),r.memoizedState!==null&&(f=th(t,r,Fw,null,null,a),Wa._currentValue=f),Ql(t,r),ht(t,r,l,a),r.child;case 6:return t===null&&ye&&((t=a=Be)&&(a=N1(a,r.pendingProps,nn),a!==null?(r.stateNode=a,ct=r,Be=null,t=!0):t=!1),t||Ei(r)),null;case 13:return _y(t,r,a);case 4:return bt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Cr(r,null,l,a):ht(t,r,l,a),r.child;case 11:return ly(t,r,r.type,r.pendingProps,a);case 7:return ht(t,r,r.pendingProps,a),r.child;case 8:return ht(t,r,r.pendingProps.children,a),r.child;case 12:return ht(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Si(r,r.type,l.value),ht(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,br(r),f=ft(f),l=l(f),r.flags|=1,ht(t,r,l,a),r.child;case 14:return uy(t,r,r.type,r.pendingProps,a);case 15:return cy(t,r,r.type,r.pendingProps,a);case 19:return vy(t,r,a);case 31:return Ww(t,r,a);case 22:return fy(t,r,a,r.pendingProps);case 24:return br(r),l=ft(Ze),t===null?(f=qf(),f===null&&(f=Ue,h=Gf(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=a),f=h),r.memoizedState={parent:l,cache:f},Xf(r),Si(r,Ze,f)):((t.lanes&a)!==0&&(Qf(t,r),xa(r,null,null,a),Oa()),f=t.memoizedState,h=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Si(r,Ze,l)):(l=h.cache,Si(r,Ze,l),l!==f.cache&&Ff(r,[Ze],a,!0))),ht(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function qn(t){t.flags|=4}function Oh(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Xy())t.flags|=8192;else throw Tr=Ml,Yf}else t.flags&=-16777217}function Ey(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Uv(r))if(Xy())t.flags|=8192;else throw Tr=Ml,Yf}function Wl(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?eg():536870912,t.lanes|=r,Es|=r)}function Ua(t,r){if(!ye)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ze(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Zw(t,r,a){var l=r.pendingProps;switch(Pf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(r),null;case 1:return ze(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),jn(Ze),Qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ls(r)?qn(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Bf())),ze(r),null;case 26:var f=r.type,h=r.memoizedState;return t===null?(qn(r),h!==null?(ze(r),Ey(r,h)):(ze(r),Oh(r,f,null,l,a))):h?h!==t.memoizedState?(qn(r),ze(r),Ey(r,h)):(ze(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&qn(r),ze(r),Oh(r,f,t,l,a)),null;case 27:if(ol(r),a=he.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&qn(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ze(r),null}t=W.current,ls(r)?e_(r):(t=Nv(f,l,a),r.stateNode=t,qn(r))}return ze(r),null;case 5:if(ol(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&qn(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ze(r),null}if(h=W.current,ls(r))e_(r);else{var g=fu(he.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(f,{is:l.is}):g.createElement(f)}}h[ut]=r,h[Nt]=l;e:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break e;for(;g.sibling===null;){if(g.return===null||g.return===r)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=h;e:switch(dt(h,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&qn(r)}}return ze(r),Oh(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&qn(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=he.current,ls(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=ct,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[ut]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||_v(t.nodeValue,a)),t||Ei(r,!0)}else t=fu(t).createTextNode(l),t[ut]=r,r.stateNode=t}return ze(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=ls(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ut]=r}else yr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ze(r),t=!1}else a=Bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Ft(r),r):(Ft(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ze(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ls(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ut]=r}else yr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ze(r),f=!1}else f=Bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Ft(r),r):(Ft(r),null)}return Ft(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Wl(r,r.updateQueue),ze(r),null);case 4:return Qe(),t===null&&Kh(r.stateNode.containerInfo),ze(r),null;case 10:return jn(r.type),ze(r),null;case 19:if(j($e),l=r.memoizedState,l===null)return ze(r),null;if(f=(r.flags&128)!==0,h=l.rendering,h===null)if(f)Ua(l,!1);else{if(qe!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(h=Pl(t),h!==null){for(r.flags|=128,Ua(l,!1),t=h.updateQueue,r.updateQueue=t,Wl(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)$g(a,t),a=a.sibling;return Y($e,$e.current&1|2),ye&&Bn(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Ut()>tu&&(r.flags|=128,f=!0,Ua(l,!1),r.lanes=4194304)}else{if(!f)if(t=Pl(h),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Wl(r,t),Ua(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!ye)return ze(r),null}else 2*Ut()-l.renderingStartTime>tu&&a!==536870912&&(r.flags|=128,f=!0,Ua(l,!1),r.lanes=4194304);l.isBackwards?(h.sibling=r.child,r.child=h):(t=l.last,t!==null?t.sibling=h:r.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ut(),t.sibling=null,a=$e.current,Y($e,f?a&1|2:a&1),ye&&Bn(r,l.treeForkCount),t):(ze(r),null);case 22:case 23:return Ft(r),Zf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ze(r),r.subtreeFlags&6&&(r.flags|=8192)):ze(r),a=r.updateQueue,a!==null&&Wl(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&j(Er),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),jn(Ze),ze(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Jw(t,r){switch(Pf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return jn(Ze),Qe(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ol(r),null;case 31:if(r.memoizedState!==null){if(Ft(r),r.alternate===null)throw Error(s(340));yr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Ft(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));yr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return j($e),null;case 4:return Qe(),null;case 10:return jn(r.type),null;case 22:case 23:return Ft(r),Zf(),t!==null&&j(Er),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return jn(Ze),null;case 25:return null;default:return null}}function Sy(t,r){switch(Pf(r),r.tag){case 3:jn(Ze),Qe();break;case 26:case 27:case 5:ol(r);break;case 4:Qe();break;case 31:r.memoizedState!==null&&Ft(r);break;case 13:Ft(r);break;case 19:j($e);break;case 10:jn(r.type);break;case 22:case 23:Ft(r),Zf(),t!==null&&j(Er);break;case 24:jn(Ze)}}function Pa(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var h=a.create,g=a.inst;l=h(),g.destroy=l}a=a.next}while(a!==f)}}catch(b){Ne(r,r.return,b)}}function Ni(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var h=f.next;l=h;do{if((l.tag&t)===t){var g=l.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,f=r;var S=a,x=b;try{x()}catch(U){Ne(f,S,U)}}}l=l.next}while(l!==h)}}catch(U){Ne(r,r.return,U)}}function Ty(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{d_(r,a)}catch(l){Ne(t,t.return,l)}}}function Cy(t,r,a){a.props=Rr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ne(t,r,l)}}function Ha(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ne(t,r,f)}}function Rn(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ne(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ne(t,r,f)}else a.current=null}function wy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ne(t,t.return,f)}}function xh(t,r,a){try{var l=t.stateNode;E1(l,t.type,a,r),l[Nt]=r}catch(f){Ne(t,t.return,f)}}function Ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ki(t.type)||t.tag===4}function Ih(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ki(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dh(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Un));else if(l!==4&&(l===27&&ki(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Dh(t,r,a),t=t.sibling;t!==null;)Dh(t,r,a),t=t.sibling}function Kl(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&ki(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Kl(t,r,a),t=t.sibling;t!==null;)Kl(t,r,a),t=t.sibling}function Ay(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);dt(r,l,a),r[ut]=t,r[Nt]=a}catch(h){Ne(t,t.return,h)}}var Yn=!1,tt=!1,Mh=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,at=null;function e1(t,r){if(t=t.containerInfo,ed=yu,t=zg(t),Rf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var g=0,b=-1,S=-1,x=0,U=0,z=t,I=null;t:for(;;){for(var M;z!==a||f!==0&&z.nodeType!==3||(b=g+f),z!==h||l!==0&&z.nodeType!==3||(S=g+l),z.nodeType===3&&(g+=z.nodeValue.length),(M=z.firstChild)!==null;)I=z,z=M;for(;;){if(z===t)break t;if(I===a&&++x===f&&(b=g),I===h&&++U===l&&(S=g),(M=z.nextSibling)!==null)break;z=I,I=z.parentNode}z=M}a=b===-1||S===-1?null:{start:b,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(td={focusedElem:t,selectionRange:a},yu=!1,at=r;at!==null;)if(r=at,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,at=t;else for(;at!==null;){switch(r=at,h=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=r,f=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var Q=Rr(a.type,f);t=l.getSnapshotBeforeUpdate(Q,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(ee){Ne(a,a.return,ee)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)rd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,at=t;break}at=r.return}}function Oy(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qn(t,a),l&4&&Pa(5,a);break;case 1:if(Qn(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(g){Ne(a,a.return,g)}else{var f=Rr(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ne(a,a.return,g)}}l&64&&Ty(a),l&512&&Ha(a,a.return);break;case 3:if(Qn(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{d_(t,r)}catch(g){Ne(a,a.return,g)}}break;case 27:r===null&&l&4&&Ay(a);case 26:case 5:Qn(t,a),r===null&&l&4&&wy(a),l&512&&Ha(a,a.return);break;case 12:Qn(t,a);break;case 31:Qn(t,a),l&4&&Dy(t,a);break;case 13:Qn(t,a),l&4&&My(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=u1.bind(null,a),O1(t,a))));break;case 22:if(l=a.memoizedState!==null||Yn,!l){r=r!==null&&r.memoizedState!==null||tt,f=Yn;var h=tt;Yn=l,(tt=r)&&!h?$n(t,a,(a.subtreeFlags&8772)!==0):Qn(t,a),Yn=f,tt=h}break;case 30:break;default:Qn(t,a)}}function xy(t){var r=t.alternate;r!==null&&(t.alternate=null,xy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&uf(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var je=null,xt=!1;function Xn(t,r,a){for(a=a.child;a!==null;)Iy(t,r,a),a=a.sibling}function Iy(t,r,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(la,a)}catch{}switch(a.tag){case 26:tt||Rn(a,r),Xn(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tt||Rn(a,r);var l=je,f=xt;ki(a.type)&&(je=a.stateNode,xt=!1),Xn(t,r,a),Xa(a.stateNode),je=l,xt=f;break;case 5:tt||Rn(a,r);case 6:if(l=je,f=xt,je=null,Xn(t,r,a),je=l,xt=f,je!==null)if(xt)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(a.stateNode)}catch(h){Ne(a,r,h)}else try{je.removeChild(a.stateNode)}catch(h){Ne(a,r,h)}break;case 18:je!==null&&(xt?(t=je,Tv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Os(t)):Tv(je,a.stateNode));break;case 4:l=je,f=xt,je=a.stateNode.containerInfo,xt=!0,Xn(t,r,a),je=l,xt=f;break;case 0:case 11:case 14:case 15:Ni(2,a,r),tt||Ni(4,a,r),Xn(t,r,a);break;case 1:tt||(Rn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Cy(a,r,l)),Xn(t,r,a);break;case 21:Xn(t,r,a);break;case 22:tt=(l=tt)||a.memoizedState!==null,Xn(t,r,a),tt=l;break;default:Xn(t,r,a)}}function Dy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Os(t)}catch(a){Ne(r,r.return,a)}}}function My(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Os(t)}catch(a){Ne(r,r.return,a)}}function t1(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Ny),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Ny),r;default:throw Error(s(435,t.tag))}}function Zl(t,r){var a=t1(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=c1.bind(null,t,l);l.then(f,f)}})}function It(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],h=t,g=r,b=g;e:for(;b!==null;){switch(b.tag){case 27:if(ki(b.type)){je=b.stateNode,xt=!1;break e}break;case 5:je=b.stateNode,xt=!1;break e;case 3:case 4:je=b.stateNode.containerInfo,xt=!0;break e}b=b.return}if(je===null)throw Error(s(160));Iy(h,g,f),je=null,xt=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Ly(r,t),r=r.sibling}var dn=null;function Ly(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:It(r,t),Dt(t),l&4&&(Ni(3,t,t.return),Pa(3,t),Ni(5,t,t.return));break;case 1:It(r,t),Dt(t),l&512&&(tt||a===null||Rn(a,a.return)),l&64&&Yn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=dn;if(It(r,t),Dt(t),l&512&&(tt||a===null||Rn(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":h=f.getElementsByTagName("title")[0],(!h||h[fa]||h[ut]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(l),f.head.insertBefore(h,f.querySelector("head > title"))),dt(h,l,a),h[ut]=t,st(h),l=h;break e;case"link":var g=Lv("link","href",f).get(l+(a.href||""));if(g){for(var b=0;b<g.length;b++)if(h=g[b],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(b,1);break t}}h=f.createElement(l),dt(h,l,a),f.head.appendChild(h);break;case"meta":if(g=Lv("meta","content",f).get(l+(a.content||""))){for(b=0;b<g.length;b++)if(h=g[b],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(b,1);break t}}h=f.createElement(l),dt(h,l,a),f.head.appendChild(h);break;default:throw Error(s(468,l))}h[ut]=t,st(h),l=h}t.stateNode=l}else kv(f,t.type,t.stateNode);else t.stateNode=Mv(f,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?kv(f,t.type,t.stateNode):Mv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xh(t,t.memoizedProps,a.memoizedProps)}break;case 27:It(r,t),Dt(t),l&512&&(tt||a===null||Rn(a,a.return)),a!==null&&l&4&&xh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(It(r,t),Dt(t),l&512&&(tt||a===null||Rn(a,a.return)),t.flags&32){f=t.stateNode;try{Zr(f,"")}catch(Q){Ne(t,t.return,Q)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,xh(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Mh=!0);break;case 6:if(It(r,t),Dt(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Q){Ne(t,t.return,Q)}}break;case 3:if(mu=null,f=dn,dn=hu(r.containerInfo),It(r,t),dn=f,Dt(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Os(r.containerInfo)}catch(Q){Ne(t,t.return,Q)}Mh&&(Mh=!1,ky(t));break;case 4:l=dn,dn=hu(t.stateNode.containerInfo),It(r,t),Dt(t),dn=l;break;case 12:It(r,t),Dt(t);break;case 31:It(r,t),Dt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zl(t,l)));break;case 13:It(r,t),Dt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(eu=Ut()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zl(t,l)));break;case 22:f=t.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,x=Yn,U=tt;if(Yn=x||f,tt=U||S,It(r,t),tt=U,Yn=x,Dt(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||S||Yn||tt||Ar(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){S=a=r;try{if(h=S.stateNode,f)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=S.stateNode;var z=S.memoizedProps.style,I=z!=null&&z.hasOwnProperty("display")?z.display:null;b.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(Q){Ne(S,S.return,Q)}}}else if(r.tag===6){if(a===null){S=r;try{S.stateNode.nodeValue=f?"":S.memoizedProps}catch(Q){Ne(S,S.return,Q)}}}else if(r.tag===18){if(a===null){S=r;try{var M=S.stateNode;f?Cv(M,!0):Cv(S.stateNode,!1)}catch(Q){Ne(S,S.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Zl(t,a))));break;case 19:It(r,t),Dt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zl(t,l)));break;case 30:break;case 21:break;default:It(r,t),Dt(t)}}function Dt(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Ry(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,h=Ih(t);Kl(t,h,f);break;case 5:var g=a.stateNode;a.flags&32&&(Zr(g,""),a.flags&=-33);var b=Ih(t);Kl(t,b,g);break;case 3:case 4:var S=a.stateNode.containerInfo,x=Ih(t);Dh(t,x,S);break;default:throw Error(s(161))}}catch(U){Ne(t,t.return,U)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;ky(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Qn(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Oy(t,r.alternate,r),r=r.sibling}function Ar(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ni(4,r,r.return),Ar(r);break;case 1:Rn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Cy(r,r.return,a),Ar(r);break;case 27:Xa(r.stateNode);case 26:case 5:Rn(r,r.return),Ar(r);break;case 22:r.memoizedState===null&&Ar(r);break;case 30:Ar(r);break;default:Ar(r)}t=t.sibling}}function $n(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,h=r,g=h.flags;switch(h.tag){case 0:case 11:case 15:$n(f,h,a),Pa(4,h);break;case 1:if($n(f,h,a),l=h,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(x){Ne(l,l.return,x)}if(l=h,f=l.updateQueue,f!==null){var b=l.stateNode;try{var S=f.shared.hiddenCallbacks;if(S!==null)for(f.shared.hiddenCallbacks=null,f=0;f<S.length;f++)h_(S[f],b)}catch(x){Ne(l,l.return,x)}}a&&g&64&&Ty(h),Ha(h,h.return);break;case 27:Ay(h);case 26:case 5:$n(f,h,a),a&&l===null&&g&4&&wy(h),Ha(h,h.return);break;case 12:$n(f,h,a);break;case 31:$n(f,h,a),a&&g&4&&Dy(f,h);break;case 13:$n(f,h,a),a&&g&4&&My(f,h);break;case 22:h.memoizedState===null&&$n(f,h,a),Ha(h,h.return);break;case 30:break;default:$n(f,h,a)}r=r.sibling}}function Lh(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ca(a))}function kh(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Ca(t))}function mn(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Uy(t,r,a,l),r=r.sibling}function Uy(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:mn(t,r,a,l),f&2048&&Pa(9,r);break;case 1:mn(t,r,a,l);break;case 3:mn(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Ca(t)));break;case 12:if(f&2048){mn(t,r,a,l),t=r.stateNode;try{var h=r.memoizedProps,g=h.id,b=h.onPostCommit;typeof b=="function"&&b(g,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Ne(r,r.return,S)}}else mn(t,r,a,l);break;case 31:mn(t,r,a,l);break;case 13:mn(t,r,a,l);break;case 23:break;case 22:h=r.stateNode,g=r.alternate,r.memoizedState!==null?h._visibility&2?mn(t,r,a,l):Ba(t,r):h._visibility&2?mn(t,r,a,l):(h._visibility|=2,ys(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Lh(g,r);break;case 24:mn(t,r,a,l),f&2048&&kh(r.alternate,r);break;default:mn(t,r,a,l)}}function ys(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var h=t,g=r,b=a,S=l,x=g.flags;switch(g.tag){case 0:case 11:case 15:ys(h,g,b,S,f),Pa(8,g);break;case 23:break;case 22:var U=g.stateNode;g.memoizedState!==null?U._visibility&2?ys(h,g,b,S,f):Ba(h,g):(U._visibility|=2,ys(h,g,b,S,f)),f&&x&2048&&Lh(g.alternate,g);break;case 24:ys(h,g,b,S,f),f&&x&2048&&kh(g.alternate,g);break;default:ys(h,g,b,S,f)}r=r.sibling}}function Ba(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Ba(a,l),f&2048&&Lh(l.alternate,l);break;case 24:Ba(a,l),f&2048&&kh(l.alternate,l);break;default:Ba(a,l)}r=r.sibling}}var za=8192;function vs(t,r,a){if(t.subtreeFlags&za)for(t=t.child;t!==null;)Py(t,r,a),t=t.sibling}function Py(t,r,a){switch(t.tag){case 26:vs(t,r,a),t.flags&za&&t.memoizedState!==null&&j1(a,dn,t.memoizedState,t.memoizedProps);break;case 5:vs(t,r,a);break;case 3:case 4:var l=dn;dn=hu(t.stateNode.containerInfo),vs(t,r,a),dn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=za,za=16777216,vs(t,r,a),za=l):vs(t,r,a));break;default:vs(t,r,a)}}function Hy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function ja(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];at=l,zy(l,t)}Hy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 0:case 11:case 15:ja(t),t.flags&2048&&Ni(9,t,t.return);break;case 3:ja(t);break;case 12:ja(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Jl(t)):ja(t);break;default:ja(t)}}function Jl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];at=l,zy(l,t)}Hy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ni(8,r,r.return),Jl(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Jl(r));break;default:Jl(r)}t=t.sibling}}function zy(t,r){for(;at!==null;){var a=at;switch(a.tag){case 0:case 11:case 15:Ni(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ca(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,at=l;else e:for(a=t;at!==null;){l=at;var f=l.sibling,h=l.return;if(xy(l),l===a){at=null;break e}if(f!==null){f.return=h,at=f;break e}at=h}}}var n1={getCacheForType:function(t){var r=ft(Ze),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return ft(Ze).controller.signal}},i1=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Ue=null,de=null,ge=0,Ae=0,Gt=null,Oi=!1,bs=!1,Uh=!1,Wn=0,qe=0,xi=0,Nr=0,Ph=0,Vt=0,Es=0,Fa=null,Mt=null,Hh=!1,eu=0,jy=0,tu=1/0,nu=null,Ii=null,nt=0,Di=null,Ss=null,Kn=0,Bh=0,zh=null,Fy=null,Ga=0,jh=null;function qt(){return(Ce&2)!==0&&ge!==0?ge&-ge:P.T!==null?Xh():rg()}function Gy(){if(Vt===0)if((ge&536870912)===0||ye){var t=cl;cl<<=1,(cl&3932160)===0&&(cl=262144),Vt=t}else Vt=536870912;return t=jt.current,t!==null&&(t.flags|=32),Vt}function Lt(t,r,a){(t===Ue&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)&&(Ts(t,0),Mi(t,ge,Vt,!1)),ca(t,a),((Ce&2)===0||t!==Ue)&&(t===Ue&&((Ce&2)===0&&(Nr|=a),qe===4&&Mi(t,ge,Vt,!1)),An(t))}function Vy(t,r,a){if((Ce&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||ua(t,r),f=l?a1(t,r):Gh(t,r,!0),h=l;do{if(f===0){bs&&!l&&Mi(t,r,0,!1);break}else{if(a=t.current.alternate,h&&!r1(a)){f=Gh(t,r,!1),h=!1;continue}if(f===2){if(h=r,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){r=g;e:{var b=t;f=Fa;var S=b.current.memoizedState.isDehydrated;if(S&&(Ts(b,g).flags|=256),g=Gh(b,g,!1),g!==2){if(Uh&&!S){b.errorRecoveryDisabledLanes|=h,Nr|=h,f=4;break e}h=Mt,Mt=f,h!==null&&(Mt===null?Mt=h:Mt.push.apply(Mt,h))}f=g}if(h=!1,f!==2)continue}}if(f===1){Ts(t,0),Mi(t,r,0,!0);break}e:{switch(l=t,h=f,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Mi(l,r,Vt,!Oi);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=eu+300-Ut(),10<f)){if(Mi(l,r,Vt,!Oi),hl(l,0,!0)!==0)break e;Kn=r,l.timeoutHandle=Ev(qy.bind(null,l,a,Mt,nu,Hh,r,Vt,Nr,Es,Oi,h,"Throttled",-0,0),f);break e}qy(l,a,Mt,nu,Hh,r,Vt,Nr,Es,Oi,h,null,-0,0)}}break}while(!0);An(t)}function qy(t,r,a,l,f,h,g,b,S,x,U,z,I,M){if(t.timeoutHandle=-1,z=r.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},Py(r,h,z);var Q=(h&62914560)===h?eu-Ut():(h&4194048)===h?jy-Ut():0;if(Q=F1(z,Q),Q!==null){Kn=h,t.cancelPendingCommit=Q(Jy.bind(null,t,r,h,a,l,f,g,b,S,U,z,null,I,M)),Mi(t,h,g,!x);return}}Jy(t,r,h,a,l,f,g,b,S)}function r1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],h=f.getSnapshot;f=f.value;try{if(!Bt(h(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Mi(t,r,a,l){r&=~Ph,r&=~Nr,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var h=31-Ht(f),g=1<<h;l[h]=-1,f&=~g}a!==0&&tg(t,a,r)}function iu(){return(Ce&6)===0?(Va(0),!1):!0}function Fh(){if(de!==null){if(Ae===0)var t=de.return;else t=de,zn=vr=null,rh(t),ds=null,Ra=0,t=de;for(;t!==null;)Sy(t.alternate,t),t=t.return;de=null}}function Ts(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,C1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Kn=0,Fh(),Ue=t,de=a=Hn(t.current,null),ge=r,Ae=0,Gt=null,Oi=!1,bs=ua(t,r),Uh=!1,Es=Vt=Ph=Nr=xi=qe=0,Mt=Fa=null,Hh=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-Ht(l),h=1<<f;r|=t[f],l&=~h}return Wn=r,Cl(),a}function Yy(t,r){le=null,P.H=La,r===hs||r===Dl?(r=l_(),Ae=3):r===Yf?(r=l_(),Ae=4):Ae=r===bh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Gt=r,de===null&&(qe=1,Yl(t,Jt(r,t.current)))}function Xy(){var t=jt.current;return t===null?!0:(ge&4194048)===ge?rn===null:(ge&62914560)===ge||(ge&536870912)!==0?t===rn:!1}function Qy(){var t=P.H;return P.H=La,t===null?La:t}function $y(){var t=P.A;return P.A=n1,t}function ru(){qe=4,Oi||(ge&4194048)!==ge&&jt.current!==null||(bs=!0),(xi&134217727)===0&&(Nr&134217727)===0||Ue===null||Mi(Ue,ge,Vt,!1)}function Gh(t,r,a){var l=Ce;Ce|=2;var f=Qy(),h=$y();(Ue!==t||ge!==r)&&(nu=null,Ts(t,r)),r=!1;var g=qe;e:do try{if(Ae!==0&&de!==null){var b=de,S=Gt;switch(Ae){case 8:Fh(),g=6;break e;case 3:case 2:case 9:case 6:jt.current===null&&(r=!0);var x=Ae;if(Ae=0,Gt=null,Cs(t,b,S,x),a&&bs){g=0;break e}break;default:x=Ae,Ae=0,Gt=null,Cs(t,b,S,x)}}s1(),g=qe;break}catch(U){Yy(t,U)}while(!0);return r&&t.shellSuspendCounter++,zn=vr=null,Ce=l,P.H=f,P.A=h,de===null&&(Ue=null,ge=0,Cl()),g}function s1(){for(;de!==null;)Wy(de)}function a1(t,r){var a=Ce;Ce|=2;var l=Qy(),f=$y();Ue!==t||ge!==r?(nu=null,tu=Ut()+500,Ts(t,r)):bs=ua(t,r);e:do try{if(Ae!==0&&de!==null){r=de;var h=Gt;t:switch(Ae){case 1:Ae=0,Gt=null,Cs(t,r,h,1);break;case 2:case 9:if(a_(h)){Ae=0,Gt=null,Ky(r);break}r=function(){Ae!==2&&Ae!==9||Ue!==t||(Ae=7),An(t)},h.then(r,r);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:a_(h)?(Ae=0,Gt=null,Ky(r)):(Ae=0,Gt=null,Cs(t,r,h,7));break;case 5:var g=null;switch(de.tag){case 26:g=de.memoizedState;case 5:case 27:var b=de;if(g?Uv(g):b.stateNode.complete){Ae=0,Gt=null;var S=b.sibling;if(S!==null)de=S;else{var x=b.return;x!==null?(de=x,su(x)):de=null}break t}}Ae=0,Gt=null,Cs(t,r,h,5);break;case 6:Ae=0,Gt=null,Cs(t,r,h,6);break;case 8:Fh(),qe=6;break e;default:throw Error(s(462))}}o1();break}catch(U){Yy(t,U)}while(!0);return zn=vr=null,P.H=l,P.A=f,Ce=a,de!==null?0:(Ue=null,ge=0,Cl(),qe)}function o1(){for(;de!==null&&!xC();)Wy(de)}function Wy(t){var r=by(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,r===null?su(t):de=r}function Ky(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=my(a,r,r.pendingProps,r.type,void 0,ge);break;case 11:r=my(a,r,r.pendingProps,r.type.render,r.ref,ge);break;case 5:rh(r);default:Sy(a,r),r=de=$g(r,Wn),r=by(a,r,Wn)}t.memoizedProps=t.pendingProps,r===null?su(t):de=r}function Cs(t,r,a,l){zn=vr=null,rh(r),ds=null,Ra=0;var f=r.return;try{if($w(t,f,r,a,ge)){qe=1,Yl(t,Jt(a,t.current)),de=null;return}}catch(h){if(f!==null)throw de=f,h;qe=1,Yl(t,Jt(a,t.current)),de=null;return}r.flags&32768?(ye||l===1?t=!0:bs||(ge&536870912)!==0?t=!1:(Oi=t=!0,(l===2||l===9||l===3||l===6)&&(l=jt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Zy(r,t)):su(r)}function su(t){var r=t;do{if((r.flags&32768)!==0){Zy(r,Oi);return}t=r.return;var a=Zw(r.alternate,r,Wn);if(a!==null){de=a;return}if(r=r.sibling,r!==null){de=r;return}de=r=t}while(r!==null);qe===0&&(qe=5)}function Zy(t,r){do{var a=Jw(t.alternate,t);if(a!==null){a.flags&=32767,de=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){de=t;return}de=t=a}while(t!==null);qe=6,de=null}function Jy(t,r,a,l,f,h,g,b,S){t.cancelPendingCommit=null;do au();while(nt!==0);if((Ce&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(h=r.lanes|r.childLanes,h|=If,zC(t,a,h,g,b,S),t===Ue&&(de=Ue=null,ge=0),Ss=r,Di=t,Kn=a,Bh=h,zh=f,Fy=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,f1(ll,function(){return rv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,f=q.p,q.p=2,g=Ce,Ce|=4;try{e1(t,r,a)}finally{Ce=g,q.p=f,P.T=l}}nt=1,ev(),tv(),nv()}}function ev(){if(nt===1){nt=0;var t=Di,r=Ss,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var l=q.p;q.p=2;var f=Ce;Ce|=4;try{Ly(r,t);var h=td,g=zg(t.containerInfo),b=h.focusedElem,S=h.selectionRange;if(g!==b&&b&&b.ownerDocument&&Bg(b.ownerDocument.documentElement,b)){if(S!==null&&Rf(b)){var x=S.start,U=S.end;if(U===void 0&&(U=x),"selectionStart"in b)b.selectionStart=x,b.selectionEnd=Math.min(U,b.value.length);else{var z=b.ownerDocument||document,I=z&&z.defaultView||window;if(I.getSelection){var M=I.getSelection(),Q=b.textContent.length,ee=Math.min(S.start,Q),De=S.end===void 0?ee:Math.min(S.end,Q);!M.extend&&ee>De&&(g=De,De=ee,ee=g);var N=Hg(b,ee),C=Hg(b,De);if(N&&C&&(M.rangeCount!==1||M.anchorNode!==N.node||M.anchorOffset!==N.offset||M.focusNode!==C.node||M.focusOffset!==C.offset)){var O=z.createRange();O.setStart(N.node,N.offset),M.removeAllRanges(),ee>De?(M.addRange(O),M.extend(C.node,C.offset)):(O.setEnd(C.node,C.offset),M.addRange(O))}}}}for(z=[],M=b;M=M.parentNode;)M.nodeType===1&&z.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<z.length;b++){var H=z[b];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}yu=!!ed,td=ed=null}finally{Ce=f,q.p=l,P.T=a}}t.current=r,nt=2}}function tv(){if(nt===2){nt=0;var t=Di,r=Ss,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var l=q.p;q.p=2;var f=Ce;Ce|=4;try{Oy(t,r.alternate,r)}finally{Ce=f,q.p=l,P.T=a}}nt=3}}function nv(){if(nt===4||nt===3){nt=0,IC();var t=Di,r=Ss,a=Kn,l=Fy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?nt=5:(nt=0,Ss=Di=null,iv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ii=null),of(a),r=r.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(la,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=P.T,f=q.p,q.p=2,P.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var b=l[g];h(b.value,{componentStack:b.stack})}}finally{P.T=r,q.p=f}}(Kn&3)!==0&&au(),An(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===jh?Ga++:(Ga=0,jh=t):Ga=0,Va(0)}}function iv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Ca(r)))}function au(){return ev(),tv(),nv(),rv()}function rv(){if(nt!==5)return!1;var t=Di,r=Bh;Bh=0;var a=of(Kn),l=P.T,f=q.p;try{q.p=32>a?32:a,P.T=null,a=zh,zh=null;var h=Di,g=Kn;if(nt=0,Ss=Di=null,Kn=0,(Ce&6)!==0)throw Error(s(331));var b=Ce;if(Ce|=4,By(h.current),Uy(h,h.current,g,a),Ce=b,Va(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(la,h)}catch{}return!0}finally{q.p=f,P.T=l,iv(t,r)}}function sv(t,r,a){r=Jt(a,r),r=vh(t.stateNode,r,2),t=wi(t,r,2),t!==null&&(ca(t,2),An(t))}function Ne(t,r,a){if(t.tag===3)sv(t,t,a);else for(;r!==null;){if(r.tag===3){sv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ii===null||!Ii.has(l))){t=Jt(a,t),a=ay(2),l=wi(r,a,2),l!==null&&(oy(a,l,r,t),ca(l,2),An(l));break}}r=r.return}}function Vh(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new i1;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Uh=!0,f.add(a),t=l1.bind(null,t,r,a),r.then(t,t))}function l1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ue===t&&(ge&a)===a&&(qe===4||qe===3&&(ge&62914560)===ge&&300>Ut()-eu?(Ce&2)===0&&Ts(t,0):Ph|=a,Es===ge&&(Es=0)),An(t)}function av(t,r){r===0&&(r=eg()),t=gr(t,r),t!==null&&(ca(t,r),An(t))}function u1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),av(t,a)}function c1(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),av(t,a)}function f1(t,r){return nf(t,r)}var ou=null,ws=null,qh=!1,lu=!1,Yh=!1,Li=0;function An(t){t!==ws&&t.next===null&&(ws===null?ou=ws=t:ws=ws.next=t),lu=!0,qh||(qh=!0,d1())}function Va(t,r){if(!Yh&&lu){Yh=!0;do for(var a=!1,l=ou;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var h=0;else{var g=l.suspendedLanes,b=l.pingedLanes;h=(1<<31-Ht(42|t)+1)-1,h&=f&~(g&~b),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,cv(l,h))}else h=ge,h=hl(l,l===Ue?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ua(l,h)||(a=!0,cv(l,h));l=l.next}while(a);Yh=!1}}function h1(){ov()}function ov(){lu=qh=!1;var t=0;Li!==0&&T1()&&(t=Li);for(var r=Ut(),a=null,l=ou;l!==null;){var f=l.next,h=lv(l,r);h===0?(l.next=null,a===null?ou=f:a.next=f,f===null&&(ws=a)):(a=l,(t!==0||(h&3)!==0)&&(lu=!0)),l=f}nt!==0&&nt!==5||Va(t),Li!==0&&(Li=0)}function lv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-Ht(h),b=1<<g,S=f[g];S===-1?((b&a)===0||(b&l)!==0)&&(f[g]=BC(b,r)):S<=r&&(t.expiredLanes|=b),h&=~b}if(r=Ue,a=ge,a=hl(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&rf(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ua(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&rf(l),of(a)){case 2:case 8:a=Zp;break;case 32:a=ll;break;case 268435456:a=Jp;break;default:a=ll}return l=uv.bind(null,t),a=nf(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&rf(l),t.callbackPriority=2,t.callbackNode=null,2}function uv(t,r){if(nt!==0&&nt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(au()&&t.callbackNode!==a)return null;var l=ge;return l=hl(t,t===Ue?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Vy(t,l,r),lv(t,Ut()),t.callbackNode!=null&&t.callbackNode===a?uv.bind(null,t):null)}function cv(t,r){if(au())return null;Vy(t,r,!0)}function d1(){w1(function(){(Ce&6)!==0?nf(Kp,h1):ov()})}function Xh(){if(Li===0){var t=cs;t===0&&(t=ul,ul<<=1,(ul&261888)===0&&(ul=256)),Li=t}return Li}function fv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:gl(""+t)}function hv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function m1(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var h=fv((f[Nt]||null).action),g=l.submitter;g&&(r=(r=g[Nt]||null)?fv(r.formAction):g.getAttribute("formAction"),r!==null&&(h=r,g=null));var b=new bl("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Li!==0){var S=g?hv(f,g):new FormData(f);dh(a,{pending:!0,data:S,method:f.method,action:h},null,S)}}else typeof h=="function"&&(b.preventDefault(),S=g?hv(f,g):new FormData(f),dh(a,{pending:!0,data:S,method:f.method,action:h},h,S))},currentTarget:f}]})}}for(var Qh=0;Qh<xf.length;Qh++){var $h=xf[Qh],p1=$h.toLowerCase(),g1=$h[0].toUpperCase()+$h.slice(1);hn(p1,"on"+g1)}hn(Gg,"onAnimationEnd"),hn(Vg,"onAnimationIteration"),hn(qg,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(Dw,"onTransitionRun"),hn(Mw,"onTransitionStart"),hn(Lw,"onTransitionCancel"),hn(Yg,"onTransitionEnd"),Wr("onMouseEnter",["mouseout","mouseover"]),Wr("onMouseLeave",["mouseout","mouseover"]),Wr("onPointerEnter",["pointerout","pointerover"]),Wr("onPointerLeave",["pointerout","pointerover"]),hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qa));function dv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var h=void 0;if(r)for(var g=l.length-1;0<=g;g--){var b=l[g],S=b.instance,x=b.currentTarget;if(b=b.listener,S!==h&&f.isPropagationStopped())break e;h=b,f.currentTarget=x;try{h(f)}catch(U){Tl(U)}f.currentTarget=null,h=S}else for(g=0;g<l.length;g++){if(b=l[g],S=b.instance,x=b.currentTarget,b=b.listener,S!==h&&f.isPropagationStopped())break e;h=b,f.currentTarget=x;try{h(f)}catch(U){Tl(U)}f.currentTarget=null,h=S}}}}function me(t,r){var a=r[lf];a===void 0&&(a=r[lf]=new Set);var l=t+"__bubble";a.has(l)||(mv(r,t,2,!1),a.add(l))}function Wh(t,r,a){var l=0;r&&(l|=4),mv(a,t,l,r)}var uu="_reactListening"+Math.random().toString(36).slice(2);function Kh(t){if(!t[uu]){t[uu]=!0,og.forEach(function(a){a!=="selectionchange"&&(_1.has(a)||Wh(a,!1,t),Wh(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[uu]||(r[uu]=!0,Wh("selectionchange",!1,r))}}function mv(t,r,a,l){switch(Gv(r)){case 2:var f=q1;break;case 8:f=Y1;break;default:f=hd}a=f.bind(null,r,a,t),f=void 0,!_f||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Zh(t,r,a,l,f){var h=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var b=l.stateNode.containerInfo;if(b===f)break;if(g===4)for(g=l.return;g!==null;){var S=g.tag;if((S===3||S===4)&&g.stateNode.containerInfo===f)return;g=g.return}for(;b!==null;){if(g=Xr(b),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){l=h=g;continue e}b=b.parentNode}}l=l.return}vg(function(){var x=h,U=pf(a),z=[];e:{var I=Xg.get(t);if(I!==void 0){var M=bl,Q=t;switch(t){case"keypress":if(yl(a)===0)break e;case"keydown":case"keyup":M=cw;break;case"focusin":Q="focus",M=Ef;break;case"focusout":Q="blur",M=Ef;break;case"beforeblur":case"afterblur":M=Ef;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=ZC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=dw;break;case Gg:case Vg:case qg:M=tw;break;case Yg:M=pw;break;case"scroll":case"scrollend":M=WC;break;case"wheel":M=_w;break;case"copy":case"cut":case"paste":M=iw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Cg;break;case"toggle":case"beforetoggle":M=vw}var ee=(r&4)!==0,De=!ee&&(t==="scroll"||t==="scrollend"),N=ee?I!==null?I+"Capture":null:I;ee=[];for(var C=x,O;C!==null;){var H=C;if(O=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||O===null||N===null||(H=da(C,N),H!=null&&ee.push(Ya(C,H,O))),De)break;C=C.return}0<ee.length&&(I=new M(I,Q,null,a,U),z.push({event:I,listeners:ee}))}}if((r&7)===0){e:{if(I=t==="mouseover"||t==="pointerover",M=t==="mouseout"||t==="pointerout",I&&a!==mf&&(Q=a.relatedTarget||a.fromElement)&&(Xr(Q)||Q[Yr]))break e;if((M||I)&&(I=U.window===U?U:(I=U.ownerDocument)?I.defaultView||I.parentWindow:window,M?(Q=a.relatedTarget||a.toElement,M=x,Q=Q?Xr(Q):null,Q!==null&&(De=u(Q),ee=Q.tag,Q!==De||ee!==5&&ee!==27&&ee!==6)&&(Q=null)):(M=null,Q=x),M!==Q)){if(ee=Sg,H="onMouseLeave",N="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ee=Cg,H="onPointerLeave",N="onPointerEnter",C="pointer"),De=M==null?I:ha(M),O=Q==null?I:ha(Q),I=new ee(H,C+"leave",M,a,U),I.target=De,I.relatedTarget=O,H=null,Xr(U)===x&&(ee=new ee(N,C+"enter",Q,a,U),ee.target=O,ee.relatedTarget=De,H=ee),De=H,M&&Q)t:{for(ee=y1,N=M,C=Q,O=0,H=N;H;H=ee(H))O++;H=0;for(var Z=C;Z;Z=ee(Z))H++;for(;0<O-H;)N=ee(N),O--;for(;0<H-O;)C=ee(C),H--;for(;O--;){if(N===C||C!==null&&N===C.alternate){ee=N;break t}N=ee(N),C=ee(C)}ee=null}else ee=null;M!==null&&pv(z,I,M,ee,!1),Q!==null&&De!==null&&pv(z,De,Q,ee,!0)}}e:{if(I=x?ha(x):window,M=I.nodeName&&I.nodeName.toLowerCase(),M==="select"||M==="input"&&I.type==="file")var Ee=Dg;else if(xg(I))if(Mg)Ee=Ow;else{Ee=Aw;var K=Rw}else M=I.nodeName,!M||M.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?x&&df(x.elementType)&&(Ee=Dg):Ee=Nw;if(Ee&&(Ee=Ee(t,x))){Ig(z,Ee,a,U);break e}K&&K(t,I,x),t==="focusout"&&x&&I.type==="number"&&x.memoizedProps.value!=null&&hf(I,"number",I.value)}switch(K=x?ha(x):window,t){case"focusin":(xg(K)||K.contentEditable==="true")&&(ns=K,Af=x,Ea=null);break;case"focusout":Ea=Af=ns=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,jg(z,a,U);break;case"selectionchange":if(Iw)break;case"keydown":case"keyup":jg(z,a,U)}var ue;if(Tf)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ts?Ng(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(wg&&a.locale!=="ko"&&(ts||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ts&&(ue=bg()):(yi=U,yf="value"in yi?yi.value:yi.textContent,ts=!0)),K=cu(x,_e),0<K.length&&(_e=new Tg(_e,t,null,a,U),z.push({event:_e,listeners:K}),ue?_e.data=ue:(ue=Og(a),ue!==null&&(_e.data=ue)))),(ue=Ew?Sw(t,a):Tw(t,a))&&(_e=cu(x,"onBeforeInput"),0<_e.length&&(K=new Tg("onBeforeInput","beforeinput",null,a,U),z.push({event:K,listeners:_e}),K.data=ue)),m1(z,t,x,a,U)}dv(z,r)})}function Ya(t,r,a){return{instance:t,listener:r,currentTarget:a}}function cu(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=da(t,a),f!=null&&l.unshift(Ya(t,f,h)),f=da(t,r),f!=null&&l.push(Ya(t,f,h))),t.tag===3)return l;t=t.return}return[]}function y1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pv(t,r,a,l,f){for(var h=r._reactName,g=[];a!==null&&a!==l;){var b=a,S=b.alternate,x=b.stateNode;if(b=b.tag,S!==null&&S===l)break;b!==5&&b!==26&&b!==27||x===null||(S=x,f?(x=da(a,h),x!=null&&g.unshift(Ya(a,x,S))):f||(x=da(a,h),x!=null&&g.push(Ya(a,x,S)))),a=a.return}g.length!==0&&t.push({event:r,listeners:g})}var v1=/\r\n?/g,b1=/\u0000|\uFFFD/g;function gv(t){return(typeof t=="string"?t:""+t).replace(v1,`
`).replace(b1,"")}function _v(t,r){return r=gv(r),gv(t)===r}function Ie(t,r,a,l,f,h){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Zr(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Zr(t,""+l);break;case"className":ml(t,"class",l);break;case"tabIndex":ml(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ml(t,a,l);break;case"style":_g(t,l,h);break;case"data":if(r!=="object"){ml(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=gl(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(r!=="input"&&Ie(t,r,"name",f.name,f,null),Ie(t,r,"formEncType",f.formEncType,f,null),Ie(t,r,"formMethod",f.formMethod,f,null),Ie(t,r,"formTarget",f.formTarget,f,null)):(Ie(t,r,"encType",f.encType,f,null),Ie(t,r,"method",f.method,f,null),Ie(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=gl(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Un);break;case"onScroll":l!=null&&me("scroll",t);break;case"onScrollEnd":l!=null&&me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=gl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":me("beforetoggle",t),me("toggle",t),dl(t,"popover",l);break;case"xlinkActuate":kn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=QC.get(a)||a,dl(t,a,l))}}function Jh(t,r,a,l,f,h){switch(a){case"style":_g(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Zr(t,l):(typeof l=="number"||typeof l=="bigint")&&Zr(t,""+l);break;case"onScroll":l!=null&&me("scroll",t);break;case"onScrollEnd":l!=null&&me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),h=t[Nt]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(r,h,f),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):dl(t,a,l)}}}function dt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",t),me("load",t);var l=!1,f=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ie(t,r,h,g,a,null)}}f&&Ie(t,r,"srcSet",a.srcSet,a,null),l&&Ie(t,r,"src",a.src,a,null);return;case"input":me("invalid",t);var b=h=g=f=null,S=null,x=null;for(l in a)if(a.hasOwnProperty(l)){var U=a[l];if(U!=null)switch(l){case"name":f=U;break;case"type":g=U;break;case"checked":S=U;break;case"defaultChecked":x=U;break;case"value":h=U;break;case"defaultValue":b=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,r));break;default:Ie(t,r,l,U,a,null)}}dg(t,h,b,S,x,g,f,!1);return;case"select":me("invalid",t),l=g=h=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":h=b;break;case"defaultValue":g=b;break;case"multiple":l=b;default:Ie(t,r,f,b,a,null)}r=h,a=g,t.multiple=!!l,r!=null?Kr(t,!!l,r,!1):a!=null&&Kr(t,!!l,a,!0);return;case"textarea":me("invalid",t),h=f=l=null;for(g in a)if(a.hasOwnProperty(g)&&(b=a[g],b!=null))switch(g){case"value":l=b;break;case"defaultValue":f=b;break;case"children":h=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ie(t,r,g,b,a,null)}pg(t,l,f,h);return;case"option":for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null)&&(S==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Ie(t,r,S,l,a,null));return;case"dialog":me("beforetoggle",t),me("toggle",t),me("cancel",t),me("close",t);break;case"iframe":case"object":me("load",t);break;case"video":case"audio":for(l=0;l<qa.length;l++)me(qa[l],t);break;case"image":me("error",t),me("load",t);break;case"details":me("toggle",t);break;case"embed":case"source":case"link":me("error",t),me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ie(t,r,x,l,a,null)}return;default:if(df(r)){for(U in a)a.hasOwnProperty(U)&&(l=a[U],l!==void 0&&Jh(t,r,U,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ie(t,r,b,l,a,null))}function E1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,g=null,b=null,S=null,x=null,U=null;for(M in a){var z=a[M];if(a.hasOwnProperty(M)&&z!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":S=z;default:l.hasOwnProperty(M)||Ie(t,r,M,null,l,z)}}for(var I in l){var M=l[I];if(z=a[I],l.hasOwnProperty(I)&&(M!=null||z!=null))switch(I){case"type":h=M;break;case"name":f=M;break;case"checked":x=M;break;case"defaultChecked":U=M;break;case"value":g=M;break;case"defaultValue":b=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(137,r));break;default:M!==z&&Ie(t,r,I,M,l,z)}}ff(t,g,b,S,x,U,h,f);return;case"select":M=g=b=I=null;for(h in a)if(S=a[h],a.hasOwnProperty(h)&&S!=null)switch(h){case"value":break;case"multiple":M=S;default:l.hasOwnProperty(h)||Ie(t,r,h,null,l,S)}for(f in l)if(h=l[f],S=a[f],l.hasOwnProperty(f)&&(h!=null||S!=null))switch(f){case"value":I=h;break;case"defaultValue":b=h;break;case"multiple":g=h;default:h!==S&&Ie(t,r,f,h,l,S)}r=b,a=g,l=M,I!=null?Kr(t,!!a,I,!1):!!l!=!!a&&(r!=null?Kr(t,!!a,r,!0):Kr(t,!!a,a?[]:"",!1));return;case"textarea":M=I=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ie(t,r,b,null,l,f)}for(g in l)if(f=l[g],h=a[g],l.hasOwnProperty(g)&&(f!=null||h!=null))switch(g){case"value":I=f;break;case"defaultValue":M=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==h&&Ie(t,r,g,f,l,h)}mg(t,I,M);return;case"option":for(var Q in a)I=a[Q],a.hasOwnProperty(Q)&&I!=null&&!l.hasOwnProperty(Q)&&(Q==="selected"?t.selected=!1:Ie(t,r,Q,null,l,I));for(S in l)I=l[S],M=a[S],l.hasOwnProperty(S)&&I!==M&&(I!=null||M!=null)&&(S==="selected"?t.selected=I&&typeof I!="function"&&typeof I!="symbol":Ie(t,r,S,I,l,M));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ee in a)I=a[ee],a.hasOwnProperty(ee)&&I!=null&&!l.hasOwnProperty(ee)&&Ie(t,r,ee,null,l,I);for(x in l)if(I=l[x],M=a[x],l.hasOwnProperty(x)&&I!==M&&(I!=null||M!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,r));break;default:Ie(t,r,x,I,l,M)}return;default:if(df(r)){for(var De in a)I=a[De],a.hasOwnProperty(De)&&I!==void 0&&!l.hasOwnProperty(De)&&Jh(t,r,De,void 0,l,I);for(U in l)I=l[U],M=a[U],!l.hasOwnProperty(U)||I===M||I===void 0&&M===void 0||Jh(t,r,U,I,l,M);return}}for(var N in a)I=a[N],a.hasOwnProperty(N)&&I!=null&&!l.hasOwnProperty(N)&&Ie(t,r,N,null,l,I);for(z in l)I=l[z],M=a[z],!l.hasOwnProperty(z)||I===M||I==null&&M==null||Ie(t,r,z,I,l,M)}function yv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function S1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],h=f.transferSize,g=f.initiatorType,b=f.duration;if(h&&b&&yv(g)){for(g=0,b=f.responseEnd,l+=1;l<a.length;l++){var S=a[l],x=S.startTime;if(x>b)break;var U=S.transferSize,z=S.initiatorType;U&&yv(z)&&(S=S.responseEnd,g+=U*(S<b?1:(b-x)/(S-x)))}if(--l,r+=8*(h+g)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ed=null,td=null;function fu(t){return t.nodeType===9?t:t.ownerDocument}function vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function nd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var id=null;function T1(){var t=window.event;return t&&t.type==="popstate"?t===id?!1:(id=t,!0):(id=null,!1)}var Ev=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,Sv=typeof Promise=="function"?Promise:void 0,w1=typeof queueMicrotask=="function"?queueMicrotask:typeof Sv<"u"?function(t){return Sv.resolve(null).then(t).catch(R1)}:Ev;function R1(t){setTimeout(function(){throw t})}function ki(t){return t==="head"}function Tv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Os(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Xa(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Xa(a);for(var h=a.firstChild;h;){var g=h.nextSibling,b=h.nodeName;h[fa]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=g}}else a==="body"&&Xa(t.ownerDocument.body);a=f}while(a);Os(r)}function Cv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function rd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rd(a),uf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function A1(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fa])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=sn(t.nextSibling),t===null)break}return null}function N1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=sn(t.nextSibling),t===null))return null;return t}function wv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=sn(t.nextSibling),t===null))return null;return t}function sd(t){return t.data==="$?"||t.data==="$~"}function ad(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function O1(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function sn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var od=null;function Rv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return sn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Av(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Nv(t,r,a){switch(r=fu(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Xa(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);uf(t)}var an=new Map,Ov=new Set;function hu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zn=q.d;q.d={f:x1,r:I1,D:D1,C:M1,L:L1,m:k1,X:P1,S:U1,M:H1};function x1(){var t=Zn.f(),r=iu();return t||r}function I1(t){var r=Qr(t);r!==null&&r.tag===5&&r.type==="form"?Y_(r):Zn.r(t)}var Rs=typeof document>"u"?null:document;function xv(t,r,a){var l=Rs;if(l&&typeof r=="string"&&r){var f=Kt(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Ov.has(f)||(Ov.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),dt(r,"link",t),st(r),l.head.appendChild(r)))}}function D1(t){Zn.D(t),xv("dns-prefetch",t,null)}function M1(t,r){Zn.C(t,r),xv("preconnect",t,r)}function L1(t,r,a){Zn.L(t,r,a);var l=Rs;if(l&&t&&r){var f='link[rel="preload"][as="'+Kt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Kt(a.imageSizes)+'"]')):f+='[href="'+Kt(t)+'"]';var h=f;switch(r){case"style":h=As(t);break;case"script":h=Ns(t)}an.has(h)||(t=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),an.set(h,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Qa(h))||r==="script"&&l.querySelector($a(h))||(r=l.createElement("link"),dt(r,"link",t),st(r),l.head.appendChild(r)))}}function k1(t,r){Zn.m(t,r);var a=Rs;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Kt(l)+'"][href="'+Kt(t)+'"]',h=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ns(t)}if(!an.has(h)&&(t=_({rel:"modulepreload",href:t},r),an.set(h,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($a(h)))return}l=a.createElement("link"),dt(l,"link",t),st(l),a.head.appendChild(l)}}}function U1(t,r,a){Zn.S(t,r,a);var l=Rs;if(l&&t){var f=$r(l).hoistableStyles,h=As(t);r=r||"default";var g=f.get(h);if(!g){var b={loading:0,preload:null};if(g=l.querySelector(Qa(h)))b.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":r},a),(a=an.get(h))&&ld(t,a);var S=g=l.createElement("link");st(S),dt(S,"link",t),S._p=new Promise(function(x,U){S.onload=x,S.onerror=U}),S.addEventListener("load",function(){b.loading|=1}),S.addEventListener("error",function(){b.loading|=2}),b.loading|=4,du(g,r,l)}g={type:"stylesheet",instance:g,count:1,state:b},f.set(h,g)}}}function P1(t,r){Zn.X(t,r);var a=Rs;if(a&&t){var l=$r(a).hoistableScripts,f=Ns(t),h=l.get(f);h||(h=a.querySelector($a(f)),h||(t=_({src:t,async:!0},r),(r=an.get(f))&&ud(t,r),h=a.createElement("script"),st(h),dt(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function H1(t,r){Zn.M(t,r);var a=Rs;if(a&&t){var l=$r(a).hoistableScripts,f=Ns(t),h=l.get(f);h||(h=a.querySelector($a(f)),h||(t=_({src:t,async:!0,type:"module"},r),(r=an.get(f))&&ud(t,r),h=a.createElement("script"),st(h),dt(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function Iv(t,r,a,l){var f=(f=he.current)?hu(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=As(a.href),a=$r(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=As(a.href);var h=$r(f).hoistableStyles,g=h.get(t);if(g||(f=f.ownerDocument||f,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=f.querySelector(Qa(t)))&&!h._p&&(g.instance=h,g.state.loading=5),an.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},an.set(t,a),h||B1(f,t,a,g.state))),r&&l===null)throw Error(s(528,""));return g}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ns(a),a=$r(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function As(t){return'href="'+Kt(t)+'"'}function Qa(t){return'link[rel="stylesheet"]['+t+"]"}function Dv(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function B1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),dt(r,"link",a),st(r),t.head.appendChild(r))}function Ns(t){return'[src="'+Kt(t)+'"]'}function $a(t){return"script[async]"+t}function Mv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Kt(a.href)+'"]');if(l)return r.instance=l,st(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),st(l),dt(l,"style",f),du(l,a.precedence,t),r.instance=l;case"stylesheet":f=As(a.href);var h=t.querySelector(Qa(f));if(h)return r.state.loading|=4,r.instance=h,st(h),h;l=Dv(a),(f=an.get(f))&&ld(l,f),h=(t.ownerDocument||t).createElement("link"),st(h);var g=h;return g._p=new Promise(function(b,S){g.onload=b,g.onerror=S}),dt(h,"link",l),r.state.loading|=4,du(h,a.precedence,t),r.instance=h;case"script":return h=Ns(a.src),(f=t.querySelector($a(h)))?(r.instance=f,st(f),f):(l=a,(f=an.get(h))&&(l=_({},a),ud(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),st(f),dt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,du(l,a.precedence,t));return r.instance}function du(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,h=f,g=0;g<l.length;g++){var b=l[g];if(b.dataset.precedence===r)h=b;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function ld(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function ud(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var mu=null;function Lv(t,r,a){if(mu===null){var l=new Map,f=mu=new Map;f.set(a,l)}else f=mu,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var h=a[f];if(!(h[fa]||h[ut]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(r)||"";g=t+g;var b=l.get(g);b?b.push(h):l.set(g,[h])}}return l}function kv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function z1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Uv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function j1(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=As(l.href),h=r.querySelector(Qa(f));if(h){r=h._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=pu.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=h,st(h);return}h=r.ownerDocument||r,l=Dv(l),(f=an.get(f))&&ld(l,f),h=h.createElement("link"),st(h);var g=h;g._p=new Promise(function(b,S){g.onload=b,g.onerror=S}),dt(h,"link",l),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=pu.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var cd=0;function F1(t,r){return t.stylesheets&&t.count===0&&_u(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&_u(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+r);0<t.imgBytes&&cd===0&&(cd=62500*S1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_u(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>cd?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function pu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_u(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gu=null;function _u(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gu=new Map,r.forEach(G1,t),gu=null,pu.call(t))}function G1(t,r){if(!(r.state.loading&4)){var a=gu.get(t);if(a)var l=a.get(null);else{a=new Map,gu.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var g=f[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}f=r.instance,g=f.getAttribute("data-precedence"),h=a.get(g)||l,h===l&&a.set(null,f),a.set(g,f),this.count++,l=pu.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Wa={$$typeof:B,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function V1(t,r,a,l,f,h,g,b,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sf(0),this.hiddenUpdates=sf(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Pv(t,r,a,l,f,h,g,b,S,x,U,z){return t=new V1(t,r,a,g,S,x,U,z,b),r=1,h===!0&&(r|=24),h=zt(3,null,null,r),t.current=h,h.stateNode=t,r=Gf(),r.refCount++,t.pooledCache=r,r.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:r},Xf(h),t}function Hv(t){return t?(t=ss,t):ss}function Bv(t,r,a,l,f,h){f=Hv(f),l.context===null?l.context=f:l.pendingContext=f,l=Ci(r),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=wi(t,l,r),a!==null&&(Lt(a,t,r),Na(a,t,r))}function zv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function fd(t,r){zv(t,r),(t=t.alternate)&&zv(t,r)}function jv(t){if(t.tag===13||t.tag===31){var r=gr(t,67108864);r!==null&&Lt(r,t,67108864),fd(t,67108864)}}function Fv(t){if(t.tag===13||t.tag===31){var r=qt();r=af(r);var a=gr(t,r);a!==null&&Lt(a,t,r),fd(t,r)}}var yu=!0;function q1(t,r,a,l){var f=P.T;P.T=null;var h=q.p;try{q.p=2,hd(t,r,a,l)}finally{q.p=h,P.T=f}}function Y1(t,r,a,l){var f=P.T;P.T=null;var h=q.p;try{q.p=8,hd(t,r,a,l)}finally{q.p=h,P.T=f}}function hd(t,r,a,l){if(yu){var f=dd(l);if(f===null)Zh(t,r,l,vu,a),Vv(t,l);else if(Q1(f,t,r,a,l))l.stopPropagation();else if(Vv(t,l),r&4&&-1<X1.indexOf(t)){for(;f!==null;){var h=Qr(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=fr(h.pendingLanes);if(g!==0){var b=h;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var S=1<<31-Ht(g);b.entanglements[1]|=S,g&=~S}An(h),(Ce&6)===0&&(tu=Ut()+500,Va(0))}}break;case 31:case 13:b=gr(h,2),b!==null&&Lt(b,h,2),iu(),fd(h,2)}if(h=dd(l),h===null&&Zh(t,r,l,vu,a),h===f)break;f=h}f!==null&&l.stopPropagation()}else Zh(t,r,l,null,a)}}function dd(t){return t=pf(t),md(t)}var vu=null;function md(t){if(vu=null,t=Xr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=c(r),t!==null)return t;t=null}else if(a===31){if(t=d(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return vu=t,null}function Gv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(DC()){case Kp:return 2;case Zp:return 8;case ll:case MC:return 32;case Jp:return 268435456;default:return 32}default:return 32}}var pd=!1,Ui=null,Pi=null,Hi=null,Ka=new Map,Za=new Map,Bi=[],X1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vv(t,r){switch(t){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Ka.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(r.pointerId)}}function Ja(t,r,a,l,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[f]},r!==null&&(r=Qr(r),r!==null&&jv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Q1(t,r,a,l,f){switch(r){case"focusin":return Ui=Ja(Ui,t,r,a,l,f),!0;case"dragenter":return Pi=Ja(Pi,t,r,a,l,f),!0;case"mouseover":return Hi=Ja(Hi,t,r,a,l,f),!0;case"pointerover":var h=f.pointerId;return Ka.set(h,Ja(Ka.get(h)||null,t,r,a,l,f)),!0;case"gotpointercapture":return h=f.pointerId,Za.set(h,Ja(Za.get(h)||null,t,r,a,l,f)),!0}return!1}function qv(t){var r=Xr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){t.blockedOn=r,sg(t.priority,function(){Fv(a)});return}}else if(r===31){if(r=d(a),r!==null){t.blockedOn=r,sg(t.priority,function(){Fv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=dd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);mf=l,a.target.dispatchEvent(l),mf=null}else return r=Qr(a),r!==null&&jv(r),t.blockedOn=a,!1;r.shift()}return!0}function Yv(t,r,a){bu(t)&&a.delete(r)}function $1(){pd=!1,Ui!==null&&bu(Ui)&&(Ui=null),Pi!==null&&bu(Pi)&&(Pi=null),Hi!==null&&bu(Hi)&&(Hi=null),Ka.forEach(Yv),Za.forEach(Yv)}function Eu(t,r){t.blockedOn===r&&(t.blockedOn=null,pd||(pd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$1)))}var Su=null;function Xv(t){Su!==t&&(Su=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Su===t&&(Su=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(md(l||a)===null)continue;break}var h=Qr(a);h!==null&&(t.splice(r,3),r-=3,dh(h,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Os(t){function r(S){return Eu(S,t)}Ui!==null&&Eu(Ui,t),Pi!==null&&Eu(Pi,t),Hi!==null&&Eu(Hi,t),Ka.forEach(r),Za.forEach(r);for(var a=0;a<Bi.length;a++){var l=Bi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Bi.length&&(a=Bi[0],a.blockedOn===null);)qv(a),a.blockedOn===null&&Bi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],h=a[l+1],g=f[Nt]||null;if(typeof h=="function")g||Xv(a);else if(g){var b=null;if(h&&h.hasAttribute("formAction")){if(f=h,g=h[Nt]||null)b=g.formAction;else if(md(f)!==null)continue}else b=g.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Xv(a)}}}function Qv(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return f=g})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function gd(t){this._internalRoot=t}Tu.prototype.render=gd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=qt();Bv(a,l,t,r,null,null)},Tu.prototype.unmount=gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Bv(t.current,2,null,t,null,null),iu(),r[Yr]=null}};function Tu(t){this._internalRoot=t}Tu.prototype.unstable_scheduleHydration=function(t){if(t){var r=rg();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Bi.length&&r!==0&&r<Bi[a].priority;a++);Bi.splice(a,0,t),a===0&&qv(t)}};var $v=e.version;if($v!=="19.2.3")throw Error(s(527,$v,"19.2.3"));q.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var W1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{la=Cu.inject(W1),Pt=Cu}catch{}}return to.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=ny,h=iy,g=ry;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(h=r.onCaughtError),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),r=Pv(t,1,!1,null,null,a,l,null,f,h,g,Qv),t[Yr]=r.current,Kh(t),new gd(r)},to.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",h=ny,g=iy,b=ry,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),r=Pv(t,1,!0,r,a??null,l,f,S,h,g,b,Qv),r.context=Hv(null),a=r.current,l=qt(),l=af(l),f=Ci(l),f.callback=null,wi(a,f,l),a=l,r.current.lanes=a,ca(r,a),An(r),t[Yr]=r.current,Kh(t),new Tu(r)},to.version="19.2.3",to}var sb;function oR(){if(sb)return vd.exports;sb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vd.exports=aR(),vd.exports}var lR=oR();const uR="modulepreload",cR=function(n){return"/AC9_internationalization/"+n},ab={},fR=function(e,i,s){let o=Promise.resolve();if(i&&i.length>0){let m=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");o=m(i.map(p=>{if(p=cR(p),p in ab)return;ab[p]=!0;const y=p.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const v=document.createElement("link");if(v.rel=y?"stylesheet":uR,y||(v.as="script"),v.crossOrigin="",v.href=p,d&&v.setAttribute("nonce",d),document.head.appendChild(v),y)return new Promise((E,R)=>{v.addEventListener("load",E),v.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&u(d.reason);return e().catch(u)})};var Td={exports:{}},Cd={};var ob;function hR(){if(ob)return Cd;ob=1;var n=Cc();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var i=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,o=n.useRef,u=n.useEffect,c=n.useMemo,d=n.useDebugValue;return Cd.useSyncExternalStoreWithSelector=function(m,p,y,_,v){var E=o(null);if(E.current===null){var R={hasValue:!1,value:null};E.current=R}else R=E.current;E=c(function(){function L(k){if(!F){if(F=!0,G=k,k=_(k),v!==void 0&&R.hasValue){var J=R.value;if(v(J,k))return B=J}return B=k}if(J=B,i(G,k))return J;var X=_(k);return v!==void 0&&v(J,X)?(G=k,J):(G=k,B=X)}var F=!1,G,B,$=y===void 0?null:y;return[function(){return L(p())},$===null?void 0:function(){return L($())}]},[p,y,_,v]);var D=s(m,E[0],E[1]);return u(function(){R.hasValue=!0,R.value=D},[D]),d(D),D},Cd}var lb;function dR(){return lb||(lb=1,Td.exports=hR()),Td.exports}var mR=dR();function pR(n){n()}function gR(){let n=null,e=null;return{clear(){n=null,e=null},notify(){pR(()=>{let i=n;for(;i;)i.callback(),i=i.next})},get(){const i=[];let s=n;for(;s;)i.push(s),s=s.next;return i},subscribe(i){let s=!0;const o=e={callback:i,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!s||n===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var ub={notify(){},get:()=>[]};function _R(n,e){let i,s=ub,o=0,u=!1;function c(D){y();const L=s.subscribe(D);let F=!1;return()=>{F||(F=!0,L(),_())}}function d(){s.notify()}function m(){R.onStateChange&&R.onStateChange()}function p(){return u}function y(){o++,i||(i=n.subscribe(m),s=gR())}function _(){o--,i&&o===0&&(i(),i=void 0,s.clear(),s=ub)}function v(){u||(u=!0,y())}function E(){u&&(u=!1,_())}const R={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:p,trySubscribe:v,tryUnsubscribe:E,getListeners:()=>s};return R}var yR=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vR=yR(),bR=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ER=bR(),SR=()=>vR||ER?A.useLayoutEffect:A.useEffect,TR=SR(),CR=Symbol.for("react-redux-context"),wR=typeof globalThis<"u"?globalThis:{};function RR(){if(!A.createContext)return{};const n=wR[CR]??=new Map;let e=n.get(A.createContext);return e||(e=A.createContext(null),n.set(A.createContext,e)),e}var Ji=RR();function AR(n){const{children:e,context:i,serverState:s,store:o}=n,u=A.useMemo(()=>{const m=_R(o);return{store:o,subscription:m,getServerState:s?()=>s:void 0}},[o,s]),c=A.useMemo(()=>o.getState(),[o]);TR(()=>{const{subscription:m}=u;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==o.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[u,c]);const d=i||Ji;return A.createElement(d.Provider,{value:u},e)}var NR=AR;function Bm(n=Ji){return function(){return A.useContext(n)}}var sS=Bm();function aS(n=Ji){const e=n===Ji?sS:Bm(n),i=()=>{const{store:s}=e();return s};return Object.assign(i,{withTypes:()=>i}),i}var OR=aS();function xR(n=Ji){const e=n===Ji?OR:aS(n),i=()=>e().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var IR=xR(),DR=(n,e)=>n===e;function MR(n=Ji){const e=n===Ji?sS:Bm(n),i=(s,o={})=>{const{equalityFn:u=DR}=typeof o=="function"?{equalityFn:o}:o,c=e(),{store:d,subscription:m,getServerState:p}=c;A.useRef(!0);const y=A.useCallback({[s.name](v){return s(v)}}[s.name],[s]),_=mR.useSyncExternalStoreWithSelector(m.addNestedSub,d.getState,p||d.getState,y,u);return A.useDebugValue(_),_};return Object.assign(i,{withTypes:()=>i}),i}var Jn=MR();var cb="popstate";function LR(n={}){function e(s,o){let{pathname:u,search:c,hash:d}=s.location;return Kd("",{pathname:u,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:Eo(o)}return UR(e,i,null,n)}function Fe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function En(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kR(){return Math.random().toString(36).substring(2,10)}function fb(n,e){return{usr:n.state,key:n.key,idx:e}}function Kd(n,e,i=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?$s(e):e,state:i,key:e&&e.key||s||kR()}}function Eo({pathname:n="/",search:e="",hash:i=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function $s(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substring(i),n=n.substring(0,i));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function UR(n,e,i,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let L=y(),F=L==null?null:L-p;p=L,m&&m({action:d,location:D.location,delta:F})}function v(L,F){d="PUSH";let G=Kd(D.location,L,F);p=y()+1;let B=fb(G,p),$=D.createHref(G);try{c.pushState(B,"",$)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign($)}u&&m&&m({action:d,location:D.location,delta:1})}function E(L,F){d="REPLACE";let G=Kd(D.location,L,F);p=y();let B=fb(G,p),$=D.createHref(G);c.replaceState(B,"",$),u&&m&&m({action:d,location:D.location,delta:0})}function R(L){return PR(L)}let D={get action(){return d},get location(){return n(o,c)},listen(L){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(cb,_),m=L,()=>{o.removeEventListener(cb,_),m=null}},createHref(L){return e(o,L)},createURL:R,encodeLocation(L){let F=R(L);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:v,replace:E,go(L){return c.go(L)}};return D}function PR(n,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(i,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Eo(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function oS(n,e,i="/"){return HR(n,e,i,!1)}function HR(n,e,i,s){let o=typeof e=="string"?$s(e):e,u=ci(o.pathname||"/",i);if(u==null)return null;let c=lS(n);BR(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=WR(u);d=QR(c[m],p,s)}return d}function lS(n,e=[],i=[],s="",o=!1){let u=(c,d,m=o,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;Fe(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=si([s,y.relativePath]),v=i.concat(y);c.children&&c.children.length>0&&(Fe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),lS(c.children,e,v,_,m)),!(c.path==null&&!c.index)&&e.push({path:_,score:YR(_,c.index),routesMeta:v})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))u(c,d);else for(let m of uS(c.path))u(c,d,!0,m)}),e}function uS(n){let e=n.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=uS(s.join("/")),d=[];return d.push(...c.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function BR(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:XR(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var zR=/^:[\w-]+$/,jR=3,FR=2,GR=1,VR=10,qR=-2,hb=n=>n==="*";function YR(n,e){let i=n.split("/"),s=i.length;return i.some(hb)&&(s+=qR),e&&(s+=FR),i.filter(o=>!hb(o)).reduce((o,u)=>o+(zR.test(u)?jR:u===""?GR:VR),s)}function XR(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function QR(n,e,i=!1){let{routesMeta:s}=n,o={},u="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=u==="/"?e:e.slice(u.length)||"/",_=qu({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),v=m.route;if(!_&&p&&i&&!s[s.length-1].route.index&&(_=qu({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(o,_.params),c.push({params:o,pathname:si([u,_.pathname]),pathnameBase:eA(si([u,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(u=si([u,_.pathnameBase]))}return c}function qu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,s]=$R(n.path,n.caseSensitive,n.end),o=e.match(i);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},v)=>{if(y==="*"){let R=d[v]||"";c=u.slice(0,u.length-R.length).replace(/(.)\/+$/,"$1")}const E=d[v];return _&&!E?p[y]=void 0:p[y]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:n}}function $R(n,e=!1,i=!0){En(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function WR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return En(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ci(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=n.charAt(i);return s&&s!=="/"?null:n.slice(i)||"/"}var KR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function ZR(n,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof n=="string"?$s(n):n,u;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?u=db(i.substring(1),"/"):u=db(i,e)):u=e,{pathname:u,search:tA(s),hash:nA(o)}}function db(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function wd(n,e,i,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JR(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function zm(n){let e=JR(n);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function jm(n,e,i,s=!1){let o;typeof n=="string"?o=$s(n):(o={...n},Fe(!o.pathname||!o.pathname.includes("?"),wd("?","pathname","search",o)),Fe(!o.pathname||!o.pathname.includes("#"),wd("#","pathname","hash",o)),Fe(!o.search||!o.search.includes("#"),wd("#","search","hash",o)));let u=n===""||o.pathname==="",c=u?"/":o.pathname,d;if(c==null)d=i;else{let _=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),_-=1;o.pathname=v.join("/")}d=_>=0?e[_]:"/"}let m=ZR(o,d),p=c&&c!=="/"&&c.endsWith("/"),y=(u||c===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var si=n=>n.join("/").replace(/\/\/+/g,"/"),eA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,iA=class{constructor(n,e,i,s=!1){this.status=n,this.statusText=e||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function rA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function sA(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fS(n,e){let i=n;if(typeof i!="string"||!KR.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,o=!1;if(cS)try{let u=new URL(window.location.href),c=i.startsWith("//")?new URL(u.protocol+i):new URL(i),d=ci(c.pathname,e);c.origin===u.origin&&d!=null?i=d+c.search+c.hash:o=!0}catch{En(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hS=["POST","PUT","PATCH","DELETE"];new Set(hS);var aA=["GET",...hS];new Set(aA);var Ws=A.createContext(null);Ws.displayName="DataRouter";var wc=A.createContext(null);wc.displayName="DataRouterState";var oA=A.createContext(!1),dS=A.createContext({isTransitioning:!1});dS.displayName="ViewTransition";var lA=A.createContext(new Map);lA.displayName="Fetchers";var uA=A.createContext(null);uA.displayName="Await";var Qt=A.createContext(null);Qt.displayName="Navigation";var Bo=A.createContext(null);Bo.displayName="Location";var Dn=A.createContext({outlet:null,matches:[],isDataRoute:!1});Dn.displayName="Route";var Fm=A.createContext(null);Fm.displayName="RouteError";var mS="REACT_ROUTER_ERROR",cA="REDIRECT",fA="ROUTE_ERROR_RESPONSE";function hA(n){if(n.startsWith(`${mS}:${cA}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function dA(n){if(n.startsWith(`${mS}:${fA}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new iA(e.status,e.statusText,e.data)}catch{}}function mA(n,{relative:e}={}){Fe(Ks(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=A.useContext(Qt),{hash:o,pathname:u,search:c}=jo(n,{relative:e}),d=u;return i!=="/"&&(d=u==="/"?i:si([i,u])),s.createHref({pathname:d,search:c,hash:o})}function Ks(){return A.useContext(Bo)!=null}function ir(){return Fe(Ks(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Bo).location}var pS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gS(n){A.useContext(Qt).static||A.useLayoutEffect(n)}function zo(){let{isDataRoute:n}=A.useContext(Dn);return n?AA():pA()}function pA(){Fe(Ks(),"useNavigate() may be used only in the context of a <Router> component.");let n=A.useContext(Ws),{basename:e,navigator:i}=A.useContext(Qt),{matches:s}=A.useContext(Dn),{pathname:o}=ir(),u=JSON.stringify(zm(s)),c=A.useRef(!1);return gS(()=>{c.current=!0}),A.useCallback((m,p={})=>{if(En(c.current,pS),!c.current)return;if(typeof m=="number"){i.go(m);return}let y=jm(m,JSON.parse(u),o,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:si([e,y.pathname])),(p.replace?i.replace:i.push)(y,p.state,p)},[e,i,u,o,n])}A.createContext(null);function jo(n,{relative:e}={}){let{matches:i}=A.useContext(Dn),{pathname:s}=ir(),o=JSON.stringify(zm(i));return A.useMemo(()=>jm(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function gA(n,e){return _S(n,e)}function _S(n,e,i,s,o){Fe(Ks(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=A.useContext(Qt),{matches:c}=A.useContext(Dn),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let G=_&&_.path||"";vS(p,!_||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let v=ir(),E;if(e){let G=typeof e=="string"?$s(e):e;Fe(y==="/"||G.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),E=G}else E=v;let R=E.pathname||"/",D=R;if(y!=="/"){let G=y.replace(/^\//,"").split("/");D="/"+R.replace(/^\//,"").split("/").slice(G.length).join("/")}let L=oS(n,{pathname:D});En(_||L!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),En(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=EA(L&&L.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:si([y,u.encodeLocation?u.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:si([y,u.encodeLocation?u.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),c,i,s,o);return e&&F?A.createElement(Bo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},F):F}function _A(){let n=RA(),e=rA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:u},"ErrorBoundary")," or"," ",A.createElement("code",{style:u},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),i?A.createElement("pre",{style:o},i):null,c)}var yA=A.createElement(_A,null),yS=class extends A.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const i=dA(n.digest);i&&(n=i)}let e=n!==void 0?A.createElement(Dn.Provider,{value:this.props.routeContext},A.createElement(Fm.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?A.createElement(vA,{error:n},e):e}};yS.contextType=oA;var Rd=new WeakMap;function vA({children:n,error:e}){let{basename:i}=A.useContext(Qt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=hA(e.digest);if(s){let o=Rd.get(e);if(o)throw o;let u=fS(s.location,i);if(cS&&!Rd.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Rd.set(e,c),c}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function bA({routeContext:n,match:e,children:i}){let s=A.useContext(Ws);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Dn.Provider,{value:n},i)}function EA(n,e=[],i=null,s=null,o=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let u=n,c=i?.errors;if(c!=null){let y=u.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);Fe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let d=!1,m=-1;if(i)for(let y=0;y<u.length;y++){let _=u[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:v,errors:E}=i,R=_.route.loader&&!v.hasOwnProperty(_.route.id)&&(!E||E[_.route.id]===void 0);if(_.route.lazy||R){d=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let p=i&&s?(y,_)=>{s(y,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:sA(i.matches),errorInfo:_})}:void 0;return u.reduceRight((y,_,v)=>{let E,R=!1,D=null,L=null;i&&(E=c&&_.route.id?c[_.route.id]:void 0,D=_.route.errorElement||yA,d&&(m<0&&v===0?(vS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):m===v&&(R=!0,L=_.route.hydrateFallbackElement||null)));let F=e.concat(u.slice(0,v+1)),G=()=>{let B;return E?B=D:R?B=L:_.route.Component?B=A.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=y,A.createElement(bA,{match:_,routeContext:{outlet:y,matches:F,isDataRoute:i!=null},children:B})};return i&&(_.route.ErrorBoundary||_.route.errorElement||v===0)?A.createElement(yS,{location:i.location,revalidation:i.revalidation,component:D,error:E,children:G(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:p}):G()},null)}function Gm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SA(n){let e=A.useContext(Ws);return Fe(e,Gm(n)),e}function TA(n){let e=A.useContext(wc);return Fe(e,Gm(n)),e}function CA(n){let e=A.useContext(Dn);return Fe(e,Gm(n)),e}function Vm(n){let e=CA(n),i=e.matches[e.matches.length-1];return Fe(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function wA(){return Vm("useRouteId")}function RA(){let n=A.useContext(Fm),e=TA("useRouteError"),i=Vm("useRouteError");return n!==void 0?n:e.errors?.[i]}function AA(){let{router:n}=SA("useNavigate"),e=Vm("useNavigate"),i=A.useRef(!1);return gS(()=>{i.current=!0}),A.useCallback(async(o,u={})=>{En(i.current,pS),i.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...u}))},[n,e])}var mb={};function vS(n,e,i){!e&&!mb[n]&&(mb[n]=!0,En(!1,i))}A.memo(NA);function NA({routes:n,future:e,state:i,onError:s}){return _S(n,void 0,i,s,e)}function bS({to:n,replace:e,state:i,relative:s}){Fe(Ks(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=A.useContext(Qt);En(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=A.useContext(Dn),{pathname:c}=ir(),d=zo(),m=jm(n,zm(u),c,s==="path"),p=JSON.stringify(m);return A.useEffect(()=>{d(JSON.parse(p),{replace:e,state:i,relative:s})},[d,p,s,e,i]),null}function Is(n){Fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OA({basename:n="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){Fe(!Ks(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),m=A.useMemo(()=>({basename:d,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[d,o,u,c]);typeof i=="string"&&(i=$s(i));let{pathname:p="/",search:y="",hash:_="",state:v=null,key:E="default"}=i,R=A.useMemo(()=>{let D=ci(p,d);return D==null?null:{location:{pathname:D,search:y,hash:_,state:v,key:E},navigationType:s}},[d,p,y,_,v,E,s]);return En(R!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:A.createElement(Qt.Provider,{value:m},A.createElement(Bo.Provider,{children:e,value:R}))}function xA({children:n,location:e}){return gA(Zd(n),e)}function Zd(n,e=[]){let i=[];return A.Children.forEach(n,(s,o)=>{if(!A.isValidElement(s))return;let u=[...e,o];if(s.type===A.Fragment){i.push.apply(i,Zd(s.props.children,u));return}Fe(s.type===Is,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Zd(s.props.children,u)),i.push(c)}),i}var Lu="get",ku="application/x-www-form-urlencoded";function Rc(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function IA(n){return Rc(n)&&n.tagName.toLowerCase()==="button"}function DA(n){return Rc(n)&&n.tagName.toLowerCase()==="form"}function MA(n){return Rc(n)&&n.tagName.toLowerCase()==="input"}function LA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function kA(n,e){return n.button===0&&(!e||e==="_self")&&!LA(n)}var wu=null;function UA(){if(wu===null)try{new FormData(document.createElement("form"),0),wu=!1}catch{wu=!0}return wu}var PA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ad(n){return n!=null&&!PA.has(n)?(En(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ku}"`),null):n}function HA(n,e){let i,s,o,u,c;if(DA(n)){let d=n.getAttribute("action");s=d?ci(d,e):null,i=n.getAttribute("method")||Lu,o=Ad(n.getAttribute("enctype"))||ku,u=new FormData(n)}else if(IA(n)||MA(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(s=m?ci(m,e):null,i=n.getAttribute("formmethod")||d.getAttribute("method")||Lu,o=Ad(n.getAttribute("formenctype"))||Ad(d.getAttribute("enctype"))||ku,u=new FormData(d,n),!UA()){let{name:p,type:y,value:_}=n;if(y==="image"){let v=p?`${p}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else p&&u.append(p,_)}}else{if(Rc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Lu,s=null,o=ku,c=n}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function BA(n,e,i,s){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&ci(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function zA(n,e){if(n.id in e)return e[n.id];try{let i=await import(n.module);return e[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function FA(n,e,i){let s=await Promise.all(n.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await zA(u,i);return c.links?c.links():[]}return[]}));return YA(s.flat(1).filter(jA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function pb(n,e,i,s,o,u){let c=(m,p)=>i[p]?m.route.id!==i[p].route.id:!0,d=(m,p)=>i[p].pathname!==m.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==m.params["*"];return u==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):u==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function GA(n,e,{includeHydrateFallback:i}={}){return VA(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function VA(n){return[...new Set(n)]}function qA(n){let e={},i=Object.keys(n).sort();for(let s of i)e[s]=n[s];return e}function YA(n,e){let i=new Set;return new Set(e),n.reduce((s,o)=>{let u=JSON.stringify(qA(o));return i.has(u)||(i.add(u),s.push({key:u,link:o})),s},[])}function ES(){let n=A.useContext(Ws);return qm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function XA(){let n=A.useContext(wc);return qm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ym=A.createContext(void 0);Ym.displayName="FrameworkContext";function SS(){let n=A.useContext(Ym);return qm(n,"You must render this element inside a <HydratedRouter> element"),n}function QA(n,e){let i=A.useContext(Ym),[s,o]=A.useState(!1),[u,c]=A.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,v=A.useRef(null);A.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let D=F=>{F.forEach(G=>{c(G.isIntersecting)})},L=new IntersectionObserver(D,{threshold:.5});return v.current&&L.observe(v.current),()=>{L.disconnect()}}},[n]),A.useEffect(()=>{if(s){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[s]);let E=()=>{o(!0)},R=()=>{o(!1),c(!1)};return i?n!=="intent"?[u,v,{}]:[u,v,{onFocus:no(d,E),onBlur:no(m,R),onMouseEnter:no(p,E),onMouseLeave:no(y,R),onTouchStart:no(_,E)}]:[!1,v,{}]}function no(n,e){return i=>{n&&n(i),i.defaultPrevented||e(i)}}function $A({page:n,...e}){let{router:i}=ES(),s=A.useMemo(()=>oS(i.routes,n,i.basename),[i.routes,n,i.basename]);return s?A.createElement(KA,{page:n,matches:s,...e}):null}function WA(n){let{manifest:e,routeModules:i}=SS(),[s,o]=A.useState([]);return A.useEffect(()=>{let u=!1;return FA(n,e,i).then(c=>{u||o(c)}),()=>{u=!0}},[n,e,i]),s}function KA({page:n,matches:e,...i}){let s=ir(),{future:o,manifest:u,routeModules:c}=SS(),{basename:d}=ES(),{loaderData:m,matches:p}=XA(),y=A.useMemo(()=>pb(n,e,p,u,s,"data"),[n,e,p,u,s]),_=A.useMemo(()=>pb(n,e,p,u,s,"assets"),[n,e,p,u,s]),v=A.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let D=new Set,L=!1;if(e.forEach(G=>{let B=u.routes[G.route.id];!B||!B.hasLoader||(!y.some($=>$.route.id===G.route.id)&&G.route.id in m&&c[G.route.id]?.shouldRevalidate||B.hasClientLoader?L=!0:D.add(G.route.id))}),D.size===0)return[];let F=BA(n,d,o.unstable_trailingSlashAwareDataRequests,"data");return L&&D.size>0&&F.searchParams.set("_routes",e.filter(G=>D.has(G.route.id)).map(G=>G.route.id).join(",")),[F.pathname+F.search]},[d,o.unstable_trailingSlashAwareDataRequests,m,s,u,y,e,n,c]),E=A.useMemo(()=>GA(_,u),[_,u]),R=WA(_);return A.createElement(A.Fragment,null,v.map(D=>A.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...i})),E.map(D=>A.createElement("link",{key:D,rel:"modulepreload",href:D,...i})),R.map(({key:D,link:L})=>A.createElement("link",{key:D,nonce:i.nonce,...L,crossOrigin:L.crossOrigin??i.crossOrigin})))}function ZA(...n){return e=>{n.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var JA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JA&&(window.__reactRouterVersion="7.13.0")}catch{}function eN({basename:n,children:e,unstable_useTransitions:i,window:s}){let o=A.useRef();o.current==null&&(o.current=LR({window:s,v5Compat:!0}));let u=o.current,[c,d]=A.useState({action:u.action,location:u.location}),m=A.useCallback(p=>{i===!1?d(p):A.startTransition(()=>d(p))},[i]);return A.useLayoutEffect(()=>u.listen(m),[u,m]),A.createElement(OA,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:i})}var TS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ti=A.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:v,...E},R){let{basename:D,unstable_useTransitions:L}=A.useContext(Qt),F=typeof p=="string"&&TS.test(p),G=fS(p,D);p=G.to;let B=mA(p,{relative:o}),[$,k,J]=QA(s,E),X=rN(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:o,viewTransition:_,unstable_defaultShouldRevalidate:v,unstable_useTransitions:L});function se(Rt){e&&e(Rt),Rt.defaultPrevented||X(Rt)}let Ke=A.createElement("a",{...E,...J,href:G.absoluteURL||B,onClick:G.isExternal||u?e:se,ref:ZA(R,k),target:m,"data-discover":!F&&i==="render"?"true":void 0});return $&&!F?A.createElement(A.Fragment,null,Ke,A.createElement($A,{page:B})):Ke});ti.displayName="Link";var tN=A.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:d,children:m,...p},y){let _=jo(c,{relative:p.relative}),v=ir(),E=A.useContext(wc),{navigator:R,basename:D}=A.useContext(Qt),L=E!=null&&uN(_)&&d===!0,F=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,G=v.pathname,B=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(G=G.toLowerCase(),B=B?B.toLowerCase():null,F=F.toLowerCase()),B&&D&&(B=ci(B,D)||B);const $=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let k=G===F||!o&&G.startsWith(F)&&G.charAt($)==="/",J=B!=null&&(B===F||!o&&B.startsWith(F)&&B.charAt(F.length)==="/"),X={isActive:k,isPending:J,isTransitioning:L},se=k?e:void 0,Ke;typeof s=="function"?Ke=s(X):Ke=[s,k?"active":null,J?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let Rt=typeof u=="function"?u(X):u;return A.createElement(ti,{...p,"aria-current":se,className:Ke,ref:y,style:Rt,to:c,viewTransition:d},typeof m=="function"?m(X):m)});tN.displayName="NavLink";var nN=A.forwardRef(({discover:n="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:u,method:c=Lu,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:v,...E},R)=>{let{unstable_useTransitions:D}=A.useContext(Qt),L=oN(),F=lN(d,{relative:p}),G=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&TS.test(d),$=k=>{if(m&&m(k),k.defaultPrevented)return;k.preventDefault();let J=k.nativeEvent.submitter,X=J?.getAttribute("formmethod")||c,se=()=>L(J||k.currentTarget,{fetcherKey:e,method:X,navigate:i,replace:o,state:u,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:v});D&&i!==!1?A.startTransition(()=>se()):se()};return A.createElement("form",{ref:R,method:G,action:F,onSubmit:s?m:$,...E,"data-discover":!B&&n==="render"?"true":void 0})});nN.displayName="Form";function iN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CS(n){let e=A.useContext(Ws);return Fe(e,iN(n)),e}function rN(n,{target:e,replace:i,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=zo(),y=ir(),_=jo(n,{relative:u});return A.useCallback(v=>{if(kA(v,e)){v.preventDefault();let E=i!==void 0?i:Eo(y)===Eo(_),R=()=>p(n,{replace:E,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:d});m?A.startTransition(()=>R()):R()}},[y,p,_,i,s,e,n,o,u,c,d,m])}var sN=0,aN=()=>`__${String(++sN)}__`;function oN(){let{router:n}=CS("useSubmit"),{basename:e}=A.useContext(Qt),i=wA(),s=n.fetch,o=n.navigate;return A.useCallback(async(u,c={})=>{let{action:d,method:m,encType:p,formData:y,body:_}=HA(u,e);if(c.navigate===!1){let v=c.fetcherKey||aN();await s(v,i,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await o(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,i])}function lN(n,{relative:e}={}){let{basename:i}=A.useContext(Qt),s=A.useContext(Dn);Fe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...jo(n||".",{relative:e})},c=ir();if(n==null){u.search=c.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();u.search=y?`?${y}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:si([i,u.pathname])),Eo(u)}function uN(n,{relative:e}={}){let i=A.useContext(dS);Fe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=CS("useViewTransitionState"),o=jo(n,{relative:e});if(!i.isTransitioning)return!1;let u=ci(i.currentLocation.pathname,s)||i.currentLocation.pathname,c=ci(i.nextLocation.pathname,s)||i.nextLocation.pathname;return qu(o.pathname,c)!=null||qu(o.pathname,u)!=null}let cN=class{levels;currentLevel;constructor(){this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(e){this.levels.includes(e)?this.currentLevel=e:console.error(`Nivel de log no vlido: ${e}`)}log(e,i){const s=this.levels.indexOf(e),o=this.levels.indexOf(this.currentLevel);if(s>=o){const u=new Date().toISOString();console[e](`[${e.toUpperCase()}] ${u}: ${i}`)}}debug(e){this.log("debug",e)}info(e){this.log("info",e)}warn(e){this.log("warn",e)}error(e){this.log("error",e)}};const yt=new cN,fN=()=>{};var gb={};const wS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const V=function(n,e){if(!n)throw Zs(e)},Zs=function(n){return new Error("Firebase Database ("+wS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};const RS=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},hN=function(n){const e=[];let i=0,s=0;for(;i<n.length;){const o=n[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],c=n[i++],d=n[i++],m=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=n[i++],c=n[i++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Xm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,d=c?n[o+1]:0,m=o+2<n.length,p=m?n[o+2]:0,y=u>>2,_=(u&3)<<4|d>>4;let v=(d&15)<<2|p>>6,E=p&63;m||(E=64,c||(v=64)),s.push(i[y],i[_],i[v],i[E])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(RS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],d=o<n.length?i[n.charAt(o)]:0;++o;const p=o<n.length?i[n.charAt(o)]:64;++o;const _=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||d==null||p==null||_==null)throw new dN;const v=u<<2|d>>4;if(s.push(v),p!==64){const E=d<<4&240|p>>2;if(s.push(E),_!==64){const R=p<<6&192|_;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AS=function(n){const e=RS(n);return Xm.encodeByteArray(e,!0)},Yu=function(n){return AS(n).replace(/\./g,"")},Xu=function(n){try{return Xm.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mN(n){return NS(void 0,n)}function NS(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!pN(i)||(n[i]=NS(n[i],e[i]));return n}function pN(n){return n!=="__proto__"}function gN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _N=()=>gN().__FIREBASE_DEFAULTS__,yN=()=>{if(typeof process>"u"||typeof gb>"u")return;const n=gb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Xu(n[1]);return e&&JSON.parse(e)},Qm=()=>{try{return fN()||_N()||yN()||vN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},OS=n=>Qm()?.emulatorHosts?.[n],bN=n=>{const e=OS(n);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},xS=()=>Qm()?.config,IS=n=>Qm()?.[`_${n}`];class Fo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Js(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DS(n){return(await fetch(n,{credentials:"include"})).ok}function EN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Yu(JSON.stringify(i)),Yu(JSON.stringify(c)),""].join(".")}const fo={};function SN(){const n={prod:[],emulator:[]};for(const e of Object.keys(fo))fo[e]?n.emulator.push(e):n.prod.push(e);return n}function TN(n){let e=document.getElementById(n),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),i=!0),{created:i,element:e}}let _b=!1;function MS(n,e){if(typeof window>"u"||typeof document>"u"||!Js(window.location.host)||fo[n]===e||fo[n]||_b)return;fo[n]=e;function i(v){return`__firebase__banner__${v}`}const s="__firebase__banner",u=SN().prod.length>0;function c(){const v=document.getElementById(s);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function m(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function p(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{_b=!0,c()},v}function y(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=TN(s),E=i("text"),R=document.getElementById(E)||document.createElement("span"),D=i("learnmore"),L=document.getElementById(D)||document.createElement("a"),F=i("preprendIcon"),G=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const B=v.element;d(B),y(L,D);const $=p();m(G,F),B.append(G,R,L,$),document.body.appendChild(B)}u?(R.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $m(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function CN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RN(){const n=Ct();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AN(){return wS.NODE_ADMIN===!0}function NN(){try{return typeof indexedDB=="object"}catch{return!1}}function ON(){return new Promise((n,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const xN="FirebaseError";class rr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=xN,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Go.prototype.create)}}class Go{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?IN(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new rr(o,d,s)}}function IN(n,e){return n.replace(DN,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const DN=/\{\$([^}]+)}/g;function So(n){return JSON.parse(n)}function rt(n){return JSON.stringify(n)}const kS=function(n){let e={},i={},s={},o="";try{const u=n.split(".");e=So(Xu(u[0])||""),i=So(Xu(u[1])||""),o=u[2],s=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:s,signature:o}},MN=function(n){const e=kS(n),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},LN=function(n){const e=kS(n).claims;return typeof e=="object"&&e.admin===!0};function Mn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function js(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Jd(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qu(n,e,i){const s={};for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=e.call(i,n[o],o,n));return s}function Mr(n,e){if(n===e)return!0;const i=Object.keys(n),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const u=n[o],c=e[o];if(yb(u)&&yb(c)){if(!Mr(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function yb(n){return n!==null&&typeof n=="object"}function ea(n){const e=[];for(const[i,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function lo(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function uo(n){const e=n.indexOf("?");if(!e)return"";const i=n.indexOf("#",e);return n.substring(e,i>0?i:void 0)}class kN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const s=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)s[_]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let _=0;_<16;_++)s[_]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let _=16;_<80;_++){const v=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],c=this.chain_[2],d=this.chain_[3],m=this.chain_[4],p,y;for(let _=0;_<80;_++){_<40?_<20?(p=d^u&(c^d),y=1518500249):(p=u^c^d,y=1859775393):_<60?(p=u&c|d&(u|c),y=2400959708):(p=u^c^d,y=3395469782);const v=(o<<5|o>>>27)+p+m+y+s[_]&4294967295;m=d,d=c,c=(u<<30|u>>>2)&4294967295,u=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const s=i-this.blockSize;let o=0;const u=this.buf_;let c=this.inbuf_;for(;o<i;){if(c===0)for(;o<=s;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(u[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}else for(;o<i;)if(u[c]=e[o],++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let s=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[o]>>u&255,++s;return e}}function UN(n,e){const i=new PN(n,e);return i.subscribe.bind(i)}class PN{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let o;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");HN(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:s},o.next===void 0&&(o.next=Nd),o.error===void 0&&(o.error=Nd),o.complete===void 0&&(o.complete=Nd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HN(n,e){if(typeof n!="object"||n===null)return!1;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}function Nd(){}function Ac(n,e){return`${n} failed: ${e} argument `}const BN=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);if(o>=55296&&o<=56319){const u=o-55296;s++,V(s<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(s)-56320;o=65536+(u<<10)+c}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Nc=function(n){let e=0;for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,i++):e+=3}return e};function vt(n){return n&&n._delegate?n._delegate:n}class Lr{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xr="[DEFAULT]";let zN=class{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new Fo;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FN(e))try{this.getOrInitializeService({instanceIdentifier:xr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xr){return this.instances.has(e)}getOptions(e=xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jN(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=xr){return this.component?this.component.multipleInstances?e:xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jN(n){return n===xr?void 0:n}function FN(n){return n.instantiationMode==="EAGER"}class GN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new zN(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const VN={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},qN=Me.INFO,YN={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},XN=(n,e,...i)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=YN[e];if(o)console[o](`[${s}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wm{constructor(e){this.name=e,this._logLevel=qN,this._logHandler=XN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const QN=(n,e)=>e.some(i=>n instanceof i);let vb,bb;function $N(){return vb||(vb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WN(){return bb||(bb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const US=new WeakMap,em=new WeakMap,PS=new WeakMap,Od=new WeakMap,Km=new WeakMap;function KN(n){const e=new Promise((i,s)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{i(Xi(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return e.then(i=>{i instanceof IDBCursor&&US.set(i,n)}).catch(()=>{}),Km.set(e,n),e}function ZN(n){if(em.has(n))return;const e=new Promise((i,s)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});em.set(n,e)}let tm={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return em.get(n);if(e==="objectStoreNames")return n.objectStoreNames||PS.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Xi(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function JN(n){tm=n(tm)}function eO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=n.call(xd(this),e,...i);return PS.set(s,e.sort?e.sort():[e]),Xi(s)}:WN().includes(n)?function(...e){return n.apply(xd(this),e),Xi(US.get(this))}:function(...e){return Xi(n.apply(xd(this),e))}}function tO(n){return typeof n=="function"?eO(n):(n instanceof IDBTransaction&&ZN(n),QN(n,$N())?new Proxy(n,tm):n)}function Xi(n){if(n instanceof IDBRequest)return KN(n);if(Od.has(n))return Od.get(n);const e=tO(n);return e!==n&&(Od.set(n,e),Km.set(e,n)),e}const xd=n=>Km.get(n);function nO(n,e,{blocked:i,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(n,e),d=Xi(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Xi(c.result),m.oldVersion,m.newVersion,Xi(c.transaction),m)}),i&&c.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const iO=["get","getKey","getAll","getAllKeys","count"],rO=["put","add","delete","clear"],Id=new Map;function Eb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Id.get(e))return Id.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=rO.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||iO.includes(i)))return;const u=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[i](...d),o&&m.done]))[0]};return Id.set(e,u),u}JN(n=>({...n,get:(e,i,s)=>Eb(e,i)||n.get(e,i,s),has:(e,i)=>!!Eb(e,i)||n.has(e,i)}));class sO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(aO(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function aO(n){return n.getComponent()?.type==="VERSION"}const nm="@firebase/app",Sb="0.14.7";const fi=new Wm("@firebase/app"),oO="@firebase/app-compat",lO="@firebase/analytics-compat",uO="@firebase/analytics",cO="@firebase/app-check-compat",fO="@firebase/app-check",hO="@firebase/auth",dO="@firebase/auth-compat",mO="@firebase/database",pO="@firebase/data-connect",gO="@firebase/database-compat",_O="@firebase/functions",yO="@firebase/functions-compat",vO="@firebase/installations",bO="@firebase/installations-compat",EO="@firebase/messaging",SO="@firebase/messaging-compat",TO="@firebase/performance",CO="@firebase/performance-compat",wO="@firebase/remote-config",RO="@firebase/remote-config-compat",AO="@firebase/storage",NO="@firebase/storage-compat",OO="@firebase/firestore",xO="@firebase/ai",IO="@firebase/firestore-compat",DO="firebase",MO="12.8.0";const im="[DEFAULT]",LO={[nm]:"fire-core",[oO]:"fire-core-compat",[uO]:"fire-analytics",[lO]:"fire-analytics-compat",[fO]:"fire-app-check",[cO]:"fire-app-check-compat",[hO]:"fire-auth",[dO]:"fire-auth-compat",[mO]:"fire-rtdb",[pO]:"fire-data-connect",[gO]:"fire-rtdb-compat",[_O]:"fire-fn",[yO]:"fire-fn-compat",[vO]:"fire-iid",[bO]:"fire-iid-compat",[EO]:"fire-fcm",[SO]:"fire-fcm-compat",[TO]:"fire-perf",[CO]:"fire-perf-compat",[wO]:"fire-rc",[RO]:"fire-rc-compat",[AO]:"fire-gcs",[NO]:"fire-gcs-compat",[OO]:"fire-fst",[IO]:"fire-fst-compat",[xO]:"fire-vertex","fire-js":"fire-js",[DO]:"fire-js-all"};const $u=new Map,kO=new Map,rm=new Map;function Tb(n,e){try{n.container.addComponent(e)}catch(i){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function Fs(n){const e=n.name;if(rm.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,n);for(const i of $u.values())Tb(i,n);for(const i of kO.values())Tb(i,n);return!0}function Zm(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}function on(n){return n==null?!1:n.settings!==void 0}const UO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new Go("app","Firebase",UO);class PO{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}const ta=MO;function HS(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const s={name:im,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Qi.create("bad-app-name",{appName:String(o)});if(i||(i=xS()),!i)throw Qi.create("no-options");const u=$u.get(o);if(u){if(Mr(i,u.options)&&Mr(s,u.config))return u;throw Qi.create("duplicate-app",{appName:o})}const c=new GN(o);for(const m of rm.values())c.addComponent(m);const d=new PO(i,s,c);return $u.set(o,d),d}function BS(n=im){const e=$u.get(n);if(!e&&n===im&&xS())return HS();if(!e)throw Qi.create("no-app",{appName:n});return e}function $i(n,e,i){let s=LO[n]??n;i&&(s+=`-${i}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(c.join(" "));return}Fs(new Lr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const HO="firebase-heartbeat-database",BO=1,To="firebase-heartbeat-store";let Dd=null;function zS(){return Dd||(Dd=nO(HO,BO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(To)}catch(i){console.warn(i)}}}}).catch(n=>{throw Qi.create("idb-open",{originalErrorMessage:n.message})})),Dd}async function zO(n){try{const i=(await zS()).transaction(To),s=await i.objectStore(To).get(jS(n));return await i.done,s}catch(e){if(e instanceof rr)fi.warn(e.message);else{const i=Qi.create("idb-get",{originalErrorMessage:e?.message});fi.warn(i.message)}}}async function Cb(n,e){try{const s=(await zS()).transaction(To,"readwrite");await s.objectStore(To).put(e,jS(n)),await s.done}catch(i){if(i instanceof rr)fi.warn(i.message);else{const s=Qi.create("idb-set",{originalErrorMessage:i?.message});fi.warn(s.message)}}}function jS(n){return`${n.name}!${n.options.appId}`}const jO=1024,FO=30;class GO{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new qO(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>FO){const o=YO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wb(),{heartbeatsToSend:i,unsentEntries:s}=VO(this._heartbeatsCache.heartbeats),o=Yu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fi.warn(e),""}}}function wb(){return new Date().toISOString().substring(0,10)}function VO(n,e=jO){const i=[];let s=n.slice();for(const o of n){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Rb(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Rb(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class qO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NN()?ON().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await zO(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Cb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Cb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Rb(n){return Yu(JSON.stringify({version:2,heartbeats:n})).length}function YO(n){if(n.length===0)return-1;let e=0,i=n[0].date;for(let s=1;s<n.length;s++)n[s].date<i&&(i=n[s].date,e=s);return e}function XO(n){Fs(new Lr("platform-logger",e=>new sO(e),"PRIVATE")),Fs(new Lr("heartbeat",e=>new GO(e),"PRIVATE")),$i(nm,Sb,n),$i(nm,Sb,"esm2020"),$i("fire-js","")}XO("");var Ab={};const Nb="@firebase/database",Ob="1.1.0";let FS="";function QO(n){FS=n}class $O{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:So(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class WO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Mn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const GS=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $O(e)}}catch{}return new WO},Dr=GS("localStorage"),KO=GS("sessionStorage");const ks=new Wm("@firebase/database"),ZO=(function(){let n=1;return function(){return n++}})(),VS=function(n){const e=BN(n),i=new kN;i.update(e);const s=i.digest();return Xm.encodeByteArray(s)},Vo=function(...n){let e="";for(let i=0;i<n.length;i++){const s=n[i];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Vo.apply(null,s):typeof s=="object"?e+=rt(s):e+=s,e+=" "}return e};let ho=null,xb=!0;const JO=function(n,e){V(!0,"Can't turn on custom loggers persistently."),ks.logLevel=Me.VERBOSE,ho=ks.log.bind(ks)},pt=function(...n){if(xb===!0&&(xb=!1,ho===null&&KO.get("logging_enabled")===!0&&JO()),ho){const e=Vo.apply(null,n);ho(e)}},qo=function(n){return function(...e){pt(n,...e)}},sm=function(...n){const e="FIREBASE INTERNAL ERROR: "+Vo(...n);ks.error(e)},hi=function(...n){const e=`FIREBASE FATAL ERROR: ${Vo(...n)}`;throw ks.error(e),new Error(e)},Tt=function(...n){const e="FIREBASE WARNING: "+Vo(...n);ks.warn(e)},ex=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Jm=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},tx=function(n){if(document.readyState==="complete")n();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Gs="[MIN_NAME]",kr="[MAX_NAME]",jr=function(n,e){if(n===e)return 0;if(n===Gs||e===kr)return-1;if(e===Gs||n===kr)return 1;{const i=Ib(n),s=Ib(e);return i!==null?s!==null?i-s===0?n.length-e.length:i-s:-1:s!==null?1:n<e?-1:1}},nx=function(n,e){return n===e?0:n<e?-1:1},io=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+rt(e))},ep=function(n){if(typeof n!="object"||n===null)return rt(n);const e=[];for(const s in n)e.push(s);e.sort();let i="{";for(let s=0;s<e.length;s++)s!==0&&(i+=","),i+=rt(e[s]),i+=":",i+=ep(n[e[s]]);return i+="}",i},qS=function(n,e){const i=n.length;if(i<=e)return[n];const s=[];for(let o=0;o<i;o+=e)o+e>i?s.push(n.substring(o,i)):s.push(n.substring(o,o+e));return s};function gt(n,e){for(const i in n)n.hasOwnProperty(i)&&e(i,n[i])}const YS=function(n){V(!Jm(n),"Invalid JSON number");const e=11,i=52,s=(1<<e-1)-1;let o,u,c,d,m;n===0?(u=0,c=0,o=1/n===-1/0?1:0):(o=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),s),u=d+s,c=Math.round(n*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,c=Math.round(n/Math.pow(2,1-s-i))));const p=[];for(m=i;m;m-=1)p.push(c%2?1:0),c=Math.floor(c/2);for(m=e;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const y=p.join("");let _="";for(m=0;m<64;m+=8){let v=parseInt(y.substr(m,8),2).toString(16);v.length===1&&(v="0"+v),_=_+v}return _.toLowerCase()},ix=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function sx(n,e){let i="Unknown Error";n==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?i="Client doesn't have permission to access the desired data.":n==="unavailable"&&(i="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+i);return s.code=n.toUpperCase(),s}const ax=new RegExp("^-?(0*)\\d{1,10}$"),ox=-2147483648,lx=2147483647,Ib=function(n){if(ax.test(n)){const e=Number(n);if(e>=ox&&e<=lx)return e}return null},na=function(n){try{n()}catch(e){setTimeout(()=>{const i=e.stack||"";throw Tt("Exception was thrown by user callback.",i),e},Math.floor(0))}},ux=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},mo=function(n,e){const i=setTimeout(n,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class cx{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,on(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Tt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class fx{constructor(e,i,s){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tt(e)}}class Uu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Uu.OWNER="owner";const tp="5",XS="v",QS="s",$S="r",WS="f",KS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ZS="ls",JS="p",am="ac",e0="websocket",t0="long_polling";class n0{constructor(e,i,s,o,u=!1,c="",d=!1,m=!1,p=null){this.secure=i,this.namespace=s,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Dr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Dr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function hx(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function i0(n,e,i){V(typeof e=="string","typeof type must == string"),V(typeof i=="object","typeof params must == object");let s;if(e===e0)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===t0)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);hx(n)&&(i.ns=n.namespace);const o=[];return gt(i,(u,c)=>{o.push(u+"="+c)}),s+o.join("&")}class dx{constructor(){this.counters_={}}incrementCounter(e,i=1){Mn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return mN(this.counters_)}}const Md={},Ld={};function np(n){const e=n.toString();return Md[e]||(Md[e]=new dx),Md[e]}function mx(n,e){const i=n.toString();return Ld[i]||(Ld[i]=e()),Ld[i]}class px{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<s.length;++o)s[o]&&na(()=>{this.onMessage_(s[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Db="start",gx="close",_x="pLPCommand",yx="pRTLPCB",r0="id",s0="pw",a0="ser",vx="cb",bx="seg",Ex="ts",Sx="d",Tx="dframe",o0=1870,l0=30,Cx=o0-l0,wx=25e3,Rx=3e4;class Ms{constructor(e,i,s,o,u,c,d){this.connId=e,this.repoInfo=i,this.applicationId=s,this.appCheckToken=o,this.authToken=u,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qo(e),this.stats_=np(i),this.urlFn=m=>(this.appCheckToken&&(m[am]=this.appCheckToken),i0(i,t0,m))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new px(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Rx)),tx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ip((...u)=>{const[c,d,m,p,y]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===Db)this.id=d,this.password=m;else if(c===gx)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const s={};s[Db]="t",s[a0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[vx]=this.scriptTagHolder.uniqueCallbackIdentifier),s[XS]=tp,this.transportSessionId&&(s[QS]=this.transportSessionId),this.lastSessionId&&(s[ZS]=this.lastSessionId),this.applicationId&&(s[JS]=this.applicationId),this.appCheckToken&&(s[am]=this.appCheckToken),typeof location<"u"&&location.hostname&&KS.test(location.hostname)&&(s[$S]=WS);const o=this.urlFn(s);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ms.forceAllow_=!0}static forceDisallow(){Ms.forceDisallow_=!0}static isAvailable(){return Ms.forceAllow_?!0:!Ms.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ix()&&!rx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=rt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=AS(i),o=qS(s,Cx);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const s={};s[Tx]="t",s[r0]=e,s[s0]=i,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=rt(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class ip{constructor(e,i,s,o){this.onDisconnect=s,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ZO(),window[_x+this.uniqueCallbackIdentifier]=e,window[yx+this.uniqueCallbackIdentifier]=i,this.myIFrame=ip.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){pt("frame writing exception"),d.stack&&pt(d.stack),pt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||pt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[r0]=this.myID,e[s0]=this.myPW,e[a0]=this.currentSerial;let i=this.urlFn(e),s="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+l0+s.length<=o0;){const c=this.pendingSegs.shift();s=s+"&"+bx+o+"="+c.seg+"&"+Ex+o+"="+c.ts+"&"+Sx+o+"="+c.d,o++}return i=i+s,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,s){this.pendingSegs.push({seg:e,ts:i,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const s=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(s,Math.floor(wx)),u=()=>{clearTimeout(o),s()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const o=s.readyState;(!o||o==="loaded"||o==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),i())},s.onerror=()=>{pt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}const Ax=16384,Nx=45e3;let Wu=null;typeof MozWebSocket<"u"?Wu=MozWebSocket:typeof WebSocket<"u"&&(Wu=WebSocket);class gn{constructor(e,i,s,o,u,c,d){this.connId=e,this.applicationId=s,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qo(this.connId),this.stats_=np(i),this.connURL=gn.connectionURL_(i,c,d,o,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,s,o,u){const c={};return c[XS]=tp,typeof location<"u"&&location.hostname&&KS.test(location.hostname)&&(c[$S]=WS),i&&(c[QS]=i),s&&(c[ZS]=s),o&&(c[am]=o),u&&(c[JS]=u),i0(e,e0,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Dr.set("previous_websocket_failure",!0);try{let s;AN(),this.mySock=new Wu(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){gn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(i);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Wu!==null&&!gn.forceDisallow_}static previouslyFailed(){return Dr.isInMemoryStorage||Dr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Dr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=So(i);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(V(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const i=rt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=qS(i,Ax);s.length>1&&this.sendString_(String(s.length));for(let o=0;o<s.length;o++)this.sendString_(s[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Nx))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}gn.responsesRequiredToBeHealthy=2;gn.healthyTimeout=3e4;class Co{static get ALL_TRANSPORTS(){return[Ms,gn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=gn&&gn.isAvailable();let s=i&&!gn.previouslyFailed();if(e.webSocketOnly&&(i||Tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[gn];else{const o=this.transports_=[];for(const u of Co.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Co.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Co.globalTransportInitialized_=!1;const Ox=6e4,xx=5e3,Ix=10*1024,Dx=100*1024,kd="t",Mb="d",Mx="s",Lb="r",Lx="e",kb="o",Ub="a",Pb="n",Hb="p",kx="h";class Ux{constructor(e,i,s,o,u,c,d,m,p,y){this.id=e,this.repoInfo_=i,this.applicationId_=s,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qo("c:"+this.id+":"),this.transportManager_=new Co(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,s)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=mo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Dx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ix?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kd in e){const i=e[kd];i===Ub?this.upgradeIfSecondaryHealthy_():i===Lb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===kb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=io("t",e),s=io("d",e);if(i==="c")this.onSecondaryControl_(s);else if(i==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Hb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ub,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Pb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=io("t",e),s=io("d",e);i==="c"?this.onControl_(s):i==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=io(kd,e);if(Mb in e){const s=e[Mb];if(i===kx){const o={...s};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===Pb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===Mx?this.onConnectionShutdown_(s):i===Lb?this.onReset_(s):i===Lx?sm("Server Error: "+s):i===kb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sm("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,s=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),tp!==s&&Tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,s),mo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ox))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(xx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Hb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Dr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class u0{put(e,i,s,o){}merge(e,i,s,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,s){}onDisconnectMerge(e,i,s){}onDisconnectCancel(e,i){}reportStats(e){}}class c0{constructor(e){this.allowedEvents_=e,this.listeners_={},V(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let o=0;o<s.length;o++)s[o].callback.apply(s[o].context,i)}}on(e,i,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:s});const o=this.getInitialEvent(e);o&&i.apply(s,o)}off(e,i,s){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!s||s===o[u].context)){o.splice(u,1);return}}validateEventType_(e){V(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}class Ku extends c0{static getInstance(){return new Ku}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$m()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return V(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Bb=32,zb=768;class Le{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let s=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[s]=this.pieces_[o],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Te(){return new Le("")}function ce(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function er(n){return n.pieces_.length-n.pieceNum_}function He(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Le(n.pieces_,e)}function rp(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Px(n){let e="";for(let i=n.pieceNum_;i<n.pieces_.length;i++)n.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[i])));return e||"/"}function wo(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function f0(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let i=n.pieceNum_;i<n.pieces_.length-1;i++)e.push(n.pieces_[i]);return new Le(e,0)}function Ye(n,e){const i=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)i.push(n.pieces_[s]);if(e instanceof Le)for(let s=e.pieceNum_;s<e.pieces_.length;s++)i.push(e.pieces_[s]);else{const s=e.split("/");for(let o=0;o<s.length;o++)s[o].length>0&&i.push(s[o])}return new Le(i,0)}function pe(n){return n.pieceNum_>=n.pieces_.length}function St(n,e){const i=ce(n),s=ce(e);if(i===null)return e;if(i===s)return St(He(n),He(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Hx(n,e){const i=wo(n,0),s=wo(e,0);for(let o=0;o<i.length&&o<s.length;o++){const u=jr(i[o],s[o]);if(u!==0)return u}return i.length===s.length?0:i.length<s.length?-1:1}function sp(n,e){if(er(n)!==er(e))return!1;for(let i=n.pieceNum_,s=e.pieceNum_;i<=n.pieces_.length;i++,s++)if(n.pieces_[i]!==e.pieces_[s])return!1;return!0}function ln(n,e){let i=n.pieceNum_,s=e.pieceNum_;if(er(n)>er(e))return!1;for(;i<n.pieces_.length;){if(n.pieces_[i]!==e.pieces_[s])return!1;++i,++s}return!0}class Bx{constructor(e,i){this.errorPrefix_=i,this.parts_=wo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Nc(this.parts_[s]);h0(this)}}function zx(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Nc(e),h0(n)}function jx(n){const e=n.parts_.pop();n.byteLength_-=Nc(e),n.parts_.length>0&&(n.byteLength_-=1)}function h0(n){if(n.byteLength_>zb)throw new Error(n.errorPrefix_+"has a key path longer than "+zb+" bytes ("+n.byteLength_+").");if(n.parts_.length>Bb)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Bb+") or object contains a cycle "+Ir(n))}function Ir(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}class ap extends c0{static getInstance(){return new ap}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return V(e==="visible","Unknown event type: "+e),[this.visible_]}}const ro=1e3,Fx=300*1e3,jb=30*1e3,Gx=1.3,Vx=3e4,qx="server_kill",Fb=3;class ai extends u0{constructor(e,i,s,o,u,c,d,m){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=d,this.authOverride_=m,this.id=ai.nextPersistentConnectionId_++,this.log_=qo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ro,this.maxReconnectDelay_=Fx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ap.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ku.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,s){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_(rt(u)),V(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[o]=s)}get(e){this.initConnection_();const i=new Fo,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const d=c.d;c.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,s,o){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),V(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:i,query:e,tag:s};this.listens.get(c).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(e){const i=e.query,s=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+s+" for "+o);const u={p:s},c="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,d=>{const m=d.d,p=d.s;ai.warnOnListenWarnings_(m,i),(this.listens.get(s)&&this.listens.get(s).get(o))===e&&(this.log_("listen response",d),p!=="ok"&&this.removeListen_(s,o),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Mn(e,"w")){const s=js(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||LN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=jb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=MN(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,o=>{const u=o.s,c=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,s=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(e,i){const s=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+o),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,o)&&this.connected_&&this.sendUnlisten_(s,o,e._queryObject,i)}sendUnlisten_(e,i,s,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e},c="n";o&&(u.q=s,u.t=o),this.sendRequest(c,u)}onDisconnectPut(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:s})}onDisconnectMerge(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:s})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,s,o){const u={p:i,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,i,s,o){this.putInternal("p",e,i,s,o)}merge(e,i,s,o){this.putInternal("m",e,i,s,o)}putInternal(e,i,s,o,u){this.initConnection_();const c={p:i,d:s};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,s,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const i=e.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):sm("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){V(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ro,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ro,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Vx&&(this.reconnectDelay_=ro),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Gx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+ai.nextConnectionId_++,u=this.lastSessionId;let c=!1,d=null;const m=function(){d?d.close():(c=!0,s())},p=function(_){V(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(_)};this.realtime_={close:m,sendRequest:p};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,v]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);c?pt("getToken() completed but was canceled"):(pt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=v&&v.token,d=new Ux(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,s,E=>{Tt(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(qx)},u))}catch(_){this.log_("Failed to get token: "+_),c||(this.repoInfo_.nodeAdmin&&Tt(_),m())}}}interrupt(e){pt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){pt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Jd(this.interruptReasons_)&&(this.reconnectDelay_=ro,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let s;i?s=i.map(u=>ep(u)).join("$"):s="default";const o=this.removeListen_(e,s);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const s=new Le(e).toString();let o;if(this.listens.has(s)){const u=this.listens.get(s);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(s)}else o=void 0;return o}onAuthRevoked_(e,i){pt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Fb&&(this.reconnectDelay_=jb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){pt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Fb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+FS.replace(/\./g,"-")]=1,$m()?e["framework.cordova"]=1:LS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ku.getInstance().currentlyOnline();return Jd(this.interruptReasons_)&&e}}ai.nextPersistentConnectionId_=0;ai.nextConnectionId_=0;class fe{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new fe(e,i)}}class Oc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const s=new fe(Gs,e),o=new fe(Gs,i);return this.compare(s,o)!==0}minPost(){return fe.MIN}}let Ru;class d0 extends Oc{static get __EMPTY_NODE(){return Ru}static set __EMPTY_NODE(e){Ru=e}compare(e,i){return jr(e.name,i.name)}isDefinedOn(e){throw Zs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return fe.MIN}maxPost(){return new fe(kr,Ru)}makePost(e,i){return V(typeof e=="string","KeyIndex indexValue must always be a string."),new fe(e,Ru)}toString(){return".key"}}const Us=new d0;class Au{constructor(e,i,s,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=i?s(e.key,i):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class lt{constructor(e,i,s,o,u){this.key=e,this.value=i,this.color=s??lt.RED,this.left=o??kt.EMPTY_NODE,this.right=u??kt.EMPTY_NODE}copy(e,i,s,o,u){return new lt(e??this.key,i??this.value,s??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const u=s(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,i,s),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return kt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let s,o;if(s=this,i(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),i(e,s.key)===0){if(s.right.isEmpty())return kt.EMPTY_NODE;o=s.right.min_(),s=s.copy(o.key,o.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}lt.RED=!0;lt.BLACK=!1;class Yx{copy(e,i,s,o,u){return this}insert(e,i,s){return new lt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class kt{constructor(e,i=kt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new kt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,lt.BLACK,null,null))}remove(e){return new kt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,lt.BLACK,null,null))}get(e){let i,s=this.root_;for(;!s.isEmpty();){if(i=this.comparator_(e,s.key),i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}getPredecessorKey(e){let i,s=this.root_,o=null;for(;!s.isEmpty();)if(i=this.comparator_(e,s.key),i===0){if(s.left.isEmpty())return o?o.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else i<0?s=s.left:i>0&&(o=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Au(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Au(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Au(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Au(this.root_,null,this.comparator_,!0,e)}}kt.EMPTY_NODE=new Yx;function Xx(n,e){return jr(n.name,e.name)}function op(n,e){return jr(n,e)}let om;function Qx(n){om=n}const m0=function(n){return typeof n=="number"?"number:"+YS(n):"string:"+n},p0=function(n){if(n.isLeafNode()){const e=n.val();V(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Mn(e,".sv"),"Priority must be a string or number.")}else V(n===om||n.isEmpty(),"priority of unexpected type.");V(n===om||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Gb;class ot{static set __childrenNodeConstructor(e){Gb=e}static get __childrenNodeConstructor(){return Gb}constructor(e,i=ot.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,V(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),p0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ot(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ot.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pe(e)?this:ce(e)===".priority"?this.priorityNode_:ot.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:ot.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const s=ce(e);return s===null?i:i.isEmpty()&&s!==".priority"?this:(V(s!==".priority"||er(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,ot.__childrenNodeConstructor.EMPTY_NODE.updateChild(He(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+m0(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=YS(this.value_):e+=this.value_,this.lazyHash_=VS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ot.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ot.__childrenNodeConstructor?-1:(V(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,s=typeof this.value_,o=ot.VALUE_TYPE_ORDER.indexOf(i),u=ot.VALUE_TYPE_ORDER.indexOf(s);return V(o>=0,"Unknown leaf type: "+i),V(u>=0,"Unknown leaf type: "+s),o===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}ot.VALUE_TYPE_ORDER=["object","boolean","number","string"];let g0,_0;function $x(n){g0=n}function Wx(n){_0=n}class Kx extends Oc{compare(e,i){const s=e.node.getPriority(),o=i.node.getPriority(),u=s.compareTo(o);return u===0?jr(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(kr,new ot("[PRIORITY-POST]",_0))}makePost(e,i){const s=g0(e);return new fe(i,new ot("[PRIORITY-POST]",s))}toString(){return".priority"}}const Xe=new Kx;const Zx=Math.log(2);class Jx{constructor(e){const i=u=>parseInt(Math.log(u)/Zx,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=s(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Zu=function(n,e,i,s){n.sort(e);const o=function(m,p){const y=p-m;let _,v;if(y===0)return null;if(y===1)return _=n[m],v=i?i(_):_,new lt(v,_.node,lt.BLACK,null,null);{const E=parseInt(y/2,10)+m,R=o(m,E),D=o(E+1,p);return _=n[E],v=i?i(_):_,new lt(v,_.node,lt.BLACK,R,D)}},u=function(m){let p=null,y=null,_=n.length;const v=function(R,D){const L=_-R,F=_;_-=R;const G=o(L+1,F),B=n[L],$=i?i(B):B;E(new lt($,B.node,D,null,G))},E=function(R){p?(p.left=R,p=R):(y=R,p=R)};for(let R=0;R<m.count;++R){const D=m.nextBitIsOne(),L=Math.pow(2,m.count-(R+1));D?v(L,lt.BLACK):(v(L,lt.BLACK),v(L,lt.RED))}return y},c=new Jx(n.length),d=u(c);return new kt(s||e,d)};let Ud;const xs={};class ni{static get Default(){return V(xs&&Xe,"ChildrenNode.ts has not been loaded"),Ud=Ud||new ni({".priority":xs},{".priority":Xe}),Ud}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=js(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof kt?i:null}hasIndex(e){return Mn(this.indexSet_,e.toString())}addIndex(e,i){V(e!==Us,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let o=!1;const u=i.getIterator(fe.Wrap);let c=u.getNext();for(;c;)o=o||e.isDefinedOn(c.node),s.push(c),c=u.getNext();let d;o?d=Zu(s,e.getCompare()):d=xs;const m=e.toString(),p={...this.indexSet_};p[m]=e;const y={...this.indexes_};return y[m]=d,new ni(y,p)}addToIndexes(e,i){const s=Qu(this.indexes_,(o,u)=>{const c=js(this.indexSet_,u);if(V(c,"Missing index implementation for "+u),o===xs)if(c.isDefinedOn(e.node)){const d=[],m=i.getIterator(fe.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&d.push(p),p=m.getNext();return d.push(e),Zu(d,c.getCompare())}else return xs;else{const d=i.get(e.name);let m=o;return d&&(m=m.remove(new fe(e.name,d))),m.insert(e,e.node)}});return new ni(s,this.indexSet_)}removeFromIndexes(e,i){const s=Qu(this.indexes_,o=>{if(o===xs)return o;{const u=i.get(e.name);return u?o.remove(new fe(e.name,u)):o}});return new ni(s,this.indexSet_)}}let so;class ne{static get EMPTY_NODE(){return so||(so=new ne(new kt(op),null,ni.Default))}constructor(e,i,s){this.children_=e,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&p0(this.priorityNode_),this.children_.isEmpty()&&V(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||so}updatePriority(e){return this.children_.isEmpty()?this:new ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?so:i}}getChild(e){const i=ce(e);return i===null?this:this.getImmediateChild(i).getChild(He(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(V(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const s=new fe(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(s,this.children_));const c=o.isEmpty()?so:this.priorityNode_;return new ne(o,c,u)}}updateChild(e,i){const s=ce(e);if(s===null)return i;{V(ce(e)!==".priority"||er(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(s).updateChild(He(e),i);return this.updateImmediateChild(s,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let s=0,o=0,u=!0;if(this.forEachChild(Xe,(c,d)=>{i[c]=d.val(e),s++,u&&ne.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):u=!1}),!e&&u&&o<2*s){const c=[];for(const d in i)c[d]=i[d];return c}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+m0(this.getPriority().val())+":"),this.forEachChild(Xe,(i,s)=>{const o=s.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":VS(e)}return this.lazyHash_}getPredecessorChildName(e,i,s){const o=this.resolveIndex_(s);if(o){const u=o.getPredecessorKey(new fe(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new fe(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new fe(i,this.children_.get(i)):null}forEachChild(e,i){const s=this.resolveIndex_(e);return s?s.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,fe.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,fe.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yo?-1:0}withIndex(e){if(e===Us||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new ne(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Us||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const s=this.getIterator(Xe),o=i.getIterator(Xe);let u=s.getNext(),c=o.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=s.getNext(),c=o.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Us?null:this.indexMap_.get(e.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class eI extends ne{constructor(){super(new kt(op),ne.EMPTY_NODE,ni.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ne.EMPTY_NODE}isEmpty(){return!1}}const Yo=new eI;Object.defineProperties(fe,{MIN:{value:new fe(Gs,ne.EMPTY_NODE)},MAX:{value:new fe(kr,Yo)}});d0.__EMPTY_NODE=ne.EMPTY_NODE;ot.__childrenNodeConstructor=ne;Qx(Yo);Wx(Yo);const tI=!0;function it(n,e=null){if(n===null)return ne.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),V(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const i=n;return new ot(i,it(e))}if(!(n instanceof Array)&&tI){const i=[];let s=!1;if(gt(n,(c,d)=>{if(c.substring(0,1)!=="."){const m=it(d);m.isEmpty()||(s=s||!m.getPriority().isEmpty(),i.push(new fe(c,m)))}}),i.length===0)return ne.EMPTY_NODE;const u=Zu(i,Xx,c=>c.name,op);if(s){const c=Zu(i,Xe.getCompare());return new ne(u,it(e),new ni({".priority":c},{".priority":Xe}))}else return new ne(u,it(e),ni.Default)}else{let i=ne.EMPTY_NODE;return gt(n,(s,o)=>{if(Mn(n,s)&&s.substring(0,1)!=="."){const u=it(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(s,u))}}),i.updatePriority(it(e))}}$x(it);class nI extends Oc{constructor(e){super(),this.indexPath_=e,V(!pe(e)&&ce(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const s=this.extractChild(e.node),o=this.extractChild(i.node),u=s.compareTo(o);return u===0?jr(e.name,i.name):u}makePost(e,i){const s=it(e),o=ne.EMPTY_NODE.updateChild(this.indexPath_,s);return new fe(i,o)}maxPost(){const e=ne.EMPTY_NODE.updateChild(this.indexPath_,Yo);return new fe(kr,e)}toString(){return wo(this.indexPath_,0).join("/")}}class iI extends Oc{compare(e,i){const s=e.node.compareTo(i.node);return s===0?jr(e.name,i.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(e,i){const s=it(e);return new fe(i,s)}toString(){return".value"}}const rI=new iI;function y0(n){return{type:"value",snapshotNode:n}}function Vs(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Ro(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Ao(n,e,i){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:i}}function sI(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}class lp{constructor(e){this.index_=e}updateChild(e,i,s,o,u,c){V(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(i);return d.getChild(o).equals(s.getChild(o))&&d.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(i)?c.trackChildChange(Ro(i,d)):V(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Vs(i,s)):c.trackChildChange(Ao(i,s,d))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(i,s).withIndex(this.index_)}updateFullNode(e,i,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Xe,(o,u)=>{i.hasChild(o)||s.trackChildChange(Ro(o,u))}),i.isLeafNode()||i.forEachChild(Xe,(o,u)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(u)||s.trackChildChange(Ao(o,u,c))}else s.trackChildChange(Vs(o,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class No{constructor(e){this.indexedFilter_=new lp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=No.getStartPost_(e),this.endPost_=No.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&s}updateChild(e,i,s,o,u,c){return this.matches(new fe(i,s))||(s=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,s,o,u,c)}updateFullNode(e,i,s){i.isLeafNode()&&(i=ne.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(ne.EMPTY_NODE);const u=this;return i.forEachChild(Xe,(c,d)=>{u.matches(new fe(c,d))||(o=o.updateImmediateChild(c,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}class aI{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=i=>{const s=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new No(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,s,o,u,c){return this.rangedFilter_.matches(new fe(i,s))||(s=ne.EMPTY_NODE),e.getImmediateChild(i).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,s,o,u,c):this.fullLimitUpdateChild_(e,i,s,u,c)}updateFullNode(e,i,s){let o;if(i.isLeafNode()||i.isEmpty())o=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=ne.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),c++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(ne.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let c=0;for(;u.hasNext();){const d=u.getNext();c<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?c++:o=o.updateImmediateChild(d.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,s,o,u){let c;if(this.reverse_){const _=this.index_.getCompare();c=(v,E)=>_(E,v)}else c=this.index_.getCompare();const d=e;V(d.numChildren()===this.limit_,"");const m=new fe(i,s),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),y=this.rangedFilter_.matches(m);if(d.hasChild(i)){const _=d.getImmediateChild(i);let v=o.getChildAfterChild(this.index_,p,this.reverse_);for(;v!=null&&(v.name===i||d.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const E=v==null?1:c(v,m);if(y&&!s.isEmpty()&&E>=0)return u?.trackChildChange(Ao(i,s,_)),d.updateImmediateChild(i,s);{u?.trackChildChange(Ro(i,_));const D=d.updateImmediateChild(i,ne.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u?.trackChildChange(Vs(v.name,v.node)),D.updateImmediateChild(v.name,v.node)):D}}else return s.isEmpty()?e:y&&c(p,m)>=0?(u!=null&&(u.trackChildChange(Ro(p.name,p.node)),u.trackChildChange(Vs(i,s))),d.updateImmediateChild(i,s).updateImmediateChild(p.name,ne.EMPTY_NODE)):e}}class up{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return V(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return V(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gs}hasEnd(){return this.endSet_}getIndexEndValue(){return V(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return V(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:kr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return V(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const e=new up;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function oI(n){return n.loadsAllData()?new lp(n.getIndex()):n.hasLimit()?new aI(n):new No(n)}function Vb(n){const e={};if(n.isDefault())return e;let i;if(n.index_===Xe?i="$priority":n.index_===rI?i="$value":n.index_===Us?i="$key":(V(n.index_ instanceof nI,"Unrecognized index type!"),i=n.index_.toString()),e.orderBy=rt(i),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=rt(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+rt(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=rt(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+rt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function qb(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let i=n.viewFrom_;i===""&&(n.isViewFromLeft()?i="l":i="r"),e.vf=i}return n.index_!==Xe&&(e.i=n.index_.toString()),e}class Ju extends u0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(V(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,s,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.log_=qo("p:rest:"),this.listens_={}}listen(e,i,s,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=Ju.getListenId_(e,s),d={};this.listens_[c]=d;const m=Vb(e._queryParams);this.restRequest_(u+".json",m,(p,y)=>{let _=y;if(p===404&&(_=null,p=null),p===null&&this.onDataUpdate_(u,_,!1,s),js(this.listens_,c)===d){let v;p?p===401?v="permission_denied":v="rest_error:"+p:v="ok",o(v,null)}})}unlisten(e,i){const s=Ju.getListenId_(e,i);delete this.listens_[s]}get(e){const i=Vb(e._queryParams),s=e._path.toString(),o=new Fo;return this.restRequest_(s+".json",i,(u,c)=>{let d=c;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(s,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},s){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ea(i);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(s&&d.readyState===4){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let m=null;if(d.status>=200&&d.status<300){try{m=So(d.responseText)}catch{Tt("Failed to parse JSON response for "+c+": "+d.responseText)}s(null,m)}else d.status!==401&&d.status!==404&&Tt("Got unsuccessful REST response for "+c+" Status: "+d.status),s(d.status);s=null}},d.open("GET",c,!0),d.send()})}}class lI{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}function ec(){return{value:null,children:new Map}}function v0(n,e,i){if(pe(e))n.value=i,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,i);else{const s=ce(e);n.children.has(s)||n.children.set(s,ec());const o=n.children.get(s);e=He(e),v0(o,e,i)}}function lm(n,e,i){n.value!==null?i(e,n.value):uI(n,(s,o)=>{const u=new Le(e.toString()+"/"+s);lm(o,u,i)})}function uI(n,e){n.children.forEach((i,s)=>{e(s,i)})}class cI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&gt(this.last_,(s,o)=>{i[s]=i[s]-o}),this.last_=e,i}}const Yb=10*1e3,fI=30*1e3,hI=300*1e3;class dI{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new cI(e);const s=Yb+(fI-Yb)*Math.random();mo(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),i={};let s=!1;gt(e,(o,u)=>{u>0&&Mn(this.statsToReport_,o)&&(i[o]=u,s=!0)}),s&&this.server_.reportStats(i),mo(this.reportStats_.bind(this),Math.floor(Math.random()*2*hI))}}var yn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(yn||(yn={}));function cp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function fp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hp(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class tc{constructor(e,i,s){this.path=e,this.affectedTree=i,this.revert=s,this.type=yn.ACK_USER_WRITE,this.source=cp()}operationForChild(e){if(pe(this.path)){if(this.affectedTree.value!=null)return V(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Le(e));return new tc(Te(),i,this.revert)}}else return V(ce(this.path)===e,"operationForChild called for unrelated child."),new tc(He(this.path),this.affectedTree,this.revert)}}class Oo{constructor(e,i){this.source=e,this.path=i,this.type=yn.LISTEN_COMPLETE}operationForChild(e){return pe(this.path)?new Oo(this.source,Te()):new Oo(this.source,He(this.path))}}class Ur{constructor(e,i,s){this.source=e,this.path=i,this.snap=s,this.type=yn.OVERWRITE}operationForChild(e){return pe(this.path)?new Ur(this.source,Te(),this.snap.getImmediateChild(e)):new Ur(this.source,He(this.path),this.snap)}}class qs{constructor(e,i,s){this.source=e,this.path=i,this.children=s,this.type=yn.MERGE}operationForChild(e){if(pe(this.path)){const i=this.children.subtree(new Le(e));return i.isEmpty()?null:i.value?new Ur(this.source,Te(),i.value):new qs(this.source,Te(),i)}else return V(ce(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new qs(this.source,He(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class tr{constructor(e,i,s){this.node_=e,this.fullyInitialized_=i,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const i=ce(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class mI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function pI(n,e,i,s){const o=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(sI(c.childName,c.snapshotNode))}),ao(n,o,"child_removed",e,s,i),ao(n,o,"child_added",e,s,i),ao(n,o,"child_moved",u,s,i),ao(n,o,"child_changed",e,s,i),ao(n,o,"value",e,s,i),o}function ao(n,e,i,s,o,u){const c=s.filter(d=>d.type===i);c.sort((d,m)=>_I(n,d,m)),c.forEach(d=>{const m=gI(n,d,u);o.forEach(p=>{p.respondsTo(d.type)&&e.push(p.createEvent(m,n.query_))})})}function gI(n,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function _I(n,e,i){if(e.childName==null||i.childName==null)throw Zs("Should only compare child_ events.");const s=new fe(e.childName,e.snapshotNode),o=new fe(i.childName,i.snapshotNode);return n.index_.compare(s,o)}function xc(n,e){return{eventCache:n,serverCache:e}}function po(n,e,i,s){return xc(new tr(e,i,s),n.serverCache)}function b0(n,e,i,s){return xc(n.eventCache,new tr(e,i,s))}function nc(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Pr(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Pd;const yI=()=>(Pd||(Pd=new kt(nx)),Pd);class Pe{static fromObject(e){let i=new Pe(null);return gt(e,(s,o)=>{i=i.set(new Le(s),o)}),i}constructor(e,i=yI()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Te(),value:this.value};if(pe(e))return null;{const s=ce(e),o=this.children.get(s);if(o!==null){const u=o.findRootMostMatchingPathAndValue(He(e),i);return u!=null?{path:Ye(new Le(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const i=ce(e),s=this.children.get(i);return s!==null?s.subtree(He(e)):new Pe(null)}}set(e,i){if(pe(e))return new Pe(i,this.children);{const s=ce(e),u=(this.children.get(s)||new Pe(null)).set(He(e),i),c=this.children.insert(s,u);return new Pe(this.value,c)}}remove(e){if(pe(e))return this.children.isEmpty()?new Pe(null):new Pe(null,this.children);{const i=ce(e),s=this.children.get(i);if(s){const o=s.remove(He(e));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Pe(null):new Pe(this.value,u)}else return this}}get(e){if(pe(e))return this.value;{const i=ce(e),s=this.children.get(i);return s?s.get(He(e)):null}}setTree(e,i){if(pe(e))return i;{const s=ce(e),u=(this.children.get(s)||new Pe(null)).setTree(He(e),i);let c;return u.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,u),new Pe(this.value,c)}}fold(e){return this.fold_(Te(),e)}fold_(e,i){const s={};return this.children.inorderTraversal((o,u)=>{s[o]=u.fold_(Ye(e,o),i)}),i(e,this.value,s)}findOnPath(e,i){return this.findOnPath_(e,Te(),i)}findOnPath_(e,i,s){const o=this.value?s(i,this.value):!1;if(o)return o;if(pe(e))return null;{const u=ce(e),c=this.children.get(u);return c?c.findOnPath_(He(e),Ye(i,u),s):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Te(),i)}foreachOnPath_(e,i,s){if(pe(e))return this;{this.value&&s(i,this.value);const o=ce(e),u=this.children.get(o);return u?u.foreachOnPath_(He(e),Ye(i,o),s):new Pe(null)}}foreach(e){this.foreach_(Te(),e)}foreach_(e,i){this.children.inorderTraversal((s,o)=>{o.foreach_(Ye(e,s),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,s)=>{s.value&&e(i,s.value)})}}class bn{constructor(e){this.writeTree_=e}static empty(){return new bn(new Pe(null))}}function go(n,e,i){if(pe(e))return new bn(new Pe(i));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const o=s.path;let u=s.value;const c=St(o,e);return u=u.updateChild(c,i),new bn(n.writeTree_.set(o,u))}else{const o=new Pe(i),u=n.writeTree_.setTree(e,o);return new bn(u)}}}function um(n,e,i){let s=n;return gt(i,(o,u)=>{s=go(s,Ye(e,o),u)}),s}function Xb(n,e){if(pe(e))return bn.empty();{const i=n.writeTree_.setTree(e,new Pe(null));return new bn(i)}}function cm(n,e){return Fr(n,e)!=null}function Fr(n,e){const i=n.writeTree_.findRootMostValueAndPath(e);return i!=null?n.writeTree_.get(i.path).getChild(St(i.path,e)):null}function Qb(n){const e=[],i=n.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Xe,(s,o)=>{e.push(new fe(s,o))}):n.writeTree_.children.inorderTraversal((s,o)=>{o.value!=null&&e.push(new fe(s,o.value))}),e}function Wi(n,e){if(pe(e))return n;{const i=Fr(n,e);return i!=null?new bn(new Pe(i)):new bn(n.writeTree_.subtree(e))}}function fm(n){return n.writeTree_.isEmpty()}function Ys(n,e){return E0(Te(),n.writeTree_,e)}function E0(n,e,i){if(e.value!=null)return i.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(V(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):i=E0(Ye(n,o),u,i)}),!i.getChild(n).isEmpty()&&s!==null&&(i=i.updateChild(Ye(n,".priority"),s)),i}}function Ic(n,e){return w0(e,n)}function vI(n,e,i,s,o){V(s>n.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),n.allWrites.push({path:e,snap:i,writeId:s,visible:o}),o&&(n.visibleWrites=go(n.visibleWrites,e,i)),n.lastWriteId=s}function bI(n,e,i,s){V(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:i,writeId:s,visible:!0}),n.visibleWrites=um(n.visibleWrites,e,i),n.lastWriteId=s}function EI(n,e){for(let i=0;i<n.allWrites.length;i++){const s=n.allWrites[i];if(s.writeId===e)return s}return null}function SI(n,e){const i=n.allWrites.findIndex(d=>d.writeId===e);V(i>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[i];n.allWrites.splice(i,1);let o=s.visible,u=!1,c=n.allWrites.length-1;for(;o&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=i&&TI(d,s.path)?o=!1:ln(s.path,d.path)&&(u=!0)),c--}if(o){if(u)return CI(n),!0;if(s.snap)n.visibleWrites=Xb(n.visibleWrites,s.path);else{const d=s.children;gt(d,m=>{n.visibleWrites=Xb(n.visibleWrites,Ye(s.path,m))})}return!0}else return!1}function TI(n,e){if(n.snap)return ln(n.path,e);for(const i in n.children)if(n.children.hasOwnProperty(i)&&ln(Ye(n.path,i),e))return!0;return!1}function CI(n){n.visibleWrites=S0(n.allWrites,wI,Te()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function wI(n){return n.visible}function S0(n,e,i){let s=bn.empty();for(let o=0;o<n.length;++o){const u=n[o];if(e(u)){const c=u.path;let d;if(u.snap)ln(i,c)?(d=St(i,c),s=go(s,d,u.snap)):ln(c,i)&&(d=St(c,i),s=go(s,Te(),u.snap.getChild(d)));else if(u.children){if(ln(i,c))d=St(i,c),s=um(s,d,u.children);else if(ln(c,i))if(d=St(c,i),pe(d))s=um(s,Te(),u.children);else{const m=js(u.children,ce(d));if(m){const p=m.getChild(He(d));s=go(s,Te(),p)}}}else throw Zs("WriteRecord should have .snap or .children")}}return s}function T0(n,e,i,s,o){if(!s&&!o){const u=Fr(n.visibleWrites,e);if(u!=null)return u;{const c=Wi(n.visibleWrites,e);if(fm(c))return i;if(i==null&&!cm(c,Te()))return null;{const d=i||ne.EMPTY_NODE;return Ys(c,d)}}}else{const u=Wi(n.visibleWrites,e);if(!o&&fm(u))return i;if(!o&&i==null&&!cm(u,Te()))return null;{const c=function(p){return(p.visible||o)&&(!s||!~s.indexOf(p.writeId))&&(ln(p.path,e)||ln(e,p.path))},d=S0(n.allWrites,c,e),m=i||ne.EMPTY_NODE;return Ys(d,m)}}}function RI(n,e,i){let s=ne.EMPTY_NODE;const o=Fr(n.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Xe,(u,c)=>{s=s.updateImmediateChild(u,c)}),s;if(i){const u=Wi(n.visibleWrites,e);return i.forEachChild(Xe,(c,d)=>{const m=Ys(Wi(u,new Le(c)),d);s=s.updateImmediateChild(c,m)}),Qb(u).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const u=Wi(n.visibleWrites,e);return Qb(u).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function AI(n,e,i,s,o){V(s||o,"Either existingEventSnap or existingServerSnap must exist");const u=Ye(e,i);if(cm(n.visibleWrites,u))return null;{const c=Wi(n.visibleWrites,u);return fm(c)?o.getChild(i):Ys(c,o.getChild(i))}}function NI(n,e,i,s){const o=Ye(e,i),u=Fr(n.visibleWrites,o);if(u!=null)return u;if(s.isCompleteForChild(i)){const c=Wi(n.visibleWrites,o);return Ys(c,s.getNode().getImmediateChild(i))}else return null}function OI(n,e){return Fr(n.visibleWrites,e)}function xI(n,e,i,s,o,u,c){let d;const m=Wi(n.visibleWrites,e),p=Fr(m,Te());if(p!=null)d=p;else if(i!=null)d=Ys(m,i);else return[];if(d=d.withIndex(c),!d.isEmpty()&&!d.isLeafNode()){const y=[],_=c.getCompare(),v=u?d.getReverseIteratorFrom(s,c):d.getIteratorFrom(s,c);let E=v.getNext();for(;E&&y.length<o;)_(E,s)!==0&&y.push(E),E=v.getNext();return y}else return[]}function II(){return{visibleWrites:bn.empty(),allWrites:[],lastWriteId:-1}}function ic(n,e,i,s){return T0(n.writeTree,n.treePath,e,i,s)}function dp(n,e){return RI(n.writeTree,n.treePath,e)}function $b(n,e,i,s){return AI(n.writeTree,n.treePath,e,i,s)}function rc(n,e){return OI(n.writeTree,Ye(n.treePath,e))}function DI(n,e,i,s,o,u){return xI(n.writeTree,n.treePath,e,i,s,o,u)}function mp(n,e,i){return NI(n.writeTree,n.treePath,e,i)}function C0(n,e){return w0(Ye(n.treePath,e),n.writeTree)}function w0(n,e){return{treePath:n,writeTree:e}}class MI{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,s=e.childName;V(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),V(s!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(s);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(s,Ao(s,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(s,Ro(s,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(s,Vs(s,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(s,Ao(s,e.snapshotNode,o.oldSnap));else throw Zs("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}class LI{getCompleteChild(e){return null}getChildAfterChild(e,i,s){return null}}const R0=new LI;class pp{constructor(e,i,s=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=s}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new tr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mp(this.writes_,e,s)}}getChildAfterChild(e,i,s){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Pr(this.viewCache_),u=DI(this.writes_,o,i,1,s,e);return u.length===0?null:u[0]}}function kI(n){return{filter:n}}function UI(n,e){V(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),V(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function PI(n,e,i,s,o){const u=new MI;let c,d;if(i.type===yn.OVERWRITE){const p=i;p.source.fromUser?c=hm(n,e,p.path,p.snap,s,o,u):(V(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered()&&!pe(p.path),c=sc(n,e,p.path,p.snap,s,o,d,u))}else if(i.type===yn.MERGE){const p=i;p.source.fromUser?c=BI(n,e,p.path,p.children,s,o,u):(V(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered(),c=dm(n,e,p.path,p.children,s,o,d,u))}else if(i.type===yn.ACK_USER_WRITE){const p=i;p.revert?c=FI(n,e,p.path,s,o,u):c=zI(n,e,p.path,p.affectedTree,s,o,u)}else if(i.type===yn.LISTEN_COMPLETE)c=jI(n,e,i.path,s,u);else throw Zs("Unknown operation type: "+i.type);const m=u.getChanges();return HI(e,c,m),{viewCache:c,changes:m}}function HI(n,e,i){const s=e.eventCache;if(s.isFullyInitialized()){const o=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=nc(n);(i.length>0||!n.eventCache.isFullyInitialized()||o&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&i.push(y0(nc(e)))}}function A0(n,e,i,s,o,u){const c=e.eventCache;if(rc(s,i)!=null)return e;{let d,m;if(pe(i))if(V(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Pr(e),y=p instanceof ne?p:ne.EMPTY_NODE,_=dp(s,y);d=n.filter.updateFullNode(e.eventCache.getNode(),_,u)}else{const p=ic(s,Pr(e));d=n.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=ce(i);if(p===".priority"){V(er(i)===1,"Can't have a priority with additional path components");const y=c.getNode();m=e.serverCache.getNode();const _=$b(s,i,y,m);_!=null?d=n.filter.updatePriority(y,_):d=c.getNode()}else{const y=He(i);let _;if(c.isCompleteForChild(p)){m=e.serverCache.getNode();const v=$b(s,i,c.getNode(),m);v!=null?_=c.getNode().getImmediateChild(p).updateChild(y,v):_=c.getNode().getImmediateChild(p)}else _=mp(s,p,e.serverCache);_!=null?d=n.filter.updateChild(c.getNode(),p,_,y,o,u):d=c.getNode()}}return po(e,d,c.isFullyInitialized()||pe(i),n.filter.filtersNodes())}}function sc(n,e,i,s,o,u,c,d){const m=e.serverCache;let p;const y=c?n.filter:n.filter.getIndexedFilter();if(pe(i))p=y.updateFullNode(m.getNode(),s,null);else if(y.filtersNodes()&&!m.isFiltered()){const E=m.getNode().updateChild(i,s);p=y.updateFullNode(m.getNode(),E,null)}else{const E=ce(i);if(!m.isCompleteForPath(i)&&er(i)>1)return e;const R=He(i),L=m.getNode().getImmediateChild(E).updateChild(R,s);E===".priority"?p=y.updatePriority(m.getNode(),L):p=y.updateChild(m.getNode(),E,L,R,R0,null)}const _=b0(e,p,m.isFullyInitialized()||pe(i),y.filtersNodes()),v=new pp(o,_,u);return A0(n,_,i,o,v,d)}function hm(n,e,i,s,o,u,c){const d=e.eventCache;let m,p;const y=new pp(o,e,u);if(pe(i))p=n.filter.updateFullNode(e.eventCache.getNode(),s,c),m=po(e,p,!0,n.filter.filtersNodes());else{const _=ce(i);if(_===".priority")p=n.filter.updatePriority(e.eventCache.getNode(),s),m=po(e,p,d.isFullyInitialized(),d.isFiltered());else{const v=He(i),E=d.getNode().getImmediateChild(_);let R;if(pe(v))R=s;else{const D=y.getCompleteChild(_);D!=null?rp(v)===".priority"&&D.getChild(f0(v)).isEmpty()?R=D:R=D.updateChild(v,s):R=ne.EMPTY_NODE}if(E.equals(R))m=e;else{const D=n.filter.updateChild(d.getNode(),_,R,v,y,c);m=po(e,D,d.isFullyInitialized(),n.filter.filtersNodes())}}}return m}function Wb(n,e){return n.eventCache.isCompleteForChild(e)}function BI(n,e,i,s,o,u,c){let d=e;return s.foreach((m,p)=>{const y=Ye(i,m);Wb(e,ce(y))&&(d=hm(n,d,y,p,o,u,c))}),s.foreach((m,p)=>{const y=Ye(i,m);Wb(e,ce(y))||(d=hm(n,d,y,p,o,u,c))}),d}function Kb(n,e,i){return i.foreach((s,o)=>{e=e.updateChild(s,o)}),e}function dm(n,e,i,s,o,u,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;pe(i)?p=s:p=new Pe(null).setTree(i,s);const y=e.serverCache.getNode();return p.children.inorderTraversal((_,v)=>{if(y.hasChild(_)){const E=e.serverCache.getNode().getImmediateChild(_),R=Kb(n,E,v);m=sc(n,m,new Le(_),R,o,u,c,d)}}),p.children.inorderTraversal((_,v)=>{const E=!e.serverCache.isCompleteForChild(_)&&v.value===null;if(!y.hasChild(_)&&!E){const R=e.serverCache.getNode().getImmediateChild(_),D=Kb(n,R,v);m=sc(n,m,new Le(_),D,o,u,c,d)}}),m}function zI(n,e,i,s,o,u,c){if(rc(o,i)!=null)return e;const d=e.serverCache.isFiltered(),m=e.serverCache;if(s.value!=null){if(pe(i)&&m.isFullyInitialized()||m.isCompleteForPath(i))return sc(n,e,i,m.getNode().getChild(i),o,u,d,c);if(pe(i)){let p=new Pe(null);return m.getNode().forEachChild(Us,(y,_)=>{p=p.set(new Le(y),_)}),dm(n,e,i,p,o,u,d,c)}else return e}else{let p=new Pe(null);return s.foreach((y,_)=>{const v=Ye(i,y);m.isCompleteForPath(v)&&(p=p.set(y,m.getNode().getChild(v)))}),dm(n,e,i,p,o,u,d,c)}}function jI(n,e,i,s,o){const u=e.serverCache,c=b0(e,u.getNode(),u.isFullyInitialized()||pe(i),u.isFiltered());return A0(n,c,i,s,R0,o)}function FI(n,e,i,s,o,u){let c;if(rc(s,i)!=null)return e;{const d=new pp(s,e,o),m=e.eventCache.getNode();let p;if(pe(i)||ce(i)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=ic(s,Pr(e));else{const _=e.serverCache.getNode();V(_ instanceof ne,"serverChildren would be complete if leaf node"),y=dp(s,_)}y=y,p=n.filter.updateFullNode(m,y,u)}else{const y=ce(i);let _=mp(s,y,e.serverCache);_==null&&e.serverCache.isCompleteForChild(y)&&(_=m.getImmediateChild(y)),_!=null?p=n.filter.updateChild(m,y,_,He(i),d,u):e.eventCache.getNode().hasChild(y)?p=n.filter.updateChild(m,y,ne.EMPTY_NODE,He(i),d,u):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=ic(s,Pr(e)),c.isLeafNode()&&(p=n.filter.updateFullNode(p,c,u)))}return c=e.serverCache.isFullyInitialized()||rc(s,Te())!=null,po(e,p,c,n.filter.filtersNodes())}}class GI{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,o=new lp(s.getIndex()),u=oI(s);this.processor_=kI(u);const c=i.serverCache,d=i.eventCache,m=o.updateFullNode(ne.EMPTY_NODE,c.getNode(),null),p=u.updateFullNode(ne.EMPTY_NODE,d.getNode(),null),y=new tr(m,c.isFullyInitialized(),o.filtersNodes()),_=new tr(p,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=xc(_,y),this.eventGenerator_=new mI(this.query_)}get query(){return this.query_}}function VI(n){return n.viewCache_.serverCache.getNode()}function qI(n){return nc(n.viewCache_)}function YI(n,e){const i=Pr(n.viewCache_);return i&&(n.query._queryParams.loadsAllData()||!pe(e)&&!i.getImmediateChild(ce(e)).isEmpty())?i.getChild(e):null}function Zb(n){return n.eventRegistrations_.length===0}function XI(n,e){n.eventRegistrations_.push(e)}function Jb(n,e,i){const s=[];if(i){V(e==null,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(i,o);c&&s.push(c)})}if(e){let o=[];for(let u=0;u<n.eventRegistrations_.length;++u){const c=n.eventRegistrations_[u];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(u+1));break}}n.eventRegistrations_=o}else n.eventRegistrations_=[];return s}function eE(n,e,i,s){e.type===yn.MERGE&&e.source.queryId!==null&&(V(Pr(n.viewCache_),"We should always have a full cache before handling merges"),V(nc(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,u=PI(n.processor_,o,e,i,s);return UI(n.processor_,u.viewCache),V(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,N0(n,u.changes,u.viewCache.eventCache.getNode(),null)}function QI(n,e){const i=n.viewCache_.eventCache,s=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Xe,(u,c)=>{s.push(Vs(u,c))}),i.isFullyInitialized()&&s.push(y0(i.getNode())),N0(n,s,i.getNode(),e)}function N0(n,e,i,s){const o=s?[s]:n.eventRegistrations_;return pI(n.eventGenerator_,e,i,o)}let ac;class O0{constructor(){this.views=new Map}}function $I(n){V(!ac,"__referenceConstructor has already been defined"),ac=n}function WI(){return V(ac,"Reference.ts has not been loaded"),ac}function KI(n){return n.views.size===0}function gp(n,e,i,s){const o=e.source.queryId;if(o!==null){const u=n.views.get(o);return V(u!=null,"SyncTree gave us an op for an invalid query."),eE(u,e,i,s)}else{let u=[];for(const c of n.views.values())u=u.concat(eE(c,e,i,s));return u}}function x0(n,e,i,s,o){const u=e._queryIdentifier,c=n.views.get(u);if(!c){let d=ic(i,o?s:null),m=!1;d?m=!0:s instanceof ne?(d=dp(i,s),m=!1):(d=ne.EMPTY_NODE,m=!1);const p=xc(new tr(d,m,!1),new tr(s,o,!1));return new GI(e,p)}return c}function ZI(n,e,i,s,o,u){const c=x0(n,e,s,o,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),XI(c,i),QI(c,i)}function JI(n,e,i,s){const o=e._queryIdentifier,u=[];let c=[];const d=nr(n);if(o==="default")for(const[m,p]of n.views.entries())c=c.concat(Jb(p,i,s)),Zb(p)&&(n.views.delete(m),p.query._queryParams.loadsAllData()||u.push(p.query));else{const m=n.views.get(o);m&&(c=c.concat(Jb(m,i,s)),Zb(m)&&(n.views.delete(o),m.query._queryParams.loadsAllData()||u.push(m.query)))}return d&&!nr(n)&&u.push(new(WI())(e._repo,e._path)),{removed:u,events:c}}function I0(n){const e=[];for(const i of n.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function Ki(n,e){let i=null;for(const s of n.views.values())i=i||YI(s,e);return i}function D0(n,e){if(e._queryParams.loadsAllData())return Dc(n);{const s=e._queryIdentifier;return n.views.get(s)}}function M0(n,e){return D0(n,e)!=null}function nr(n){return Dc(n)!=null}function Dc(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let oc;function eD(n){V(!oc,"__referenceConstructor has already been defined"),oc=n}function tD(){return V(oc,"Reference.ts has not been loaded"),oc}let nD=1;class tE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pe(null),this.pendingWriteTree_=II(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function L0(n,e,i,s,o){return vI(n.pendingWriteTree_,e,i,s,o),o?ia(n,new Ur(cp(),e,i)):[]}function iD(n,e,i,s){bI(n.pendingWriteTree_,e,i,s);const o=Pe.fromObject(i);return ia(n,new qs(cp(),e,o))}function Yi(n,e,i=!1){const s=EI(n.pendingWriteTree_,e);if(SI(n.pendingWriteTree_,e)){let u=new Pe(null);return s.snap!=null?u=u.set(Te(),!0):gt(s.children,c=>{u=u.set(new Le(c),!0)}),ia(n,new tc(s.path,u,i))}else return[]}function Xo(n,e,i){return ia(n,new Ur(fp(),e,i))}function rD(n,e,i){const s=Pe.fromObject(i);return ia(n,new qs(fp(),e,s))}function sD(n,e){return ia(n,new Oo(fp(),e))}function aD(n,e,i){const s=yp(n,i);if(s){const o=vp(s),u=o.path,c=o.queryId,d=St(u,e),m=new Oo(hp(c),d);return bp(n,u,m)}else return[]}function lc(n,e,i,s,o=!1){const u=e._path,c=n.syncPointTree_.get(u);let d=[];if(c&&(e._queryIdentifier==="default"||M0(c,e))){const m=JI(c,e,i,s);KI(c)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const p=m.removed;if(d=m.events,!o){const y=p.findIndex(v=>v._queryParams.loadsAllData())!==-1,_=n.syncPointTree_.findOnPath(u,(v,E)=>nr(E));if(y&&!_){const v=n.syncPointTree_.subtree(u);if(!v.isEmpty()){const E=uD(v);for(let R=0;R<E.length;++R){const D=E[R],L=D.query,F=H0(n,D);n.listenProvider_.startListening(_o(L),xo(n,L),F.hashFn,F.onComplete)}}}!_&&p.length>0&&!s&&(y?n.listenProvider_.stopListening(_o(e),null):p.forEach(v=>{const E=n.queryToTagMap.get(Mc(v));n.listenProvider_.stopListening(_o(v),E)}))}cD(n,p)}return d}function k0(n,e,i,s){const o=yp(n,s);if(o!=null){const u=vp(o),c=u.path,d=u.queryId,m=St(c,e),p=new Ur(hp(d),m,i);return bp(n,c,p)}else return[]}function oD(n,e,i,s){const o=yp(n,s);if(o){const u=vp(o),c=u.path,d=u.queryId,m=St(c,e),p=Pe.fromObject(i),y=new qs(hp(d),m,p);return bp(n,c,y)}else return[]}function mm(n,e,i,s=!1){const o=e._path;let u=null,c=!1;n.syncPointTree_.foreachOnPath(o,(v,E)=>{const R=St(v,o);u=u||Ki(E,R),c=c||nr(E)});let d=n.syncPointTree_.get(o);d?(c=c||nr(d),u=u||Ki(d,Te())):(d=new O0,n.syncPointTree_=n.syncPointTree_.set(o,d));let m;u!=null?m=!0:(m=!1,u=ne.EMPTY_NODE,n.syncPointTree_.subtree(o).foreachChild((E,R)=>{const D=Ki(R,Te());D&&(u=u.updateImmediateChild(E,D))}));const p=M0(d,e);if(!p&&!e._queryParams.loadsAllData()){const v=Mc(e);V(!n.queryToTagMap.has(v),"View does not exist, but we have a tag");const E=fD();n.queryToTagMap.set(v,E),n.tagToQueryMap.set(E,v)}const y=Ic(n.pendingWriteTree_,o);let _=ZI(d,e,i,y,u,m);if(!p&&!c&&!s){const v=D0(d,e);_=_.concat(hD(n,e,v))}return _}function _p(n,e,i){const o=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(c,d)=>{const m=St(c,e),p=Ki(d,m);if(p)return p});return T0(o,e,u,i,!0)}function lD(n,e){const i=e._path;let s=null;n.syncPointTree_.foreachOnPath(i,(p,y)=>{const _=St(p,i);s=s||Ki(y,_)});let o=n.syncPointTree_.get(i);o?s=s||Ki(o,Te()):(o=new O0,n.syncPointTree_=n.syncPointTree_.set(i,o));const u=s!=null,c=u?new tr(s,!0,!1):null,d=Ic(n.pendingWriteTree_,e._path),m=x0(o,e,d,u?c.getNode():ne.EMPTY_NODE,u);return qI(m)}function ia(n,e){return U0(e,n.syncPointTree_,null,Ic(n.pendingWriteTree_,Te()))}function U0(n,e,i,s){if(pe(n.path))return P0(n,e,i,s);{const o=e.get(Te());i==null&&o!=null&&(i=Ki(o,Te()));let u=[];const c=ce(n.path),d=n.operationForChild(c),m=e.children.get(c);if(m&&d){const p=i?i.getImmediateChild(c):null,y=C0(s,c);u=u.concat(U0(d,m,p,y))}return o&&(u=u.concat(gp(o,n,s,i))),u}}function P0(n,e,i,s){const o=e.get(Te());i==null&&o!=null&&(i=Ki(o,Te()));let u=[];return e.children.inorderTraversal((c,d)=>{const m=i?i.getImmediateChild(c):null,p=C0(s,c),y=n.operationForChild(c);y&&(u=u.concat(P0(y,d,m,p)))}),o&&(u=u.concat(gp(o,n,s,i))),u}function H0(n,e){const i=e.query,s=xo(n,i);return{hashFn:()=>(VI(e)||ne.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return s?aD(n,i._path,s):sD(n,i._path);{const u=sx(o,i);return lc(n,i,null,u)}}}}function xo(n,e){const i=Mc(e);return n.queryToTagMap.get(i)}function Mc(n){return n._path.toString()+"$"+n._queryIdentifier}function yp(n,e){return n.tagToQueryMap.get(e)}function vp(n){const e=n.indexOf("$");return V(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Le(n.substr(0,e))}}function bp(n,e,i){const s=n.syncPointTree_.get(e);V(s,"Missing sync point for query tag that we're tracking");const o=Ic(n.pendingWriteTree_,e);return gp(s,i,o,null)}function uD(n){return n.fold((e,i,s)=>{if(i&&nr(i))return[Dc(i)];{let o=[];return i&&(o=I0(i)),gt(s,(u,c)=>{o=o.concat(c)}),o}})}function _o(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(tD())(n._repo,n._path):n}function cD(n,e){for(let i=0;i<e.length;++i){const s=e[i];if(!s._queryParams.loadsAllData()){const o=Mc(s),u=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(u)}}}function fD(){return nD++}function hD(n,e,i){const s=e._path,o=xo(n,e),u=H0(n,i),c=n.listenProvider_.startListening(_o(e),o,u.hashFn,u.onComplete),d=n.syncPointTree_.subtree(s);if(o)V(!nr(d.value),"If we're adding a query, it shouldn't be shadowed");else{const m=d.fold((p,y,_)=>{if(!pe(p)&&y&&nr(y))return[Dc(y).query];{let v=[];return y&&(v=v.concat(I0(y).map(E=>E.query))),gt(_,(E,R)=>{v=v.concat(R)}),v}});for(let p=0;p<m.length;++p){const y=m[p];n.listenProvider_.stopListening(_o(y),xo(n,y))}}return c}class Ep{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Ep(i)}node(){return this.node_}}class Sp{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Ye(this.path_,e);return new Sp(this.syncTree_,i)}node(){return _p(this.syncTree_,this.path_)}}const dD=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},nE=function(n,e,i){if(!n||typeof n!="object")return n;if(V(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return mD(n[".sv"],e,i);if(typeof n[".sv"]=="object")return pD(n[".sv"],e);V(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},mD=function(n,e,i){if(n==="timestamp")return i.timestamp;V(!1,"Unexpected server value: "+n)},pD=function(n,e,i){n.hasOwnProperty("increment")||V(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&V(!1,"Unexpected increment value: "+s);const o=e.node();if(V(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return s;const c=o.getValue();return typeof c!="number"?s:c+s},B0=function(n,e,i,s){return Tp(e,new Sp(i,n),s)},z0=function(n,e,i){return Tp(n,new Ep(e),i)};function Tp(n,e,i){const s=n.getPriority().val(),o=nE(s,e.getImmediateChild(".priority"),i);let u;if(n.isLeafNode()){const c=n,d=nE(c.getValue(),e,i);return d!==c.getValue()||o!==c.getPriority().val()?new ot(d,it(o)):n}else{const c=n;return u=c,o!==c.getPriority().val()&&(u=u.updatePriority(new ot(o))),c.forEachChild(Xe,(d,m)=>{const p=Tp(m,e.getImmediateChild(d),i);p!==m&&(u=u.updateImmediateChild(d,p))}),u}}class Cp{constructor(e="",i=null,s={children:{},childCount:0}){this.name=e,this.parent=i,this.node=s}}function wp(n,e){let i=e instanceof Le?e:new Le(e),s=n,o=ce(i);for(;o!==null;){const u=js(s.node.children,o)||{children:{},childCount:0};s=new Cp(o,s,u),i=He(i),o=ce(i)}return s}function ra(n){return n.node.value}function j0(n,e){n.node.value=e,pm(n)}function F0(n){return n.node.childCount>0}function gD(n){return ra(n)===void 0&&!F0(n)}function Lc(n,e){gt(n.node.children,(i,s)=>{e(new Cp(i,n,s))})}function G0(n,e,i,s){i&&e(n),Lc(n,o=>{G0(o,e,!0)})}function _D(n,e,i){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Qo(n){return new Le(n.parent===null?n.name:Qo(n.parent)+"/"+n.name)}function pm(n){n.parent!==null&&yD(n.parent,n.name,n)}function yD(n,e,i){const s=gD(i),o=Mn(n.node.children,e);s&&o?(delete n.node.children[e],n.node.childCount--,pm(n)):!s&&!o&&(n.node.children[e]=i.node,n.node.childCount++,pm(n))}const vD=/[\[\].#$\/\u0000-\u001F\u007F]/,bD=/[\[\].#$\u0000-\u001F\u007F]/,Hd=10*1024*1024,Rp=function(n){return typeof n=="string"&&n.length!==0&&!vD.test(n)},V0=function(n){return typeof n=="string"&&n.length!==0&&!bD.test(n)},ED=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),V0(n)},SD=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Jm(n)||n&&typeof n=="object"&&Mn(n,".sv")},q0=function(n,e,i,s){s&&e===void 0||kc(Ac(n,"value"),e,i)},kc=function(n,e,i){const s=i instanceof Le?new Bx(i,n):i;if(e===void 0)throw new Error(n+"contains undefined "+Ir(s));if(typeof e=="function")throw new Error(n+"contains a function "+Ir(s)+" with contents = "+e.toString());if(Jm(e))throw new Error(n+"contains "+e.toString()+" "+Ir(s));if(typeof e=="string"&&e.length>Hd/3&&Nc(e)>Hd)throw new Error(n+"contains a string greater than "+Hd+" utf8 bytes "+Ir(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(gt(e,(c,d)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!Rp(c)))throw new Error(n+" contains an invalid key ("+c+") "+Ir(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);zx(s,c),kc(n,d,s),jx(s)}),o&&u)throw new Error(n+' contains ".value" child '+Ir(s)+" in addition to actual children.")}},TD=function(n,e){let i,s;for(i=0;i<e.length;i++){s=e[i];const u=wo(s);for(let c=0;c<u.length;c++)if(!(u[c]===".priority"&&c===u.length-1)){if(!Rp(u[c]))throw new Error(n+"contains an invalid key ("+u[c]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Hx);let o=null;for(i=0;i<e.length;i++){if(s=e[i],o!==null&&ln(o,s))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+s.toString());o=s}},CD=function(n,e,i,s){const o=Ac(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const u=[];gt(e,(c,d)=>{const m=new Le(c);if(kc(o,d,Ye(i,m)),rp(m)===".priority"&&!SD(d))throw new Error(o+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(m)}),TD(o,u)},Y0=function(n,e,i,s){if(!V0(i))throw new Error(Ac(n,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wD=function(n,e,i,s){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Y0(n,e,i)},Ap=function(n,e){if(ce(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},RD=function(n,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Rp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!ED(i))throw new Error(Ac(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class AD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Uc(n,e){let i=null;for(let s=0;s<e.length;s++){const o=e[s],u=o.getPath();i!==null&&!sp(u,i.path)&&(n.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&n.eventLists_.push(i)}function X0(n,e,i){Uc(n,i),Q0(n,s=>sp(s,e))}function un(n,e,i){Uc(n,i),Q0(n,s=>ln(s,e)||ln(e,s))}function Q0(n,e){n.recursionDepth_++;let i=!0;for(let s=0;s<n.eventLists_.length;s++){const o=n.eventLists_[s];if(o){const u=o.path;e(u)?(ND(n.eventLists_[s]),n.eventLists_[s]=null):i=!1}}i&&(n.eventLists_=[]),n.recursionDepth_--}function ND(n){for(let e=0;e<n.events.length;e++){const i=n.events[e];if(i!==null){n.events[e]=null;const s=i.getEventRunner();ho&&pt("event: "+i.toString()),na(s)}}}const OD="repo_interrupt",xD=25;class ID{constructor(e,i,s,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=s,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new AD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ec(),this.transactionQueueTree_=new Cp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function DD(n,e,i){if(n.stats_=np(n.repoInfo_),n.forceRestClient_||ux())n.server_=new Ju(n.repoInfo_,(s,o,u,c)=>{iE(n,s,o,u,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>rE(n,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(i)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new ai(n.repoInfo_,e,(s,o,u,c)=>{iE(n,s,o,u,c)},s=>{rE(n,s)},s=>{MD(n,s)},n.authTokenProvider_,n.appCheckProvider_,i),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=mx(n.repoInfo_,()=>new dI(n.stats_,n.server_)),n.infoData_=new lI,n.infoSyncTree_=new tE({startListening:(s,o,u,c)=>{let d=[];const m=n.infoData_.getNode(s._path);return m.isEmpty()||(d=Xo(n.infoSyncTree_,s._path,m),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),Np(n,"connected",!1),n.serverSyncTree_=new tE({startListening:(s,o,u,c)=>(n.server_.listen(s,u,o,(d,m)=>{const p=c(d,m);un(n.eventQueue_,s._path,p)}),[]),stopListening:(s,o)=>{n.server_.unlisten(s,o)}})}function $0(n){const i=n.infoData_.getNode(new Le(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Pc(n){return dD({timestamp:$0(n)})}function iE(n,e,i,s,o){n.dataUpdateCount++;const u=new Le(e);i=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,i):i;let c=[];if(o)if(s){const m=Qu(i,p=>it(p));c=oD(n.serverSyncTree_,u,m,o)}else{const m=it(i);c=k0(n.serverSyncTree_,u,m,o)}else if(s){const m=Qu(i,p=>it(p));c=rD(n.serverSyncTree_,u,m)}else{const m=it(i);c=Xo(n.serverSyncTree_,u,m)}let d=u;c.length>0&&(d=Xs(n,u)),un(n.eventQueue_,d,c)}function rE(n,e){Np(n,"connected",e),e===!1&&PD(n)}function MD(n,e){gt(e,(i,s)=>{Np(n,i,s)})}function Np(n,e,i){const s=new Le("/.info/"+e),o=it(i);n.infoData_.updateSnapshot(s,o);const u=Xo(n.infoSyncTree_,s,o);un(n.eventQueue_,s,u)}function Op(n){return n.nextWriteId_++}function LD(n,e,i){const s=lD(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(o=>{const u=it(o).withIndex(e._queryParams.getIndex());mm(n.serverSyncTree_,e,i,!0);let c;if(e._queryParams.loadsAllData())c=Xo(n.serverSyncTree_,e._path,u);else{const d=xo(n.serverSyncTree_,e);c=k0(n.serverSyncTree_,e._path,u,d)}return un(n.eventQueue_,e._path,c),lc(n.serverSyncTree_,e,i,null,!0),u},o=>($o(n,"get for query "+rt(e)+" failed: "+o),Promise.reject(new Error(o))))}function kD(n,e,i,s,o){$o(n,"set",{path:e.toString(),value:i,priority:s});const u=Pc(n),c=it(i,s),d=_p(n.serverSyncTree_,e),m=z0(c,d,u),p=Op(n),y=L0(n.serverSyncTree_,e,m,p,!0);Uc(n.eventQueue_,y),n.server_.put(e.toString(),c.val(!0),(v,E)=>{const R=v==="ok";R||Tt("set at "+e+" failed: "+v);const D=Yi(n.serverSyncTree_,p,!R);un(n.eventQueue_,e,D),gm(n,o,v,E)});const _=Ip(n,e);Xs(n,_),un(n.eventQueue_,_,[])}function UD(n,e,i,s){$o(n,"update",{path:e.toString(),value:i});let o=!0;const u=Pc(n),c={};if(gt(i,(d,m)=>{o=!1,c[d]=B0(Ye(e,d),it(m),n.serverSyncTree_,u)}),o)pt("update() called with empty data.  Don't do anything."),gm(n,s,"ok",void 0);else{const d=Op(n),m=iD(n.serverSyncTree_,e,c,d);Uc(n.eventQueue_,m),n.server_.merge(e.toString(),i,(p,y)=>{const _=p==="ok";_||Tt("update at "+e+" failed: "+p);const v=Yi(n.serverSyncTree_,d,!_),E=v.length>0?Xs(n,e):e;un(n.eventQueue_,E,v),gm(n,s,p,y)}),gt(i,p=>{const y=Ip(n,Ye(e,p));Xs(n,y)}),un(n.eventQueue_,e,[])}}function PD(n){$o(n,"onDisconnectEvents");const e=Pc(n),i=ec();lm(n.onDisconnect_,Te(),(o,u)=>{const c=B0(o,u,n.serverSyncTree_,e);v0(i,o,c)});let s=[];lm(i,Te(),(o,u)=>{s=s.concat(Xo(n.serverSyncTree_,o,u));const c=Ip(n,o);Xs(n,c)}),n.onDisconnect_=ec(),un(n.eventQueue_,Te(),s)}function HD(n,e,i){let s;ce(e._path)===".info"?s=mm(n.infoSyncTree_,e,i):s=mm(n.serverSyncTree_,e,i),X0(n.eventQueue_,e._path,s)}function sE(n,e,i){let s;ce(e._path)===".info"?s=lc(n.infoSyncTree_,e,i):s=lc(n.serverSyncTree_,e,i),X0(n.eventQueue_,e._path,s)}function BD(n){n.persistentConnection_&&n.persistentConnection_.interrupt(OD)}function $o(n,...e){let i="";n.persistentConnection_&&(i=n.persistentConnection_.id+":"),pt(i,...e)}function gm(n,e,i,s){e&&na(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let u=o;s&&(u+=": "+s);const c=new Error(u);c.code=o,e(c)}})}function W0(n,e,i){return _p(n.serverSyncTree_,e,i)||ne.EMPTY_NODE}function xp(n,e=n.transactionQueueTree_){if(e||Hc(n,e),ra(e)){const i=Z0(n,e);V(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&zD(n,Qo(e),i)}else F0(e)&&Lc(e,i=>{xp(n,i)})}function zD(n,e,i){const s=i.map(p=>p.currentWriteId),o=W0(n,e,s);let u=o;const c=o.hash();for(let p=0;p<i.length;p++){const y=i[p];V(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const _=St(e,y.path);u=u.updateChild(_,y.currentOutputSnapshotRaw)}const d=u.val(!0),m=e;n.server_.put(m.toString(),d,p=>{$o(n,"transaction put response",{path:m.toString(),status:p});let y=[];if(p==="ok"){const _=[];for(let v=0;v<i.length;v++)i[v].status=2,y=y.concat(Yi(n.serverSyncTree_,i[v].currentWriteId)),i[v].onComplete&&_.push(()=>i[v].onComplete(null,!0,i[v].currentOutputSnapshotResolved)),i[v].unwatcher();Hc(n,wp(n.transactionQueueTree_,e)),xp(n,n.transactionQueueTree_),un(n.eventQueue_,e,y);for(let v=0;v<_.length;v++)na(_[v])}else{if(p==="datastale")for(let _=0;_<i.length;_++)i[_].status===3?i[_].status=4:i[_].status=0;else{Tt("transaction at "+m.toString()+" failed: "+p);for(let _=0;_<i.length;_++)i[_].status=4,i[_].abortReason=p}Xs(n,e)}},c)}function Xs(n,e){const i=K0(n,e),s=Qo(i),o=Z0(n,i);return jD(n,o,s),s}function jD(n,e,i){if(e.length===0)return;const s=[];let o=[];const c=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const m=e[d],p=St(i,m.path);let y=!1,_;if(V(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)y=!0,_=m.abortReason,o=o.concat(Yi(n.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=xD)y=!0,_="maxretry",o=o.concat(Yi(n.serverSyncTree_,m.currentWriteId,!0));else{const v=W0(n,m.path,c);m.currentInputSnapshot=v;const E=e[d].update(v.val());if(E!==void 0){kc("transaction failed: Data returned ",E,m.path);let R=it(E);typeof E=="object"&&E!=null&&Mn(E,".priority")||(R=R.updatePriority(v.getPriority()));const L=m.currentWriteId,F=Pc(n),G=z0(R,v,F);m.currentOutputSnapshotRaw=R,m.currentOutputSnapshotResolved=G,m.currentWriteId=Op(n),c.splice(c.indexOf(L),1),o=o.concat(L0(n.serverSyncTree_,m.path,G,m.currentWriteId,m.applyLocally)),o=o.concat(Yi(n.serverSyncTree_,L,!0))}else y=!0,_="nodata",o=o.concat(Yi(n.serverSyncTree_,m.currentWriteId,!0))}un(n.eventQueue_,i,o),o=[],y&&(e[d].status=2,(function(v){setTimeout(v,Math.floor(0))})(e[d].unwatcher),e[d].onComplete&&(_==="nodata"?s.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):s.push(()=>e[d].onComplete(new Error(_),!1,null))))}Hc(n,n.transactionQueueTree_);for(let d=0;d<s.length;d++)na(s[d]);xp(n,n.transactionQueueTree_)}function K0(n,e){let i,s=n.transactionQueueTree_;for(i=ce(e);i!==null&&ra(s)===void 0;)s=wp(s,i),e=He(e),i=ce(e);return s}function Z0(n,e){const i=[];return J0(n,e,i),i.sort((s,o)=>s.order-o.order),i}function J0(n,e,i){const s=ra(e);if(s)for(let o=0;o<s.length;o++)i.push(s[o]);Lc(e,o=>{J0(n,o,i)})}function Hc(n,e){const i=ra(e);if(i){let s=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[s]=i[o],s++);i.length=s,j0(e,i.length>0?i:void 0)}Lc(e,s=>{Hc(n,s)})}function Ip(n,e){const i=Qo(K0(n,e)),s=wp(n.transactionQueueTree_,e);return _D(s,o=>{Bd(n,o)}),Bd(n,s),G0(s,o=>{Bd(n,o)}),i}function Bd(n,e){const i=ra(e);if(i){const s=[];let o=[],u=-1;for(let c=0;c<i.length;c++)i[c].status===3||(i[c].status===1?(V(u===c-1,"All SENT items should be at beginning of queue."),u=c,i[c].status=3,i[c].abortReason="set"):(V(i[c].status===0,"Unexpected transaction status in abort"),i[c].unwatcher(),o=o.concat(Yi(n.serverSyncTree_,i[c].currentWriteId,!0)),i[c].onComplete&&s.push(i[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?j0(e,void 0):i.length=u+1,un(n.eventQueue_,Qo(e),o);for(let c=0;c<s.length;c++)na(s[c])}}function FD(n){let e="";const i=n.split("/");for(let s=0;s<i.length;s++)if(i[s].length>0){let o=i[s];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function GD(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const i of n.split("&")){if(i.length===0)continue;const s=i.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Tt(`Invalid query segment '${i}' in query '${n}'`)}return e}const aE=function(n,e){const i=VD(n),s=i.namespace;i.domain==="firebase.com"&&hi(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&i.domain!=="localhost"&&hi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||ex();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new n0(i.host,i.secure,s,o,e,"",s!==i.subdomain),path:new Le(i.pathString)}},VD=function(n){let e="",i="",s="",o="",u="",c=!0,d="https",m=443;if(typeof n=="string"){let p=n.indexOf("//");p>=0&&(d=n.substring(0,p-1),n=n.substring(p+2));let y=n.indexOf("/");y===-1&&(y=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),e=n.substring(0,Math.min(y,_)),y<_&&(o=FD(n.substring(y,_)));const v=GD(n.substring(Math.min(n.length,_)));p=e.indexOf(":"),p>=0?(c=d==="https"||d==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const E=e.slice(0,p);if(E.toLowerCase()==="localhost")i="localhost";else if(E.split(".").length<=2)i=E;else{const R=e.indexOf(".");s=e.substring(0,R).toLowerCase(),i=e.substring(R+1),u=s}"ns"in v&&(u=v.ns)}return{host:e,port:m,domain:i,subdomain:s,secure:c,scheme:d,pathString:o,namespace:u}};const oE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qD=(function(){let n=0;const e=[];return function(i){const s=i===n;n=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=oE.charAt(i%64),i=Math.floor(i/64);V(i===0,"Cannot push at time == 0");let c=u.join("");if(s){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=oE.charAt(e[o]);return V(c.length===20,"nextPushId: Length should be 20."),c}})();class YD{constructor(e,i,s,o){this.eventType=e,this.eventRegistration=i,this.snapshot=s,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class XD{constructor(e,i,s){this.eventRegistration=e,this.error=i,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class eT{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return V(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Dp{constructor(e,i,s,o){this._repo=e,this._path=i,this._queryParams=s,this._orderByCalled=o}get key(){return pe(this._path)?null:rp(this._path)}get ref(){return new pi(this._repo,this._path)}get _queryIdentifier(){const e=qb(this._queryParams),i=ep(e);return i==="{}"?"default":i}get _queryObject(){return qb(this._queryParams)}isEqual(e){if(e=vt(e),!(e instanceof Dp))return!1;const i=this._repo===e._repo,s=sp(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&s&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+Px(this._path)}}class pi extends Dp{constructor(e,i){super(e,i,new up,!1)}get parent(){const e=f0(this._path);return e===null?null:new pi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Io{constructor(e,i,s){this._node=e,this.ref=i,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Le(e),s=Do(this.ref,e);return new Io(this._node.getChild(i),s,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,o)=>e(new Io(o,Do(this.ref,s),Xe)))}hasChild(e){const i=new Le(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function oi(n,e){return n=vt(n),n._checkNotDeleted("ref"),e!==void 0?Do(n._root,e):n._root}function Do(n,e){return n=vt(n),ce(n._path)===null?wD("child","path",e):Y0("child","path",e),new pi(n._repo,Ye(n._path,e))}function QD(n,e){n=vt(n),Ap("push",n._path),q0("push",e,n._path,!0);const i=$0(n._repo),s=qD(i),o=Do(n,s),u=Do(n,s);let c;return e!=null?c=Mp(u,e).then(()=>u):c=Promise.resolve(u),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function $D(n){return Ap("remove",n._path),Mp(n,null)}function Mp(n,e){n=vt(n),Ap("set",n._path),q0("set",e,n._path,!1);const i=new Fo;return kD(n._repo,n._path,e,null,i.wrapCallback(()=>{})),i.promise}function tT(n,e){CD("update",e,n._path);const i=new Fo;return UD(n._repo,n._path,e,i.wrapCallback(()=>{})),i.promise}function Lp(n){n=vt(n);const e=new eT(()=>{}),i=new Bc(e);return LD(n._repo,n,i).then(s=>new Io(s,new pi(n._repo,n._path),n._queryParams.getIndex()))}class Bc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const s=i._queryParams.getIndex();return new YD("value",this,new Io(e.snapshotNode,new pi(i._repo,i._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new XD(this,e,i):null}matches(e){return e instanceof Bc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function WD(n,e,i,s,o){let u;if(typeof s=="object"&&(u=void 0,o=s),typeof s=="function"&&(u=s),o&&o.onlyOnce){const m=i,p=(y,_)=>{sE(n._repo,n,d),m(y,_)};p.userCallback=i.userCallback,p.context=i.context,i=p}const c=new eT(i,u||void 0),d=new Bc(c);return HD(n._repo,n,d),()=>sE(n._repo,n,d)}function KD(n,e,i,s){return WD(n,"value",e,i,s)}$I(pi);eD(pi);const ZD="FIREBASE_DATABASE_EMULATOR_HOST",_m={};let JD=!1;function eM(n,e,i,s){const o=e.lastIndexOf(":"),u=e.substring(0,o),c=Js(u);n.repoInfo_=new n0(e,c,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,i),s&&(n.authTokenProvider_=s)}function tM(n,e,i,s,o){let u=s||n.options.databaseURL;u===void 0&&(n.options.projectId||hi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pt("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=aE(u,o),d=c.repoInfo,m;typeof process<"u"&&Ab&&(m=Ab[ZD]),m?(u=`http://${m}?ns=${d.namespace}`,c=aE(u,o),d=c.repoInfo):c.repoInfo.secure;const p=new fx(n.name,n.options,e);RD("Invalid Firebase Database URL",c),pe(c.path)||hi("Database URL must point to the root of a Firebase Database (not including a child path).");const y=iM(d,n,p,new cx(n,i));return new rM(y,n)}function nM(n,e){const i=_m[e];(!i||i[n.key]!==n)&&hi(`Database ${e}(${n.repoInfo_}) has already been deleted.`),BD(n),delete i[n.key]}function iM(n,e,i,s){let o=_m[e.name];o||(o={},_m[e.name]=o);let u=o[n.toURLString()];return u&&hi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new ID(n,JD,i,s),o[n.toURLString()]=u,u}class rM{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(DD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pi(this._repo,Te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(nM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&hi("Cannot call "+e+" on a deleted database.")}}function yo(n=BS(),e){const i=Zm(n,"database").getImmediate({identifier:e});if(!i._instanceStarted){const s=bN("database");s&&sM(i,...s)}return i}function sM(n,e,i,s={}){n=vt(n),n._checkNotDeleted("useEmulator");const o=`${e}:${i}`,u=n._repoInternal;if(n._instanceStarted){if(o===n._repoInternal.repoInfo_.host&&Mr(s,u.repoInfo_.emulatorOptions))return;hi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&hi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Uu(Uu.OWNER);else if(s.mockUserToken){const d=typeof s.mockUserToken=="string"?s.mockUserToken:EN(s.mockUserToken,n.app.options.projectId);c=new Uu(d)}Js(e)&&(DS(e),MS("Database",!0)),eM(u,o,s,c)}function aM(n){QO(ta),Fs(new Lr("database",(e,{instanceIdentifier:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return tM(s,o,u,i)},"PUBLIC").setMultipleInstances(!0)),$i(Nb,Ob,n),$i(Nb,Ob,"esm2020")}ai.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};ai.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};aM();var oM="firebase",lM="12.8.0";$i(oM,lM,"app");const uM={apiKey:"AIzaSyCU0WPTyqBGvgTZkIoplVUPfee4Zxaln44",authDomain:"ac62-a682c.firebaseapp.com",databaseURL:"https://ac62-a682c-default-rtdb.europe-west1.firebasedatabase.app",projectId:"ac62-a682c",storageBucket:"ac62-a682c.firebasestorage.app",messagingSenderId:"574850486529",appId:"1:574850486529:web:dffd5d25e74d2501d58b00"},Ps=HS(uM),Wo=yo(Ps),Ko="orders";function nT(n){return n.reduce((e,i)=>e+i.price*i.quantity,0)}function iT(n,e){const i=Array.isArray(e?.items)?e.items:[],s=typeof e?.createdAt=="number"?e.createdAt:Date.now(),o=e?.status??"CREATED",u=typeof e?.total=="number"&&Number.isFinite(e.total)?e.total:nT(i);return{id:n,createdAt:s,status:o,items:i,total:u,notes:e?.notes??""}}async function rT(n){const e=oi(Wo,Ko),i={createdAt:n.createdAt??Date.now(),status:n.status??"CREATED",items:n.items??[],total:nT(n.items??[]),notes:n.notes??""},o=(await QD(e,i)).key;if(!o)throw new Error("Firebase did not return a key for the new order");return yt.info(`Order created: ${o}`),o}function cM(n,e){const i=oi(Wo,Ko);return KD(i,s=>{const o=s.val(),u=o?Object.entries(o).map(([c,d])=>iT(c,d)):[];n(u)},s=>{yt.error(`Order subscribe error: ${String(s)}`),e?.(s)})}async function fM(){const n=oi(Wo,Ko),i=(await Lp(n)).val();return i?Object.entries(i).map(([s,o])=>iT(s,o)):[]}async function hM(n,e){const i=oi(Wo,`${Ko}/${n}`);await tT(i,e),yt.info(`Order updated: ${n}`)}async function dM(n){const e=oi(Wo,`${Ko}/${n}`);await $D(e),yt.warn(`Order deleted: ${n}`)}async function mM(n,e){return rT({items:n,notes:e,status:"CREATED"})}const zc={create:rT,createFromCart:mM,subscribe:cM,listOnce:fM,patch:hM,deleteById:dM};function Nn(n,e){const i=e&&e.cache?e.cache:EM,s=e&&e.serializer?e.serializer:vM;return(e&&e.strategy?e.strategy:_M)(n,{cache:i,serializer:s})}function pM(n){return n==null||typeof n=="number"||typeof n=="boolean"}function gM(n,e,i,s){const o=pM(s)?s:i(s);let u=e.get(o);return typeof u>"u"&&(u=n.call(this,s),e.set(o,u)),u}function sT(n,e,i){const s=Array.prototype.slice.call(arguments,3),o=i(s);let u=e.get(o);return typeof u>"u"&&(u=n.apply(this,s),e.set(o,u)),u}function aT(n,e,i,s,o){return i.bind(e,n,s,o)}function _M(n,e){const i=n.length===1?gM:sT;return aT(n,this,i,e.cache.create(),e.serializer)}function yM(n,e){return aT(n,this,sT,e.cache.create(),e.serializer)}const vM=function(){return JSON.stringify(arguments)};class bM{cache;constructor(){this.cache=Object.create(null)}get(e){return this.cache[e]}set(e,i){this.cache[e]=i}}const EM={create:function(){return new bM}},On={variadic:yM},SM=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function TM(n){const e={};return n.replace(SM,i=>{const s=i.length;switch(i[0]){case"G":e.era=s===4?"long":s===5?"narrow":"short";break;case"y":e.year=s===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][s-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][s-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=s===4?"long":s===5?"narrow":"short";break;case"e":if(s<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][s-4];break;case"c":if(s<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][s-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][s-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][s-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][s-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][s-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][s-1];break;case"s":e.second=["numeric","2-digit"][s-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=s<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),e}const CM=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function wM(n){if(n.length===0)throw new Error("Number skeleton cannot be empty");const e=n.split(CM).filter(s=>s.length>0),i=[];for(const s of e){let o=s.split("/");if(o.length===0)throw new Error("Invalid number skeleton");const[u,...c]=o;for(const d of c)if(d.length===0)throw new Error("Invalid number skeleton");i.push({stem:u,options:c})}return i}function RM(n){return n.replace(/^(.*?)-/,"")}const lE=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,oT=/^(@+)?(\+|#+)?[rs]?$/g,AM=/(\*)(0+)|(#+)(0+)|(0+)/g,lT=/^(0+)$/;function uE(n){const e={};return n[n.length-1]==="r"?e.roundingPriority="morePrecision":n[n.length-1]==="s"&&(e.roundingPriority="lessPrecision"),n.replace(oT,function(i,s,o){return typeof o!="string"?(e.minimumSignificantDigits=s.length,e.maximumSignificantDigits=s.length):o==="+"?e.minimumSignificantDigits=s.length:s[0]==="#"?e.maximumSignificantDigits=s.length:(e.minimumSignificantDigits=s.length,e.maximumSignificantDigits=s.length+(typeof o=="string"?o.length:0)),""}),e}function uT(n){switch(n){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function NM(n){let e;if(n[0]==="E"&&n[1]==="E"?(e={notation:"engineering"},n=n.slice(2)):n[0]==="E"&&(e={notation:"scientific"},n=n.slice(1)),e){const i=n.slice(0,2);if(i==="+!"?(e.signDisplay="always",n=n.slice(2)):i==="+?"&&(e.signDisplay="exceptZero",n=n.slice(2)),!lT.test(n))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=n.length}return e}function cE(n){const e={},i=uT(n);return i||e}function OM(n){let e={};for(const i of n){switch(i.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=i.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=RM(i.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e={...e,notation:"scientific",...i.options.reduce((u,c)=>({...u,...cE(c)}),{})};continue;case"engineering":e={...e,notation:"engineering",...i.options.reduce((u,c)=>({...u,...cE(c)}),{})};continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(i.options[0]);continue;case"rounding-mode-floor":e.roundingMode="floor";continue;case"rounding-mode-ceiling":e.roundingMode="ceil";continue;case"rounding-mode-down":e.roundingMode="trunc";continue;case"rounding-mode-up":e.roundingMode="expand";continue;case"rounding-mode-half-even":e.roundingMode="halfEven";continue;case"rounding-mode-half-down":e.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":e.roundingMode="halfExpand";continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(AM,function(u,c,d,m,p,y){if(c)e.minimumIntegerDigits=d.length;else{if(m&&p)throw new Error("We currently do not support maximum integer digits");if(y)throw new Error("We currently do not support exact integer digits")}return""});continue}if(lT.test(i.stem)){e.minimumIntegerDigits=i.stem.length;continue}if(lE.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(lE,function(c,d,m,p,y,_){return m==="*"?e.minimumFractionDigits=d.length:p&&p[0]==="#"?e.maximumFractionDigits=p.length:y&&_?(e.minimumFractionDigits=y.length,e.maximumFractionDigits=y.length+_.length):(e.minimumFractionDigits=d.length,e.maximumFractionDigits=d.length),""});const u=i.options[0];u==="w"?e={...e,trailingZeroDisplay:"stripIfInteger"}:u&&(e={...e,...uE(u)});continue}if(oT.test(i.stem)){e={...e,...uE(i.stem)};continue}const s=uT(i.stem);s&&(e={...e,...s});const o=NM(i.stem);o&&(e={...e,...o})}return e}let Ge=(function(n){return n[n.literal=0]="literal",n[n.argument=1]="argument",n[n.number=2]="number",n[n.date=3]="date",n[n.time=4]="time",n[n.select=5]="select",n[n.plural=6]="plural",n[n.pound=7]="pound",n[n.tag=8]="tag",n})({}),uc=(function(n){return n[n.number=0]="number",n[n.dateTime=1]="dateTime",n})({});function fE(n){return n.type===Ge.literal}function xM(n){return n.type===Ge.argument}function cT(n){return n.type===Ge.number}function fT(n){return n.type===Ge.date}function hT(n){return n.type===Ge.time}function dT(n){return n.type===Ge.select}function mT(n){return n.type===Ge.plural}function IM(n){return n.type===Ge.pound}function pT(n){return n.type===Ge.tag}function gT(n){return!!(n&&typeof n=="object"&&n.type===uc.number)}function ym(n){return!!(n&&typeof n=="object"&&n.type===uc.dateTime)}let be=(function(n){return n[n.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",n[n.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",n[n.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",n[n.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",n[n.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",n[n.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",n[n.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",n[n.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",n[n.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",n[n.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",n[n.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",n[n.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",n[n.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",n[n.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",n[n.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",n[n.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",n[n.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",n[n.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",n[n.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",n[n.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",n[n.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",n[n.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",n[n.INVALID_TAG=23]="INVALID_TAG",n[n.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",n[n.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",n[n.UNCLOSED_TAG=27]="UNCLOSED_TAG",n})({});const _T=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Nu={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GS:["H","h","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ku-SY":["H","hB"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function DM(n,e){let i="";for(let s=0;s<n.length;s++){const o=n.charAt(s);if(o==="j"){let u=0;for(;s+1<n.length&&n.charAt(s+1)===o;)u++,s++;let c=1+(u&1),d=u<2?1:3+(u>>1),m="a",p=MM(e);for((p=="H"||p=="k")&&(d=0);d-- >0;)i+=m;for(;c-- >0;)i=p+i}else o==="J"?i+="H":i+=o}return i}function MM(n){let e=n.hourCycle;if(e===void 0&&n.hourCycles&&n.hourCycles.length&&(e=n.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}const i=n.language;let s;return i!=="root"&&(s=n.maximize().region),(Nu[s||""]||Nu[i||""]||Nu[`${i}-001`]||Nu["001"])[0]}const LM=new RegExp(`^${_T.source}*`),kM=new RegExp(`${_T.source}*$`);function ve(n,e){return{start:n,end:e}}const UM=!!Object.fromEntries,PM=!!String.prototype.trimStart,HM=!!String.prototype.trimEnd,hE=UM?Object.fromEntries:function(e){const i={};for(const[s,o]of e)i[s]=o;return i},BM=PM?function(e){return e.trimStart()}:function(e){return e.replace(LM,"")},zM=HM?function(e){return e.trimEnd()}:function(e){return e.replace(kM,"")},dE=new RegExp("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");function jM(n,e){return dE.lastIndex=e,dE.exec(n)[1]??""}class FM{message;position;locale;ignoreTag;requiresOtherClause;shouldParseSkeletons;constructor(e,i={}){this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!i.ignoreTag,this.locale=i.locale,this.requiresOtherClause=!!i.requiresOtherClause,this.shouldParseSkeletons=!!i.shouldParseSkeletons}parse(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)}parseMessage(e,i,s){let o=[];for(;!this.isEOF();){const u=this.char();if(u===123){const c=this.parseArgument(e,s);if(c.err)return c;o.push(c.val)}else{if(u===125&&e>0)break;if(u===35&&(i==="plural"||i==="selectordinal")){const c=this.clonePosition();this.bump(),o.push({type:Ge.pound,location:ve(c,this.clonePosition())})}else if(u===60&&!this.ignoreTag&&this.peek()===47){if(s)break;return this.error(be.UNMATCHED_CLOSING_TAG,ve(this.clonePosition(),this.clonePosition()))}else if(u===60&&!this.ignoreTag&&vm(this.peek()||0)){const c=this.parseTag(e,i);if(c.err)return c;o.push(c.val)}else{const c=this.parseLiteral(e,i);if(c.err)return c;o.push(c.val)}}}return{val:o,err:null}}parseTag(e,i){const s=this.clonePosition();this.bump();const o=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Ge.literal,value:`<${o}/>`,location:ve(s,this.clonePosition())},err:null};if(this.bumpIf(">")){const u=this.parseMessage(e+1,i,!0);if(u.err)return u;const c=u.val,d=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!vm(this.char()))return this.error(be.INVALID_TAG,ve(d,this.clonePosition()));const m=this.clonePosition(),p=this.parseTagName();return o!==p?this.error(be.UNMATCHED_CLOSING_TAG,ve(m,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Ge.tag,value:o,children:c,location:ve(s,this.clonePosition())},err:null}:this.error(be.INVALID_TAG,ve(d,this.clonePosition())))}else return this.error(be.UNCLOSED_TAG,ve(s,this.clonePosition()))}else return this.error(be.INVALID_TAG,ve(s,this.clonePosition()))}parseTagName(){const e=this.offset();for(this.bump();!this.isEOF()&&VM(this.char());)this.bump();return this.message.slice(e,this.offset())}parseLiteral(e,i){const s=this.clonePosition();let o="";for(;;){const c=this.tryParseQuote(i);if(c){o+=c;continue}const d=this.tryParseUnquoted(e,i);if(d){o+=d;continue}const m=this.tryParseLeftAngleBracket();if(m){o+=m;continue}break}const u=ve(s,this.clonePosition());return{val:{type:Ge.literal,value:o,location:u},err:null}}tryParseLeftAngleBracket(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!GM(this.peek()||0))?(this.bump(),"<"):null}tryParseQuote(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();const i=[this.char()];for(this.bump();!this.isEOF();){const s=this.char();if(s===39)if(this.peek()===39)i.push(39),this.bump();else{this.bump();break}else i.push(s);this.bump()}return String.fromCodePoint(...i)}tryParseUnquoted(e,i){if(this.isEOF())return null;const s=this.char();return s===60||s===123||s===35&&(i==="plural"||i==="selectordinal")||s===125&&e>0?null:(this.bump(),String.fromCodePoint(s))}parseArgument(e,i){const s=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(be.EXPECT_ARGUMENT_CLOSING_BRACE,ve(s,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(be.EMPTY_ARGUMENT,ve(s,this.clonePosition()));let o=this.parseIdentifierIfPossible().value;if(!o)return this.error(be.MALFORMED_ARGUMENT,ve(s,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(be.EXPECT_ARGUMENT_CLOSING_BRACE,ve(s,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Ge.argument,value:o,location:ve(s,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(be.EXPECT_ARGUMENT_CLOSING_BRACE,ve(s,this.clonePosition())):this.parseArgumentOptions(e,i,o,s);default:return this.error(be.MALFORMED_ARGUMENT,ve(s,this.clonePosition()))}}parseIdentifierIfPossible(){const e=this.clonePosition(),i=this.offset(),s=jM(this.message,i),o=i+s.length;this.bumpTo(o);const u=this.clonePosition(),c=ve(e,u);return{value:s,location:c}}parseArgumentOptions(e,i,s,o){let u=this.clonePosition(),c=this.parseIdentifierIfPossible().value,d=this.clonePosition();switch(c){case"":return this.error(be.EXPECT_ARGUMENT_TYPE,ve(u,d));case"number":case"date":case"time":{this.bumpSpace();let m=null;if(this.bumpIf(",")){this.bumpSpace();const _=this.clonePosition(),v=this.parseSimpleArgStyleIfPossible();if(v.err)return v;const E=zM(v.val);if(E.length===0)return this.error(be.EXPECT_ARGUMENT_STYLE,ve(this.clonePosition(),this.clonePosition()));const R=ve(_,this.clonePosition());m={style:E,styleLocation:R}}const p=this.tryParseArgumentClose(o);if(p.err)return p;const y=ve(o,this.clonePosition());if(m&&m.style.startsWith("::")){let _=BM(m.style.slice(2));if(c==="number"){const v=this.parseNumberSkeletonFromString(_,m.styleLocation);return v.err?v:{val:{type:Ge.number,value:s,location:y,style:v.val},err:null}}else{if(_.length===0)return this.error(be.EXPECT_DATE_TIME_SKELETON,y);let v=_;this.locale&&(v=DM(_,this.locale));const E={type:uc.dateTime,pattern:v,location:m.styleLocation,parsedOptions:this.shouldParseSkeletons?TM(v):{}};return{val:{type:c==="date"?Ge.date:Ge.time,value:s,location:y,style:E},err:null}}}return{val:{type:c==="number"?Ge.number:c==="date"?Ge.date:Ge.time,value:s,location:y,style:m?.style??null},err:null}}case"plural":case"selectordinal":case"select":{const m=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(be.EXPECT_SELECT_ARGUMENT_OPTIONS,ve(m,{...m}));this.bumpSpace();let p=this.parseIdentifierIfPossible(),y=0;if(c!=="select"&&p.value==="offset"){if(!this.bumpIf(":"))return this.error(be.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ve(this.clonePosition(),this.clonePosition()));this.bumpSpace();const R=this.tryParseDecimalInteger(be.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,be.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(R.err)return R;this.bumpSpace(),p=this.parseIdentifierIfPossible(),y=R.val}const _=this.tryParsePluralOrSelectOptions(e,c,i,p);if(_.err)return _;const v=this.tryParseArgumentClose(o);if(v.err)return v;const E=ve(o,this.clonePosition());return c==="select"?{val:{type:Ge.select,value:s,options:hE(_.val),location:E},err:null}:{val:{type:Ge.plural,value:s,options:hE(_.val),offset:y,pluralType:c==="plural"?"cardinal":"ordinal",location:E},err:null}}default:return this.error(be.INVALID_ARGUMENT_TYPE,ve(u,d))}}tryParseArgumentClose(e){return this.isEOF()||this.char()!==125?this.error(be.EXPECT_ARGUMENT_CLOSING_BRACE,ve(e,this.clonePosition())):(this.bump(),{val:!0,err:null})}parseSimpleArgStyleIfPossible(){let e=0;const i=this.clonePosition();for(;!this.isEOF();)switch(this.char()){case 39:{this.bump();let o=this.clonePosition();if(!this.bumpUntil("'"))return this.error(be.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,ve(o,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(i.offset,this.offset()),err:null};break}default:this.bump();break}return{val:this.message.slice(i.offset,this.offset()),err:null}}parseNumberSkeletonFromString(e,i){let s=[];try{s=wM(e)}catch{return this.error(be.INVALID_NUMBER_SKELETON,i)}return{val:{type:uc.number,tokens:s,location:i,parsedOptions:this.shouldParseSkeletons?OM(s):{}},err:null}}tryParsePluralOrSelectOptions(e,i,s,o){let u=!1;const c=[],d=new Set;let{value:m,location:p}=o;for(;;){if(m.length===0){const E=this.clonePosition();if(i!=="select"&&this.bumpIf("=")){const R=this.tryParseDecimalInteger(be.EXPECT_PLURAL_ARGUMENT_SELECTOR,be.INVALID_PLURAL_ARGUMENT_SELECTOR);if(R.err)return R;p=ve(E,this.clonePosition()),m=this.message.slice(E.offset,this.offset())}else break}if(d.has(m))return this.error(i==="select"?be.DUPLICATE_SELECT_ARGUMENT_SELECTOR:be.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,p);m==="other"&&(u=!0),this.bumpSpace();const y=this.clonePosition();if(!this.bumpIf("{"))return this.error(i==="select"?be.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:be.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,ve(this.clonePosition(),this.clonePosition()));const _=this.parseMessage(e+1,i,s);if(_.err)return _;const v=this.tryParseArgumentClose(y);if(v.err)return v;c.push([m,{value:_.val,location:ve(y,this.clonePosition())}]),d.add(m),this.bumpSpace(),{value:m,location:p}=this.parseIdentifierIfPossible()}return c.length===0?this.error(i==="select"?be.EXPECT_SELECT_ARGUMENT_SELECTOR:be.EXPECT_PLURAL_ARGUMENT_SELECTOR,ve(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!u?this.error(be.MISSING_OTHER_CLAUSE,ve(this.clonePosition(),this.clonePosition())):{val:c,err:null}}tryParseDecimalInteger(e,i){let s=1;const o=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(s=-1);let u=!1,c=0;for(;!this.isEOF();){const m=this.char();if(m>=48&&m<=57)u=!0,c=c*10+(m-48),this.bump();else break}const d=ve(o,this.clonePosition());return u?(c*=s,Number.isSafeInteger(c)?{val:c,err:null}:this.error(i,d)):this.error(e,d)}offset(){return this.position.offset}isEOF(){return this.offset()===this.message.length}clonePosition(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}}char(){const e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");const i=this.message.codePointAt(e);if(i===void 0)throw Error(`Offset ${e} is at invalid UTF-16 code unit boundary`);return i}error(e,i){return{val:null,err:{kind:e,message:this.message,location:i}}}bump(){if(this.isEOF())return;const e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}bumpIf(e){if(this.message.startsWith(e,this.offset())){for(let i=0;i<e.length;i++)this.bump();return!0}return!1}bumpUntil(e){const i=this.offset(),s=this.message.indexOf(e,i);return s>=0?(this.bumpTo(s),!0):(this.bumpTo(this.message.length),!1)}bumpTo(e){if(this.offset()>e)throw Error(`targetOffset ${e} must be greater than or equal to the current offset ${this.offset()}`);for(e=Math.min(e,this.message.length);;){const i=this.offset();if(i===e)break;if(i>e)throw Error(`targetOffset ${e} is at invalid UTF-16 code unit boundary`);if(this.bump(),this.isEOF())break}}bumpSpace(){for(;!this.isEOF()&&qM(this.char());)this.bump()}peek(){if(this.isEOF())return null;const e=this.char(),i=this.offset();return this.message.charCodeAt(i+(e>=65536?2:1))??null}}function vm(n){return n>=97&&n<=122||n>=65&&n<=90}function GM(n){return vm(n)||n===47}function VM(n){return n===45||n===46||n>=48&&n<=57||n===95||n>=97&&n<=122||n>=65&&n<=90||n==183||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8255&&n<=8256||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}function qM(n){return n>=9&&n<=13||n===32||n===133||n>=8206&&n<=8207||n===8232||n===8233}function bm(n){n.forEach(e=>{if(delete e.location,dT(e)||mT(e))for(const i in e.options)delete e.options[i].location,bm(e.options[i].value);else cT(e)&&gT(e.style)||(fT(e)||hT(e))&&ym(e.style)?delete e.style.location:pT(e)&&bm(e.children)})}function YM(n,e={}){e={shouldParseSkeletons:!0,requiresOtherClause:!0,...e};const i=new FM(n,e).parse();if(i.err){const s=SyntaxError(be[i.err.kind]);throw s.location=i.err.location,s.originalMessage=i.err.message,s}return e?.captureLocation||bm(i.val),i.val}let sr=(function(n){return n.MISSING_VALUE="MISSING_VALUE",n.INVALID_VALUE="INVALID_VALUE",n.MISSING_INTL_API="MISSING_INTL_API",n})({});class ar extends Error{code;originalMessage;constructor(e,i,s){super(e),this.code=i,this.originalMessage=s}toString(){return`[formatjs Error: ${this.code}] ${this.message}`}}class mE extends ar{constructor(e,i,s,o){super(`Invalid values for "${e}": "${i}". Options are "${Object.keys(s).join('", "')}"`,sr.INVALID_VALUE,o)}}class XM extends ar{constructor(e,i,s){super(`Value for "${e}" must be of type ${i}`,sr.INVALID_VALUE,s)}}class QM extends ar{constructor(e,i){super(`The intl string context variable "${e}" was not provided to the string "${i}"`,sr.MISSING_VALUE,i)}}let Yt=(function(n){return n[n.literal=0]="literal",n[n.object=1]="object",n})({});function $M(n){return n.length<2?n:n.reduce((e,i)=>{const s=e[e.length-1];return!s||s.type!==Yt.literal||i.type!==Yt.literal?e.push(i):s.value+=i.value,e},[])}function yT(n){return typeof n=="function"}function Pu(n,e,i,s,o,u,c){if(n.length===1&&fE(n[0]))return[{type:Yt.literal,value:n[0].value}];const d=[];for(const m of n){if(fE(m)){d.push({type:Yt.literal,value:m.value});continue}if(IM(m)){typeof u=="number"&&d.push({type:Yt.literal,value:i.getNumberFormat(e).format(u)});continue}const{value:p}=m;if(!(o&&p in o))throw new QM(p,c);let y=o[p];if(xM(m)){(!y||typeof y=="string"||typeof y=="number"||typeof y=="bigint")&&(y=typeof y=="string"||typeof y=="number"||typeof y=="bigint"?String(y):""),d.push({type:typeof y=="string"?Yt.literal:Yt.object,value:y});continue}if(fT(m)){const _=typeof m.style=="string"?s.date[m.style]:ym(m.style)?m.style.parsedOptions:void 0;d.push({type:Yt.literal,value:i.getDateTimeFormat(e,_).format(y)});continue}if(hT(m)){const _=typeof m.style=="string"?s.time[m.style]:ym(m.style)?m.style.parsedOptions:s.time.medium;d.push({type:Yt.literal,value:i.getDateTimeFormat(e,_).format(y)});continue}if(cT(m)){const _=typeof m.style=="string"?s.number[m.style]:gT(m.style)?m.style.parsedOptions:void 0;if(_&&_.scale){const v=_.scale||1;if(typeof y=="bigint"){if(!Number.isInteger(v))throw new TypeError(`Cannot apply fractional scale ${v} to bigint value. Scale must be an integer when formatting bigint.`);y=y*BigInt(v)}else y=y*v}d.push({type:Yt.literal,value:i.getNumberFormat(e,_).format(y)});continue}if(pT(m)){const{children:_,value:v}=m,E=o[v];if(!yT(E))throw new XM(v,"function",c);const R=Pu(_,e,i,s,o,u);let D=E(R.map(L=>L.value));Array.isArray(D)||(D=[D]),d.push(...D.map(L=>({type:typeof L=="string"?Yt.literal:Yt.object,value:L})))}if(dT(m)){const _=y,v=(Object.prototype.hasOwnProperty.call(m.options,_)?m.options[_]:void 0)||m.options.other;if(!v)throw new mE(m.value,y,Object.keys(m.options),c);d.push(...Pu(v.value,e,i,s,o));continue}if(mT(m)){const _=`=${y}`;let v=Object.prototype.hasOwnProperty.call(m.options,_)?m.options[_]:void 0;if(!v){if(!Intl.PluralRules)throw new ar(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,sr.MISSING_INTL_API,c);const R=typeof y=="bigint"?Number(y):y,D=i.getPluralRules(e,{type:m.pluralType}).select(R-(m.offset||0));v=(Object.prototype.hasOwnProperty.call(m.options,D)?m.options[D]:void 0)||m.options.other}if(!v)throw new mE(m.value,y,Object.keys(m.options),c);const E=typeof y=="bigint"?Number(y):y;d.push(...Pu(v.value,e,i,s,o,E-(m.offset||0)));continue}}return $M(d)}function WM(n,e){return e?{...n,...e,...Object.keys(n).reduce((i,s)=>(i[s]={...n[s],...e[s]},i),{})}:n}function KM(n,e){return e?Object.keys(n).reduce((i,s)=>(i[s]=WM(n[s],e[s]),i),{...n}):n}function zd(n){return{create(){return{get(e){return n[e]},set(e,i){n[e]=i}}}}}function ZM(n={number:{},dateTime:{},pluralRules:{}}){return{getNumberFormat:Nn((...e)=>new Intl.NumberFormat(...e),{cache:zd(n.number),strategy:On.variadic}),getDateTimeFormat:Nn((...e)=>new Intl.DateTimeFormat(...e),{cache:zd(n.dateTime),strategy:On.variadic}),getPluralRules:Nn((...e)=>new Intl.PluralRules(...e),{cache:zd(n.pluralRules),strategy:On.variadic})}}class pn{ast;locales;resolvedLocale;formatters;formats;message;formatterCache={number:{},dateTime:{},pluralRules:{}};constructor(e,i=pn.defaultLocale,s,o){if(this.locales=i,this.resolvedLocale=pn.resolveLocale(i),typeof e=="string"){if(this.message=e,!pn.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");const{...u}=o||{};this.ast=pn.__parse(e,{...u,locale:this.resolvedLocale})}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=KM(pn.formats,s),this.formatters=o&&o.formatters||ZM(this.formatterCache)}format=e=>{const i=this.formatToParts(e);if(i.length===1)return i[0].value;const s=i.reduce((o,u)=>(!o.length||u.type!==Yt.literal||typeof o[o.length-1]!="string"?o.push(u.value):o[o.length-1]+=u.value,o),[]);return s.length<=1?s[0]||"":s};formatToParts=e=>Pu(this.ast,this.locales,this.formatters,this.formats,e,void 0,this.message);resolvedOptions=()=>({locale:this.resolvedLocale?.toString()||Intl.NumberFormat.supportedLocalesOf(this.locales)[0]});getAst=()=>this.ast;static memoizedDefaultLocale=null;static get defaultLocale(){return pn.memoizedDefaultLocale||(pn.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),pn.memoizedDefaultLocale}static resolveLocale=e=>{if(typeof Intl.Locale>"u")return;const i=Intl.NumberFormat.supportedLocalesOf(e);return i.length>0?new Intl.Locale(i[0]):new Intl.Locale(typeof e=="string"?e:e[0])};static __parse=YM;static formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}let Zo=(function(n){return n.FORMAT_ERROR="FORMAT_ERROR",n.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",n.INVALID_CONFIG="INVALID_CONFIG",n.MISSING_DATA="MISSING_DATA",n.MISSING_TRANSLATION="MISSING_TRANSLATION",n})({});class Gr extends Error{code;constructor(e,i,s){const o=s?s instanceof Error?s:new Error(String(s)):void 0;super(`[@formatjs/intl Error ${e}] ${i}
${o?`
${o.message}
${o.stack}`:""}`),this.code=e,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Gr)}}class JM extends Gr{constructor(e,i){super(Zo.UNSUPPORTED_FORMATTER,e,i)}}class eL extends Gr{constructor(e,i){super(Zo.INVALID_CONFIG,e,i)}}class pE extends Gr{constructor(e,i){super(Zo.MISSING_DATA,e,i)}}class cn extends Gr{descriptor;locale;constructor(e,i,s){super(Zo.FORMAT_ERROR,`${e}
Locale: ${i}
`,s),this.locale=i}}class jd extends cn{descriptor;locale;constructor(e,i,s,o){super(`${e}
MessageID: ${s?.id}
Default Message: ${s?.defaultMessage}
Description: ${s?.description}
`,i,o),this.descriptor=s,this.locale=i}}class tL extends Gr{descriptor;constructor(e,i){super(Zo.MISSING_TRANSLATION,`Missing message: "${e.id}" for locale "${i}", using ${e.defaultMessage?`default message (${typeof e.defaultMessage=="string"?e.defaultMessage:e.defaultMessage.map(s=>s.value??JSON.stringify(s)).join()})`:"id"} as fallback.`),this.descriptor=e}}function nL(n,e,i=Error){if(!n)throw new i(e)}function sa(n,e,i={}){return e.reduce((s,o)=>(o in n?s[o]=n[o]:o in i&&(s[o]=i[o]),s),{})}const iL=n=>{},rL=n=>{},vT={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:iL,onWarn:rL};function bT(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function Or(n){return{create(){return{get(e){return n[e]},set(e,i){n[e]=i}}}}}function sL(n=bT()){const e=Intl.RelativeTimeFormat,i=Intl.ListFormat,s=Intl.DisplayNames,o=Nn((...d)=>new Intl.DateTimeFormat(...d),{cache:Or(n.dateTime),strategy:On.variadic}),u=Nn((...d)=>new Intl.NumberFormat(...d),{cache:Or(n.number),strategy:On.variadic}),c=Nn((...d)=>new Intl.PluralRules(...d),{cache:Or(n.pluralRules),strategy:On.variadic});return{getDateTimeFormat:o,getNumberFormat:u,getMessageFormat:Nn((d,m,p,y)=>new pn(d,m,p,{formatters:{getNumberFormat:u,getDateTimeFormat:o,getPluralRules:c},...y}),{cache:Or(n.message),strategy:On.variadic}),getRelativeTimeFormat:Nn((...d)=>new e(...d),{cache:Or(n.relativeTime),strategy:On.variadic}),getPluralRules:c,getListFormat:Nn((...d)=>new i(...d),{cache:Or(n.list),strategy:On.variadic}),getDisplayNames:Nn((...d)=>new s(...d),{cache:Or(n.displayNames),strategy:On.variadic})}}function kp(n,e,i,s){const o=n&&n[e];let u;if(o&&(u=o[i]),u)return u;s(new JM(`No ${e} format named: ${i}`))}function Ou(n,e){return Object.keys(n).reduce((i,s)=>(i[s]={timeZone:e,...n[s]},i),{})}function gE(n,e){return Object.keys({...n,...e}).reduce((s,o)=>(s[o]={...n[o],...e[o]},s),{})}function _E(n,e){if(!e)return n;const i=pn.formats;return{...i,...n,date:gE(Ou(i.date,e),Ou(n.date||{},e)),time:gE(Ou(i.time,e),Ou(n.time||{},e))}}const Em=({locale:n,formats:e,messages:i,defaultLocale:s,defaultFormats:o,fallbackOnEmptyString:u,onError:c,timeZone:d,defaultRichTextElements:m},p,y={id:""},_,v)=>{const{id:E,defaultMessage:R}=y;nL(!!E,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.github.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.github.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.github.io/docs/tooling/linter#enforce-id)\nto autofix this issue");const D=String(E),L=i&&Object.prototype.hasOwnProperty.call(i,D)&&i[D];if(Array.isArray(L)&&L.length===1&&L[0].type===Ge.literal)return L[0].value;if(_={...m,..._},e=_E(e,d),o=_E(o,d),!L){if(u===!1&&L==="")return L;if((!R||n&&n.toLowerCase()!==s.toLowerCase())&&c(new tL(y,n)),R)try{return p.getMessageFormat(R,s,o,v).format(_)}catch(F){return c(new jd(`Error formatting default message for: "${D}", rendering default message verbatim`,n,y,F)),typeof R=="string"?R:D}return D}try{return p.getMessageFormat(L,n,e,{formatters:p,...v}).format(_)}catch(F){c(new jd(`Error formatting message: "${D}", using ${R?"default message":"id"} as fallback.`,n,y,F))}if(R)try{return p.getMessageFormat(R,s,o,v).format(_)}catch(F){c(new jd(`Error formatting the default message for: "${D}", rendering message verbatim`,n,y,F))}return typeof L=="string"?L:typeof R=="string"?R:D},aL=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function Jo({locale:n,formats:e,onError:i,timeZone:s},o,u,c={}){const{format:d}=c,m={...s&&{timeZone:s},...d&&kp(e,o,d,i)};let p=sa(c,aL,m);return o==="time"&&!p.hour&&!p.minute&&!p.second&&!p.timeStyle&&!p.dateStyle&&(p={...p,hour:"numeric",minute:"numeric"}),u(n,p)}function oL(n,e,i,s={}){const o=typeof i=="string"?new Date(i||0):i;try{return Jo(n,"date",e,s).format(o)}catch(u){n.onError(new cn("Error formatting date.",n.locale,u))}return String(o)}function lL(n,e,i,s={}){const o=typeof i=="string"?new Date(i||0):i;try{return Jo(n,"time",e,s).format(o)}catch(u){n.onError(new cn("Error formatting time.",n.locale,u))}return String(o)}function uL(n,e,i,s,o={}){const u=typeof i=="string"?new Date(i||0):i,c=typeof s=="string"?new Date(s||0):s;try{return Jo(n,"dateTimeRange",e,o).formatRange(u,c)}catch(d){n.onError(new cn("Error formatting date time range.",n.locale,d))}return String(u)}function cL(n,e,i,s={}){const o=typeof i=="string"?new Date(i||0):i;try{return Jo(n,"date",e,s).formatToParts(o)}catch(u){n.onError(new cn("Error formatting date.",n.locale,u))}return[]}function fL(n,e,i,s={}){const o=typeof i=="string"?new Date(i||0):i;try{return Jo(n,"time",e,s).formatToParts(o)}catch(u){n.onError(new cn("Error formatting time.",n.locale,u))}return[]}const hL=["style","type","fallback","languageDisplay"];function dL({locale:n,onError:e},i,s,o){Intl.DisplayNames||e(new ar(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,sr.MISSING_INTL_API));const c=sa(o,hL);try{return i(n,c).of(s)}catch(d){e(new cn("Error formatting display name.",n,d))}}const mL=["type","style"],yE=Date.now();function pL(n){return`${yE}_${n}_${yE}`}function gL(n,e,i,s={}){const o=ET(n,e,i,s).reduce((u,c)=>{const d=c.value;return typeof d!="string"?u.push(d):typeof u[u.length-1]=="string"?u[u.length-1]+=d:u.push(d),u},[]);return o.length===1?o[0]:o.length===0?"":o}function ET({locale:n,onError:e},i,s,o={}){Intl.ListFormat||e(new ar(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,sr.MISSING_INTL_API));const c=sa(o,mL);try{const d={},m=Array.from(s).map((p,y)=>{if(typeof p=="object"&&p!==null){const _=pL(y);return d[_]=p,_}return String(p)});return i(n,c).formatToParts(m).map(p=>p.type==="literal"?p:{...p,value:d[p.value]||p.value})}catch(d){e(new cn("Error formatting list.",n,d))}return s}const _L=["type"];function yL({locale:n,onError:e},i,s,o={}){Intl.PluralRules||e(new ar(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,sr.MISSING_INTL_API));const u=sa(o,_L);try{return i(n,u).select(s)}catch(c){e(new cn("Error formatting plural.",n,c))}return"other"}const vL=["numeric","style"];function bL({locale:n,formats:e,onError:i},s,o={}){const{format:u}=o,c=!!u&&kp(e,"relative",u,i)||{},d=sa(o,vL,c);return s(n,d)}function EL(n,e,i,s,o={}){s||(s="second"),Intl.RelativeTimeFormat||n.onError(new ar(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,sr.MISSING_INTL_API));try{return bL(n,e,o).format(i,s)}catch(c){n.onError(new cn("Error formatting relative time.",n.locale,c))}return String(i)}const SL=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function ST({locale:n,formats:e,onError:i},s,o={}){const{format:u}=o,c=u&&kp(e,"number",u,i)||{},d=sa(o,SL,c);return s(n,d)}function TL(n,e,i,s={}){try{return ST(n,e,s).format(i)}catch(o){n.onError(new cn("Error formatting number.",n.locale,o))}return String(i)}function CL(n,e,i,s={}){try{return ST(n,e,s).formatToParts(i)}catch(o){n.onError(new cn("Error formatting number.",n.locale,o))}return[]}function wL(n){return typeof(n?n[Object.keys(n)[0]]:void 0)=="string"}function RL(n){n.onWarn&&n.defaultRichTextElements&&wL(n.messages||{})&&n.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.github.io/docs/getting-started/message-distribution`)}function AL(n,e){const i=sL(e),s={...vT,...n},{locale:o,defaultLocale:u,onError:c}=s;return o?!Intl.NumberFormat.supportedLocalesOf(o).length&&c?c(new pE(`Missing locale data for locale: "${o}" in Intl.NumberFormat. Using default locale: "${u}" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details`)):!Intl.DateTimeFormat.supportedLocalesOf(o).length&&c&&c(new pE(`Missing locale data for locale: "${o}" in Intl.DateTimeFormat. Using default locale: "${u}" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details`)):(c&&c(new eL(`"locale" was not configured, using "${u}" as fallback. See https://formatjs.github.io/docs/react-intl/api#intlshape for more details`)),s.locale=s.defaultLocale||"en"),RL(s),{...s,formatters:i,formatNumber:TL.bind(null,s,i.getNumberFormat),formatNumberToParts:CL.bind(null,s,i.getNumberFormat),formatRelativeTime:EL.bind(null,s,i.getRelativeTimeFormat),formatDate:oL.bind(null,s,i.getDateTimeFormat),formatDateToParts:cL.bind(null,s,i.getDateTimeFormat),formatTime:lL.bind(null,s,i.getDateTimeFormat),formatDateTimeRange:uL.bind(null,s,i.getDateTimeFormat),formatTimeToParts:fL.bind(null,s,i.getDateTimeFormat),formatPlural:yL.bind(null,s,i.getPluralRules),formatMessage:Em.bind(null,s,i),$t:Em.bind(null,s,i),formatList:gL.bind(null,s,i.getListFormat),formatListToParts:ET.bind(null,s,i.getListFormat),formatDisplayName:dL.bind(null,s,i.getDisplayNames)}}function NL(n,e,i=Error){if(!n)throw new i(e)}function TT(n){NL(n,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}const CT={...vT,textComponent:A.Fragment},wT=n=>A.Children.toArray(n).map((i,s)=>A.isValidElement(i)?T.jsx(A.Fragment,{children:i},s):i);function OL(n){return function(e){return n(wT(e))}}function Sm(n,e){if(n===e)return!0;if(!n||!e)return!1;var i=Object.keys(n),s=Object.keys(e),o=i.length;if(s.length!==o)return!1;for(var u=0;u<o;u++){var c=i[u];if(n[c]!==e[c]||!Object.prototype.hasOwnProperty.call(e,c))return!1}return!0}var Fd={exports:{}},Re={};var vE;function xL(){if(vE)return Re;vE=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,m=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112,_=n?Symbol.for("react.suspense"):60113,v=n?Symbol.for("react.suspense_list"):60120,E=n?Symbol.for("react.memo"):60115,R=n?Symbol.for("react.lazy"):60116,D=n?Symbol.for("react.block"):60121,L=n?Symbol.for("react.fundamental"):60117,F=n?Symbol.for("react.responder"):60118,G=n?Symbol.for("react.scope"):60119;function B(k){if(typeof k=="object"&&k!==null){var J=k.$$typeof;switch(J){case e:switch(k=k.type,k){case m:case p:case s:case u:case o:case _:return k;default:switch(k=k&&k.$$typeof,k){case d:case y:case R:case E:case c:return k;default:return J}}case i:return J}}}function $(k){return B(k)===p}return Re.AsyncMode=m,Re.ConcurrentMode=p,Re.ContextConsumer=d,Re.ContextProvider=c,Re.Element=e,Re.ForwardRef=y,Re.Fragment=s,Re.Lazy=R,Re.Memo=E,Re.Portal=i,Re.Profiler=u,Re.StrictMode=o,Re.Suspense=_,Re.isAsyncMode=function(k){return $(k)||B(k)===m},Re.isConcurrentMode=$,Re.isContextConsumer=function(k){return B(k)===d},Re.isContextProvider=function(k){return B(k)===c},Re.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},Re.isForwardRef=function(k){return B(k)===y},Re.isFragment=function(k){return B(k)===s},Re.isLazy=function(k){return B(k)===R},Re.isMemo=function(k){return B(k)===E},Re.isPortal=function(k){return B(k)===i},Re.isProfiler=function(k){return B(k)===u},Re.isStrictMode=function(k){return B(k)===o},Re.isSuspense=function(k){return B(k)===_},Re.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===s||k===p||k===u||k===o||k===_||k===v||typeof k=="object"&&k!==null&&(k.$$typeof===R||k.$$typeof===E||k.$$typeof===c||k.$$typeof===d||k.$$typeof===y||k.$$typeof===L||k.$$typeof===F||k.$$typeof===G||k.$$typeof===D)},Re.typeOf=B,Re}var bE;function IL(){return bE||(bE=1,Fd.exports=xL()),Fd.exports}var Gd,EE;function DL(){if(EE)return Gd;EE=1;var n=IL(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[n.ForwardRef]=s,u[n.Memo]=o;function c(R){return n.isMemo(R)?o:u[R.$$typeof]||e}var d=Object.defineProperty,m=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,v=Object.prototype;function E(R,D,L){if(typeof D!="string"){if(v){var F=_(D);F&&F!==v&&E(R,F,L)}var G=m(D);p&&(G=G.concat(p(D)));for(var B=c(R),$=c(D),k=0;k<G.length;++k){var J=G[k];if(!i[J]&&!(L&&L[J])&&!($&&$[J])&&!(B&&B[J])){var X=y(D,J);try{d(R,J,X)}catch{}}}}return R}return Gd=E,Gd}DL();const RT=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=A.createContext(null)):A.createContext(null),{Consumer:D3,Provider:ML}=RT,LL=ML,kL=RT;function Up(){const n=A.useContext(kL);return TT(n),n}var AT=(function(n){return n.formatDate="FormattedDate",n.formatTime="FormattedTime",n.formatNumber="FormattedNumber",n.formatList="FormattedList",n.formatDisplayName="FormattedDisplayName",n})(AT||{}),NT=(function(n){return n.formatDate="FormattedDateParts",n.formatTime="FormattedTimeParts",n.formatNumber="FormattedNumberParts",n.formatList="FormattedListParts",n})(NT||{});function OT(n){const e=i=>{const s=Up(),{value:o,children:u,...c}=i,d=typeof o=="string"?new Date(o||0):o,m=n==="formatDate"?s.formatDateToParts(d,c):s.formatTimeToParts(d,c);return u(m)};return e.displayName=NT[n],e}function el(n){const e=i=>{const s=Up(),{value:o,children:u,...c}=i,d=s[n](o,c);if(typeof u=="function")return u(d);const m=s.textComponent||A.Fragment;return T.jsx(m,{children:d})};return e.displayName=AT[n],e}function xT(n){return n&&Object.keys(n).reduce((e,i)=>{const s=n[i];return e[i]=yT(s)?OL(s):s,e},{})}const SE=(n,e,i,s,...o)=>{const u=xT(s),c=Em(n,e,i,u,...o);return Array.isArray(c)?wT(c):c},TE=({defaultRichTextElements:n,...e},i)=>{const s=xT(n),o=AL({...CT,...e,defaultRichTextElements:s},i),u={locale:o.locale,timeZone:o.timeZone,fallbackOnEmptyString:o.fallbackOnEmptyString,formats:o.formats,defaultLocale:o.defaultLocale,defaultFormats:o.defaultFormats,messages:o.messages,onError:o.onError,defaultRichTextElements:s};return{...o,formatMessage:SE.bind(null,u,o.formatters),$t:SE.bind(null,u,o.formatters)}};function UL(n,e){const{values:i,...s}=n,{values:o,...u}=e;return Sm(o,i)&&Sm(s,u)}function IT(n){const e=Up(),{formatMessage:i,textComponent:s=A.Fragment}=e,{id:o,description:u,defaultMessage:c,values:d,children:m,tagName:p=s,ignoreTag:y}=n,v=i({id:o,description:u,defaultMessage:c},d,{ignoreTag:y});return typeof m=="function"?m(Array.isArray(v)?v:[v]):p?T.jsx(p,{children:v}):T.jsx(T.Fragment,{children:v})}IT.displayName="FormattedMessage";const ae=A.memo(IT,UL);ae.displayName="MemoizedFormattedMessage";function Vd(n){return{locale:n.locale,timeZone:n.timeZone,fallbackOnEmptyString:n.fallbackOnEmptyString,formats:n.formats,textComponent:n.textComponent,messages:n.messages,defaultLocale:n.defaultLocale,defaultFormats:n.defaultFormats,onError:n.onError,onWarn:n.onWarn,wrapRichTextChunksInFragment:n.wrapRichTextChunksInFragment,defaultRichTextElements:n.defaultRichTextElements}}class PL extends A.PureComponent{static displayName="IntlProvider";static defaultProps=CT;cache=bT();state={cache:this.cache,intl:TE(Vd(this.props),this.cache),prevConfig:Vd(this.props)};static getDerivedStateFromProps(e,{prevConfig:i,cache:s}){const o=Vd(e);return Sm(i,o)?null:{intl:TE(o,s),prevConfig:o}}render(){return TT(this.state.intl),T.jsx(LL,{value:this.state.intl,children:this.props.children})}}el("formatDate");el("formatTime");const Hu=el("formatNumber");el("formatList");el("formatDisplayName");OT("formatDate");OT("formatTime");const HL={"nav.home":"Inicio","nav.dashboard":"Panel de control","nav.admin":"Administracin","nav.login":"Iniciar sesin","nav.register":"Registrarse","nav.logout":"Cerrar sesin","app.languageSelector":"Seleccionar idioma:","app.title":"AC5 Comida","home.welcome":"Bienvenido a Comida Rpida Online","home.notLoggedIn":"Para hacer pedidos, inicia sesin (Login) o regstrate (Registro).","home.loggedInAs":"Sesin iniciada como: {email} {role}","dashboard.title":"Panel del Usuario","dashboard.orders":"Mis pedidos","dashboard.noOrders":"No hay pedidos realizados","dashboard.delete":"Borrar","dashboard.markPaid":"Marcar pagado","dashboard.cart":"Carrito","dashboard.cartEmpty":"Carrito vaco","dashboard.total":"Total","dashboard.availability":"Disponibilidad","dashboard.orderFood":"Pedir Comida","foods.title":"Carta","foods.order":"Pedir","order.title":"Pedido","order.quantity":"Cantidad:","order.price":"Precio:","order.send":"Enviar pedido","order.saving":"Guardando...","order.savingFirebase":"Guardando pedido en Firebase...","order.saved":"Pedido guardado.","order.error":"Error guardando pedido: {error}","order.confirmed":"Pedido confirmado.","order.return":"Volver al men","admin.title":"Administracin","admin.stock":"Stock","login.title":"Iniciar Sesin","login.email":"Correo electrnico","login.password":"Contrasea","login.button":"Login","register.title":"Registrarse","register.email":"Correo electrnico","register.password":"Contrasea","register.button":"Registrarse","register.success":"Registro exitoso. Redirigiendo al Dashboard...","food.1.name":"Hamburguesa de Pollo","food.1.desc":"Hamburguesa de pollo frito - ... y mayones","food.2.name":"Hamburguesa de Carne","food.2.desc":"Hamburguesa de carne con queso y tomate","food.3.name":"Helado","food.3.desc":"Cono de helado","food.4.name":"Patatas fritas","food.4.desc":"Patatas fritas con salsa verde"},DT={"nav.home":"Home","nav.dashboard":"Dashboard","nav.admin":"Admin","nav.login":"Login","nav.register":"Register","nav.logout":"Logout","app.languageSelector":"Select language:","app.title":"AC5 Food","home.welcome":"Welcome to Online Fast Food","home.notLoggedIn":"To place orders, please login or register.","home.loggedInAs":"Logged in as: {email} {role}","dashboard.title":"User Dashboard","dashboard.orders":"My orders","dashboard.noOrders":"No orders made","dashboard.delete":"Delete","dashboard.markPaid":"Mark as paid","dashboard.cart":"Cart","dashboard.cartEmpty":"Cart is empty","dashboard.total":"Total","dashboard.availability":"Availability","dashboard.orderFood":"Order Food","foods.title":"Menu","foods.order":"Order","order.title":"Order","order.quantity":"Quantity:","order.price":"Price:","order.send":"Send order","order.saving":"Saving...","order.savingFirebase":"Saving order to Firebase...","order.saved":"Order saved.","order.error":"Error saving order: {error}","order.confirmed":"Order confirmed.","order.return":"Return to menu","admin.title":"Administration","admin.stock":"Stock","login.title":"Login","login.email":"Email","login.password":"Password","login.button":"Login","register.title":"Register","register.email":"Email","register.password":"Password","register.button":"Register","register.success":"Registration successful. Redirecting to Dashboard...","food.1.name":"Chicken Burger","food.1.desc":"Fried chicken burger - ... and mayonnaise","food.2.name":"Beef Burger","food.2.desc":"Beef burger with cheese and tomato","food.3.name":"Ice Cream","food.3.desc":"Ice cream cone","food.4.name":"French Fries","food.4.desc":"French fries with green sauce"},BL={en:DT,es:HL},tl=A.createContext({locale:"en",messages:DT,changeLanguage:()=>{}}),zL=({children:n})=>{const e=navigator.language.startsWith("es")?"es":"en",[i,s]=A.useState(e),o=u=>{s(u)};return T.jsx(tl.Provider,{value:{locale:i,messages:BL[i],changeLanguage:o},children:n})};function jL(n){const e=A.useContext(NC),{locale:i}=A.useContext(tl);if(!e)throw new Error("No se ha encontrado el contexto de pedidos");const[s,o]=A.useState(1),[u,c]=A.useState(n.food.price),[d,m]=A.useState(!1),[p,y]=A.useState("idle"),[_,v]=A.useState(null),E=D=>{const L=Number(D.target.value),F=Number.isFinite(L)&&L>0?L:1;yt.debug(`FoodOrder: quantity changed; raw=${D.target.value}, safe=${F}`),o(F),c(n.food.price*F)},R=async()=>{yt.info(`FoodOrder: send order clicked; foodId=${n.food.id}, qty=${s}`),y("saving"),v(null);try{e?.orderFood(n.food,s);const D={id:n.food.id,name:n.food.name,price:n.food.price,quantity:s},L=await zc.create({items:[D]});yt.info(`Order: saved to Firebase; id=${L}`),m(!0),y("saved")}catch(D){yt.error(`Order: save failed; ${String(D)}`),m(!1),y("error"),v(String(D))}};return T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border border-gray-100 dark:border-slate-700 shadow-xl max-w-lg mx-auto transform transition-all",children:[T.jsx("h4",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-100 mb-2",children:T.jsx(ae,{id:"order.title"})}),T.jsx("p",{className:"text-xl text-blue-600 dark:text-blue-400 font-semibold mb-8",children:T.jsx(ae,{id:`food.${n.food.id}.name`,defaultMessage:n.food.name})}),d?T.jsxs("div",{className:"text-center space-y-8 py-4",children:[T.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:T.jsx("span",{className:"text-4xl",children:""})}),T.jsx("p",{className:"text-2xl text-green-700 dark:text-green-400 font-black",children:T.jsx(ae,{id:"order.confirmed"})}),T.jsx("button",{onClick:n.onReturnToMenu,className:"w-full bg-blue-600 text-white px-8 py-4 rounded-2xl hover:bg-blue-700 transition shadow-xl font-black text-lg transform hover:-translate-y-1 active:translate-y-0",children:T.jsx(ae,{id:"order.return"})})]}):T.jsxs("div",{className:"space-y-8",children:[T.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-slate-900 p-4 rounded-xl border border-gray-100 dark:border-slate-700",children:[T.jsx("label",{className:"text-gray-700 dark:text-gray-300 font-bold text-lg",children:T.jsx(ae,{id:"order.quantity"})}),T.jsx("input",{type:"number",min:1,value:s,onChange:E,className:"w-24 px-4 py-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-gray-900 dark:text-gray-100 font-bold text-center"})]}),T.jsxs("div",{className:"flex justify-between items-center px-2",children:[T.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium text-lg",children:T.jsx(ae,{id:"order.price"})}),T.jsx("span",{className:"text-3xl font-black text-gray-900 dark:text-gray-100",children:T.jsx(Hu,{value:u,style:"currency",currency:i==="es"?"EUR":"USD",minimumFractionDigits:0})})]}),T.jsxs("div",{className:"space-y-4 pt-4",children:[T.jsx("button",{onClick:R,disabled:p==="saving",className:`w-full py-4 rounded-2xl font-black text-white text-lg transition-all transform hover:-translate-y-1 active:translate-y-0 shadow-lg ${p==="saving"?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 shadow-green-200 dark:shadow-none"}`,children:p==="saving"?T.jsx(ae,{id:"order.saving"}):T.jsx(ae,{id:"order.send"})}),T.jsxs("button",{onClick:n.onReturnToMenu,className:"w-full py-3 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 font-bold transition flex items-center justify-center space-x-2",children:[T.jsx("span",{className:"text-lg",children:""}),T.jsx(ae,{id:"order.return"})]})]}),p==="saving"&&T.jsx("p",{className:"text-sm text-blue-500 animate-pulse italic text-center font-medium",children:T.jsx(ae,{id:"order.savingFirebase"})}),p==="saved"&&T.jsx("p",{className:"text-sm text-green-600 font-bold text-center bg-green-50 dark:bg-green-900/20 py-2 rounded-lg",children:T.jsx(ae,{id:"order.saved"})}),p==="error"&&T.jsx("p",{className:"text-sm text-red-600 font-bold text-center bg-red-50 dark:bg-red-900/20 py-2 rounded-lg",children:T.jsx(ae,{id:"order.error",values:{error:_}})})]})]})}class FL extends rS.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,i){yt.warn(`Error capturado por ErrorBoundary: ${e.message}`),yt.debug(`Detalles del error: ${i.componentStack}`)}render(){return this.state.hasError?this.props.fallback:this.props.children}}var Zi=(n=>(n.ADMIN="ADMIN",n.USER="USER",n))(Zi||{});function MT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GL=MT,LT=new Go("auth","Firebase",MT());const cc=new Wm("@firebase/auth");function VL(n,...e){cc.logLevel<=Me.WARN&&cc.warn(`Auth (${ta}): ${n}`,...e)}function Bu(n,...e){cc.logLevel<=Me.ERROR&&cc.error(`Auth (${ta}): ${n}`,...e)}function Sn(n,...e){throw Pp(n,...e)}function xn(n,...e){return Pp(n,...e)}function kT(n,e,i){const s={...GL(),[e]:i};return new Go("auth","Firebase",s).create(e,{appName:n.name})}function li(n){return kT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pp(n,...e){if(typeof n!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(i,...s)}return LT.create(n,...e)}function te(n,e,...i){if(!n)throw Pp(e,...i)}function ii(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bu(e),new Error(e)}function di(n,e){n||ii(e)}function Tm(){return typeof self<"u"&&self.location?.href||""}function qL(){return CE()==="http:"||CE()==="https:"}function CE(){return typeof self<"u"&&self.location?.protocol||null}function YL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qL()||wN()||"connection"in navigator)?navigator.onLine:!0}function XL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class nl{constructor(e,i){this.shortDelay=e,this.longDelay=i,di(i>e,"Short delay should be less than long delay!"),this.isMobile=$m()||LS()}get(){return YL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hp(n,e){di(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class UT{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $L=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WL=new nl(3e4,6e4);function or(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function lr(n,e,i,s,o={}){return PT(n,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const d=ea({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:m,...u};return CN()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Js(n.emulatorConfig.host)&&(p.credentials="include"),UT.fetch()(await HT(n,n.config.apiHost,i,d),p)})}async function PT(n,e,i){n._canInitEmulator=!1;const s={...QL,...e};try{const o=new ZL(n),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw xu(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw xu(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw xu(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw xu(n,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw kT(n,y,p);Sn(n,y)}}catch(o){if(o instanceof rr)throw o;Sn(n,"network-request-failed",{message:String(o)})}}async function il(n,e,i,s,o={}){const u=await lr(n,e,i,s,o);return"mfaPendingCredential"in u&&Sn(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function HT(n,e,i,s){const o=`${e}${i}?${s}`,u=n,c=u.config.emulator?Hp(n.config,o):`${n.config.apiScheme}://${o}`;return $L.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function KL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(xn(this.auth,"network-request-failed")),WL.get())})}}function xu(n,e,i){const s={appName:n.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const o=xn(n,e,s);return o.customData._tokenResponse=i,o}function wE(n){return n!==void 0&&n.enterprise!==void 0}class JL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return KL(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function e2(n,e){return lr(n,"GET","/v2/recaptchaConfig",or(n,e))}async function t2(n,e){return lr(n,"POST","/v1/accounts:delete",e)}async function fc(n,e){return lr(n,"POST","/v1/accounts:lookup",e)}function vo(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n2(n,e=!1){const i=vt(n),s=await i.getIdToken(e),o=Bp(s);te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:vo(qd(o.auth_time)),issuedAtTime:vo(qd(o.iat)),expirationTime:vo(qd(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function qd(n){return Number(n)*1e3}function Bp(n){const[e,i,s]=n.split(".");if(e===void 0||i===void 0||s===void 0)return Bu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Xu(i);return o?JSON.parse(o):(Bu("Failed to decode base64 JWT payload"),null)}catch(o){return Bu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function RE(n){const e=Bp(n);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Mo(n,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof rr&&i2(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function i2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class r2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Cm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=vo(this.lastLoginAt),this.creationTime=vo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hc(n){const e=n.auth,i=await n.getIdToken(),s=await Mo(n,fc(e,{idToken:i}));te(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?BT(o.providerUserInfo):[],c=a2(n.providerData,u),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!c?.length,p=d?m:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Cm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function s2(n){const e=vt(n);await hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a2(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function BT(n){return n.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function o2(n,e){const i=await PT(n,{},async()=>{const s=ea({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=await HT(n,o,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return n.emulatorConfig&&Js(n.emulatorConfig.host)&&(m.credentials="include"),UT.fetch()(c,m)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function l2(n,e){return lr(n,"POST","/v2/accounts:revokeToken",or(n,e))}class Hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){te(e.length!==0,"internal-error");const i=RE(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:o,expiresIn:u}=await o2(e,i);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:o,expirationTime:u}=i,c=new Hs;return s&&(te(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(te(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hs,this.toJSON())}_performRefresh(){return ii("not implemented")}}function ji(n,e){te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class vn{constructor({uid:e,auth:i,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new r2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Mo(this,this.stsTokenManager.getToken(this.auth,e));return te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return n2(this,e)}reload(){return s2(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new vn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await hc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await Mo(this,t2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,c=i.photoURL??void 0,d=i.tenantId??void 0,m=i._redirectEventId??void 0,p=i.createdAt??void 0,y=i.lastLoginAt??void 0,{uid:_,emailVerified:v,isAnonymous:E,providerData:R,stsTokenManager:D}=i;te(_&&D,e,"internal-error");const L=Hs.fromJSON(this.name,D);te(typeof _=="string",e,"internal-error"),ji(s,e.name),ji(o,e.name),te(typeof v=="boolean",e,"internal-error"),te(typeof E=="boolean",e,"internal-error"),ji(u,e.name),ji(c,e.name),ji(d,e.name),ji(m,e.name),ji(p,e.name),ji(y,e.name);const F=new vn({uid:_,auth:e,email:o,emailVerified:v,displayName:s,isAnonymous:E,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:L,createdAt:p,lastLoginAt:y});return R&&Array.isArray(R)&&(F.providerData=R.map(G=>({...G}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(e,i,s=!1){const o=new Hs;o.updateFromServerResponse(i);const u=new vn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await hc(u),u}static async _fromGetAccountInfoResponse(e,i,s){const o=i.users[0];te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?BT(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new Hs;d.updateFromIdToken(s);const m=new vn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,p),m}}const AE=new Map;function ri(n){di(n instanceof Function,"Expected a class definition");let e=AE.get(n);return e?(di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,AE.set(n,e),e)}class zT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}zT.type="NONE";const NE=zT;function zu(n,e,i){return`firebase:${n}:${e}:${i}`}class Bs{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=zu(this.userKey,o.apiKey,u),this.fullPersistenceKey=zu("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await fc(this.auth,{idToken:e}).catch(()=>{});return i?vn._fromGetAccountInfoResponse(this.auth,i,e):null}return vn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Bs(ri(NE),e,s);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||ri(NE);const c=zu(s,e.config.apiKey,e.name);let d=null;for(const p of i)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const v=await fc(e,{idToken:y}).catch(()=>{});if(!v)break;_=await vn._fromGetAccountInfoResponse(e,v,y)}else _=vn._fromJSON(e,y);p!==u&&(d=_),u=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Bs(u,e,s):(u=m[0],d&&await u._set(c,d.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(c)}catch{}})),new Bs(u,e,s))}}function OE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YT(e))return"Blackberry";if(XT(e))return"Webos";if(FT(e))return"Safari";if((e.includes("chrome/")||GT(e))&&!e.includes("edge/"))return"Chrome";if(qT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(i);if(s?.length===2)return s[1]}return"Other"}function jT(n=Ct()){return/firefox\//i.test(n)}function FT(n=Ct()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GT(n=Ct()){return/crios\//i.test(n)}function VT(n=Ct()){return/iemobile/i.test(n)}function qT(n=Ct()){return/android/i.test(n)}function YT(n=Ct()){return/blackberry/i.test(n)}function XT(n=Ct()){return/webos/i.test(n)}function zp(n=Ct()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function u2(n=Ct()){return zp(n)&&!!window.navigator?.standalone}function c2(){return RN()&&document.documentMode===10}function QT(n=Ct()){return zp(n)||qT(n)||XT(n)||YT(n)||/windows phone/i.test(n)||VT(n)}function $T(n,e=[]){let i;switch(n){case"Browser":i=OE(Ct());break;case"Worker":i=`${OE(Ct())}-${n}`;break;default:i=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ta}/${s}`}class f2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=u=>new Promise((c,d)=>{try{const m=e(u);c(m)}catch(m){d(m)}});s.onAbort=i,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function h2(n,e={}){return lr(n,"GET","/v2/passwordPolicy",or(n,e))}const d2=6;class m2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??d2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class p2{constructor(e,i,s,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xE(this),this.idTokenSubscription=new xE(this),this.beforeStateQueue=new f2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ri(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await fc(this,{idToken:e}),s=await vn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(on(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await hc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(li(this));const i=e?vt(e):null;return i&&te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h2(this),i=new m2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Go("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await l2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ri(e)||this._popupRedirectResolver;te(i,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[ri(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof i=="function"){const m=e.addObserver(i,s,o);return()=>{c=!0,m()}}else{const m=e.addObserver(i);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VL(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vr(n){return vt(n)}class xE{constructor(e){this.auth=e,this.observer=null,this.addObserver=UN(i=>this.observer=i)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g2(n){jc=n}function WT(n){return jc.loadJS(n)}function _2(){return jc.recaptchaEnterpriseScript}function y2(){return jc.gapiScript}function v2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class b2{constructor(){this.enterprise=new E2}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class E2{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const S2="recaptcha-enterprise",KT="NO_RECAPTCHA";class T2{constructor(e){this.type=S2,this.auth=Vr(e)}async verify(e="verify",i=!1){async function s(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,d)=>{e2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new JL(m);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function o(u,c,d){const m=window.grecaptcha;wE(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(p=>{c(p)}).catch(()=>{c(KT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new b2().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(d=>{if(!i&&wE(window.grecaptcha))o(d,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=_2();m.length!==0&&(m+=d),WT(m).then(()=>{o(d,u,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function IE(n,e,i,s=!1,o=!1){const u=new T2(n);let c;if(o)c=KT;else try{c=await u.verify(i)}catch{c=await u.verify(i,!0)}const d={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function wm(n,e,i,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await IE(n,e,i,i==="getOobCode");return s(n,u)}else return s(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await IE(n,e,i,i==="getOobCode");return s(n,c)}else return Promise.reject(u)})}function C2(n,e){const i=Zm(n,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(Mr(u,e??{}))return o;Sn(o,"already-initialized")}return i.initialize({options:e})}function w2(n,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(ri);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function R2(n,e,i){const s=Vr(n);te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ZT(e),{host:c,port:d}=A2(e),m=d===null?"":`:${d}`,p={url:`${u}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),te(Mr(p,s.config.emulator)&&Mr(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Js(c)?(DS(`${u}//${c}${m}`),MS("Auth",!0)):N2()}function ZT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function A2(n){const e=ZT(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:DE(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:DE(c)}}}function DE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function N2(){function n(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class jp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,i){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function O2(n,e){return lr(n,"POST","/v1/accounts:signUp",e)}async function x2(n,e){return il(n,"POST","/v1/accounts:signInWithPassword",or(n,e))}async function I2(n,e){return il(n,"POST","/v1/accounts:signInWithEmailLink",or(n,e))}async function D2(n,e){return il(n,"POST","/v1/accounts:signInWithEmailLink",or(n,e))}class Lo extends jp{constructor(e,i,s,o=null){super("password",s),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Lo(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new Lo(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wm(e,i,"signInWithPassword",x2);case"emailLink":return I2(e,{email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wm(e,s,"signUpPassword",O2);case"emailLink":return D2(e,{idToken:i,email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zs(n,e){return il(n,"POST","/v1/accounts:signInWithIdp",or(n,e))}const M2="http://localhost";class Hr extends jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Sn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=i;if(!s||!o)return null;const c=new Hr(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const i=this.buildRequest();return zs(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,zs(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,zs(e,i)}buildRequest(){const e={requestUri:M2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=ea(i)}return e}}function L2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k2(n){const e=lo(uo(n)).link,i=e?lo(uo(e)).deep_link_id:null,s=lo(uo(n)).deep_link_id;return(s?lo(uo(s)).link:null)||s||i||e||n}class Fp{constructor(e){const i=lo(uo(e)),s=i.apiKey??null,o=i.oobCode??null,u=L2(i.mode??null);te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=k2(e);try{return new Fp(i)}catch{return null}}}class aa{constructor(){this.providerId=aa.PROVIDER_ID}static credential(e,i){return Lo._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=Fp.parseLink(i);return te(s,"argument-error"),Lo._fromEmailAndCode(e,s.code,s.tenantId)}}aa.PROVIDER_ID="password";aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class JT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class rl extends JT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fi extends rl{constructor(){super("facebook.com")}static credential(e){return Hr._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";class Gi extends rl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Hr._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return Gi.credential(i,s)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";class Vi extends rl{constructor(){super("github.com")}static credential(e){return Hr._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";class qi extends rl{constructor(){super("twitter.com")}static credential(e,i){return Hr._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return qi.credential(i,s)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";async function U2(n,e){return il(n,"POST","/v1/accounts:signUp",or(n,e))}class Br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,o=!1){const u=await vn._fromIdTokenResponse(e,s,o),c=ME(s);return new Br({user:u,providerId:c,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const o=ME(s);return new Br({user:e,providerId:o,_tokenResponse:s,operationType:i})}}function ME(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class dc extends rr{constructor(e,i,s,o){super(i.code,i.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,dc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,o){return new dc(e,i,s,o)}}function eC(n,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?dc._fromErrorAndOperation(n,u,e,s):u})}async function P2(n,e,i=!1){const s=await Mo(n,e._linkToIdToken(n.auth,await n.getIdToken()),i);return Br._forOperation(n,"link",s)}async function H2(n,e,i=!1){const{auth:s}=n;if(on(s.app))return Promise.reject(li(s));const o="reauthenticate";try{const u=await Mo(n,eC(s,o,e,n),i);te(u.idToken,s,"internal-error");const c=Bp(u.idToken);te(c,s,"internal-error");const{sub:d}=c;return te(n.uid===d,s,"user-mismatch"),Br._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Sn(s,"user-mismatch"),u}}async function tC(n,e,i=!1){if(on(n.app))return Promise.reject(li(n));const s="signIn",o=await eC(n,s,e),u=await Br._fromIdTokenResponse(n,s,o);return i||await n._updateCurrentUser(u.user),u}async function B2(n,e){return tC(Vr(n),e)}async function nC(n){const e=Vr(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function z2(n,e,i){if(on(n.app))return Promise.reject(li(n));const s=Vr(n),c=await wm(s,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U2).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&nC(n),m}),d=await Br._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function j2(n,e,i){return on(n.app)?Promise.reject(li(n)):B2(vt(n),aa.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&nC(n),s})}function F2(n,e,i,s){return vt(n).onIdTokenChanged(e,i,s)}function G2(n,e,i){return vt(n).beforeAuthStateChanged(e,i)}function V2(n,e,i,s){return vt(n).onAuthStateChanged(e,i,s)}function q2(n){return vt(n).signOut()}const mc="__sak";class iC{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(mc,"1"),this.storage.removeItem(mc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Y2=1e3,X2=10;class rC extends iC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),o=this.localCache[i];s!==o&&e(i,o,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!i&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);c2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,X2):o()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},Y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}rC.type="LOCAL";const Q2=rC;class sC extends iC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}sC.type="SESSION";const aC=sC;function $2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Fc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const s=new Fc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:o,data:u}=i.data,c=this.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async p=>p(i.origin,u)),m=await $2(d);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fc.receivers=[];function Gp(n="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return n+i}class W2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,m)=>{const p=Gp("",20);o.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(_){const v=_;if(v.data.eventId===p)switch(v.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(v.data.response);break;default:clearTimeout(y),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function In(){return window}function K2(n){In().location.href=n}function oC(){return typeof In().WorkerGlobalScope<"u"&&typeof In().importScripts=="function"}async function Z2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J2(){return navigator?.serviceWorker?.controller||null}function ek(){return oC()?self:null}const lC="firebaseLocalStorageDb",tk=1,pc="firebaseLocalStorage",uC="fbase_key";class sl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Gc(n,e){return n.transaction([pc],e?"readwrite":"readonly").objectStore(pc)}function nk(){const n=indexedDB.deleteDatabase(lC);return new sl(n).toPromise()}function Rm(){const n=indexedDB.open(lC,tk);return new Promise((e,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(pc,{keyPath:uC})}catch(o){i(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(pc)?e(s):(s.close(),await nk(),e(await Rm()))})})}async function LE(n,e,i){const s=Gc(n,!0).put({[uC]:e,value:i});return new sl(s).toPromise()}async function ik(n,e){const i=Gc(n,!1).get(e),s=await new sl(i).toPromise();return s===void 0?null:s.value}function kE(n,e){const i=Gc(n,!0).delete(e);return new sl(i).toPromise()}const rk=800,sk=3;class cC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>sk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fc._getInstance(ek()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Z2(),!this.activeServiceWorker)return;this.sender=new W2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rm();return await LE(e,mc,"1"),await kE(e,mc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>LE(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>ik(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>kE(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Gc(o,!1).getAll();return new sl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cC.type="LOCAL";const ak=cC;new nl(3e4,6e4);function ok(n,e){return e?ri(e):(te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Vp extends jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zs(e,this._buildIdpRequest())}_linkToIdToken(e,i){return zs(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function lk(n){return tC(n.auth,new Vp(n),n.bypassAuthState)}function uk(n){const{auth:e,user:i}=n;return te(i,e,"internal-error"),H2(i,new Vp(n),n.bypassAuthState)}async function ck(n){const{auth:e,user:i}=n;return te(i,e,"internal-error"),P2(i,new Vp(n),n.bypassAuthState)}class fC{constructor(e,i,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:i,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lk;case"linkViaPopup":case"linkViaRedirect":return ck;case"reauthViaPopup":case"reauthViaRedirect":return uk;default:Sn(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fk=new nl(2e3,1e4);class Ls extends fC{constructor(e,i,s,o,u){super(e,i,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ls.currentPopupAction&&Ls.currentPopupAction.cancel(),Ls.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ls.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fk.get())};e()}}Ls.currentPopupAction=null;const hk="pendingRedirect",ju=new Map;class dk extends fC{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=ju.get(this.auth._key());if(!e){try{const s=await mk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}ju.set(this.auth._key(),e)}return this.bypassAuthState||ju.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mk(n,e){const i=_k(e),s=gk(n);if(!await s._isAvailable())return!1;const o=await s._get(i)==="true";return await s._remove(i),o}function pk(n,e){ju.set(n._key(),e)}function gk(n){return ri(n._redirectPersistence)}function _k(n){return zu(hk,n.config.apiKey,n.name)}async function yk(n,e,i=!1){if(on(n.app))return Promise.reject(li(n));const s=Vr(n),o=ok(s,e),c=await new dk(s,o,i).execute();return c&&!i&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const vk=600*1e3;class bk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ek(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!hC(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(xn(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vk&&this.cachedEventUids.clear(),this.cachedEventUids.has(UE(e))}saveEventToCache(e){this.cachedEventUids.add(UE(e)),this.lastProcessedEventTime=Date.now()}}function UE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function hC({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Ek(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hC(n);default:return!1}}async function Sk(n,e={}){return lr(n,"GET","/v1/projects",e)}const Tk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ck=/^https?/;async function wk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Sk(n);for(const i of e)try{if(Rk(i))return}catch{}Sn(n,"unauthorized-domain")}function Rk(n){const e=Tm(),{protocol:i,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&c.hostname===s}if(!Ck.test(i))return!1;if(Tk.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const Ak=new nl(3e4,6e4);function PE(){const n=In().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function Nk(n){return new Promise((e,i)=>{function s(){PE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PE(),i(xn(n,"network-request-failed"))},timeout:Ak.get()})}if(In().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(In().gapi?.load)s();else{const o=v2("iframefcb");return In()[o]=()=>{gapi.load?s():i(xn(n,"network-request-failed"))},WT(`${y2()}?onload=${o}`).catch(u=>i(u))}}).catch(e=>{throw Fu=null,e})}let Fu=null;function Ok(n){return Fu=Fu||Nk(n),Fu}const xk=new nl(5e3,15e3),Ik="__/auth/iframe",Dk="emulator/auth/iframe",Mk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kk(n){const e=n.config;te(e.authDomain,n,"auth-domain-config-required");const i=e.emulator?Hp(e,Dk):`https://${n.config.authDomain}/${Ik}`,s={apiKey:e.apiKey,appName:n.name,v:ta},o=Lk.get(n.config.apiHost);o&&(s.eid=o);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${i}?${ea(s).slice(1)}`}async function Uk(n){const e=await Ok(n),i=In().gapi;return te(i,n,"internal-error"),e.open({where:document.body,url:kk(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mk,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=xn(n,"network-request-failed"),d=In().setTimeout(()=>{u(c)},xk.get());function m(){In().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{u(c)})}))}const Pk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hk=500,Bk=600,zk="_blank",jk="http://localhost";class HE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Fk(n,e,i,s=Hk,o=Bk){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...Pk,width:s.toString(),height:o.toString(),top:u,left:c},p=Ct().toLowerCase();i&&(d=GT(p)?zk:i),jT(p)&&(e=e||jk,m.scrollbars="yes");const y=Object.entries(m).reduce((v,[E,R])=>`${v}${E}=${R},`,"");if(u2(p)&&d!=="_self")return Gk(e||"",d),new HE(null);const _=window.open(e||"",d,y);te(_,n,"popup-blocked");try{_.focus()}catch{}return new HE(_)}function Gk(n,e){const i=document.createElement("a");i.href=n,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const Vk="__/auth/handler",qk="emulator/auth/handler",Yk=encodeURIComponent("fac");async function BE(n,e,i,s,o,u){te(n.config.authDomain,n,"auth-domain-config-required"),te(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:s,v:ta,eventId:o};if(e instanceof JT){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",Jd(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof rl){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await n._getAppCheckToken(),p=m?`#${Yk}=${encodeURIComponent(m)}`:"";return`${Xk(n)}?${ea(d).slice(1)}${p}`}function Xk({config:n}){return n.emulator?Hp(n,qk):`https://${n.authDomain}/${Vk}`}const Yd="webStorageSupport";class Qk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aC,this._completeRedirectFn=yk,this._overrideRedirectResult=pk}async _openPopup(e,i,s,o){di(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await BE(e,i,s,Tm(),o);return Fk(e,u,Gp())}async _openRedirect(e,i,s,o){await this._originValidation(e);const u=await BE(e,i,s,Tm(),o);return K2(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(di(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await Uk(e),s=new bk(e);return i.register("authEvent",o=>(te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Yd,{type:Yd},o=>{const u=o?.[0]?.[Yd];u!==void 0&&i(!!u),Sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=wk(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return QT()||FT()||zp()}}const $k=Qk;var zE="@firebase/auth",jE="1.12.0";class Wk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Kk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zk(n){Fs(new Lr("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;te(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$T(n)},p=new p2(s,o,u,m);return w2(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Fs(new Lr("auth-internal",e=>{const i=Vr(e.getProvider("auth").getImmediate());return(s=>new Wk(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(zE,jE,Kk(n)),$i(zE,jE,"esm2020")}const Jk=300,eU=IS("authIdTokenMaxAge")||Jk;let FE=null;const tU=n=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>eU)return;const o=i?.token;FE!==o&&(FE=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function nU(n=BS()){const e=Zm(n,"auth");if(e.isInitialized())return e.getImmediate();const i=C2(n,{popupRedirectResolver:$k,persistence:[ak,Q2,aC]}),s=IS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=tU(u.toString());G2(i,c,()=>c(i.currentUser)),F2(i,d=>c(d))}}const o=OS("auth");return o&&R2(i,`http://${o}`),i}function iU(){return document.getElementsByTagName("head")?.[0]??document}g2({loadJS(n){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const u=xn("internal-error");u.customData=o,i(u)},s.type="text/javascript",s.charset="UTF-8",iU().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zk("Browser");class rU{async getUserRoles(e){const i=yo(Ps),s=oi(i,`users/${e}/roles`),o=await Lp(s);if(o.exists()){const u=o.val(),c=[];return u?.admin===!0&&c.push(Zi.ADMIN),c.length===0&&c.push(Zi.USER),c}return[Zi.USER]}}const oo=nU(Ps);class sU{databaseService;constructor(){this.databaseService=new rU}signIn(e,i){return j2(oo,e,i)}signUp(e,i){return z2(oo,e,i)}signOut(){return q2(oo)}onAuthStateChanged(e){return V2(oo,e)}getCurrentUser(){return oo.currentUser}async getUserRoles(e){return e?.email==="admin@email.com"?[Zi.ADMIN]:this.databaseService.getUserRoles(e.uid)}}const ko=new sU,qr=A.createContext({user:null,roles:null}),aU=({children:n})=>{const[e,i]=A.useState(null),[s,o]=A.useState(null);return A.useEffect(()=>ko.onAuthStateChanged(async c=>{if(i(c),c)try{const d=await ko.getUserRoles(c);o(d)}catch(d){console.error("Error al obtener los roles",d),o(null)}else o(null)}),[]),T.jsx(qr.Provider,{value:{user:e,roles:s},children:n})};class oU{async setUserRoles(e,i){const s=yo(Ps),o=oi(s,`users/${e}`);await Mp(o,i)}async getAllUsers(){const e=yo(Ps),i=oi(e,"users"),s=await Lp(i);if(!s.exists())return[];const o=s.val();return Object.keys(o).map(u=>({uid:u,...o[u]}))}async updateUserAdminRole(e,i){const s=yo(Ps),o=oi(s,`users/${e}/roles`);await tT(o,{admin:i})}}const Am=new oU;function mt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var lU=typeof Symbol=="function"&&Symbol.observable||"@@observable",GE=lU,Xd=()=>Math.random().toString(36).substring(7).split("").join("."),uU={INIT:`@@redux/INIT${Xd()}`,REPLACE:`@@redux/REPLACE${Xd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xd()}`},gc=uU;function qp(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function dC(n,e,i){if(typeof n!="function")throw new Error(mt(2));if(typeof e=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(mt(0));if(typeof e=="function"&&typeof i>"u"&&(i=e,e=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(mt(1));return i(dC)(n,e)}let s=n,o=e,u=new Map,c=u,d=0,m=!1;function p(){c===u&&(c=new Map,u.forEach((L,F)=>{c.set(F,L)}))}function y(){if(m)throw new Error(mt(3));return o}function _(L){if(typeof L!="function")throw new Error(mt(4));if(m)throw new Error(mt(5));let F=!0;p();const G=d++;return c.set(G,L),function(){if(F){if(m)throw new Error(mt(6));F=!1,p(),c.delete(G),u=null}}}function v(L){if(!qp(L))throw new Error(mt(7));if(typeof L.type>"u")throw new Error(mt(8));if(typeof L.type!="string")throw new Error(mt(17));if(m)throw new Error(mt(9));try{m=!0,o=s(o,L)}finally{m=!1}return(u=c).forEach(G=>{G()}),L}function E(L){if(typeof L!="function")throw new Error(mt(10));s=L,v({type:gc.REPLACE})}function R(){const L=_;return{subscribe(F){if(typeof F!="object"||F===null)throw new Error(mt(11));function G(){const $=F;$.next&&$.next(y())}return G(),{unsubscribe:L(G)}},[GE](){return this}}}return v({type:gc.INIT}),{dispatch:v,subscribe:_,getState:y,replaceReducer:E,[GE]:R}}function cU(n){Object.keys(n).forEach(e=>{const i=n[e];if(typeof i(void 0,{type:gc.INIT})>"u")throw new Error(mt(12));if(typeof i(void 0,{type:gc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mt(13))})}function fU(n){const e=Object.keys(n),i={};for(let u=0;u<e.length;u++){const c=e[u];typeof n[c]=="function"&&(i[c]=n[c])}const s=Object.keys(i);let o;try{cU(i)}catch(u){o=u}return function(c={},d){if(o)throw o;let m=!1;const p={};for(let y=0;y<s.length;y++){const _=s[y],v=i[_],E=c[_],R=v(E,d);if(typeof R>"u")throw d&&d.type,new Error(mt(14));p[_]=R,m=m||R!==E}return m=m||s.length!==Object.keys(c).length,m?p:c}}function _c(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,i)=>(...s)=>e(i(...s)))}function hU(...n){return e=>(i,s)=>{const o=e(i,s);let u=()=>{throw new Error(mt(15))};const c={getState:o.getState,dispatch:(m,...p)=>u(m,...p)},d=n.map(m=>m(c));return u=_c(...d)(o.dispatch),{...o,dispatch:u}}}function dU(n){return qp(n)&&"type"in n&&typeof n.type=="string"}var mC=Symbol.for("immer-nothing"),VE=Symbol.for("immer-draftable"),wt=Symbol.for("immer-state");function _n(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Xt=Object,Qs=Xt.getPrototypeOf,yc="constructor",Vc="prototype",Nm="configurable",vc="enumerable",Gu="writable",Uo="value",mi=n=>!!n&&!!n[wt];function Tn(n){return n?pC(n)||Yc(n)||!!n[VE]||!!n[yc]?.[VE]||Xc(n)||Qc(n):!1}var mU=Xt[Vc][yc].toString(),qE=new WeakMap;function pC(n){if(!n||!Yp(n))return!1;const e=Qs(n);if(e===null||e===Xt[Vc])return!0;const i=Xt.hasOwnProperty.call(e,yc)&&e[yc];if(i===Object)return!0;if(!Ds(i))return!1;let s=qE.get(i);return s===void 0&&(s=Function.toString.call(i),qE.set(i,s)),s===mU}function qc(n,e,i=!0){al(n)===0?(i?Reflect.ownKeys(n):Xt.keys(n)).forEach(o=>{e(o,n[o],n)}):n.forEach((s,o)=>e(o,s,n))}function al(n){const e=n[wt];return e?e.type_:Yc(n)?1:Xc(n)?2:Qc(n)?3:0}var YE=(n,e,i=al(n))=>i===2?n.has(e):Xt[Vc].hasOwnProperty.call(n,e),Om=(n,e,i=al(n))=>i===2?n.get(e):n[e],bc=(n,e,i,s=al(n))=>{s===2?n.set(e,i):s===3?n.add(i):n[e]=i};function pU(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var Yc=Array.isArray,Xc=n=>n instanceof Map,Qc=n=>n instanceof Set,Yp=n=>typeof n=="object",Ds=n=>typeof n=="function",Qd=n=>typeof n=="boolean";function gU(n){const e=+n;return Number.isInteger(e)&&String(e)===n}var ei=n=>n.copy_||n.base_,Xp=n=>n.modified_?n.copy_:n.base_;function xm(n,e){if(Xc(n))return new Map(n);if(Qc(n))return new Set(n);if(Yc(n))return Array[Vc].slice.call(n);const i=pC(n);if(e===!0||e==="class_only"&&!i){const s=Xt.getOwnPropertyDescriptors(n);delete s[wt];let o=Reflect.ownKeys(s);for(let u=0;u<o.length;u++){const c=o[u],d=s[c];d[Gu]===!1&&(d[Gu]=!0,d[Nm]=!0),(d.get||d.set)&&(s[c]={[Nm]:!0,[Gu]:!0,[vc]:d[vc],[Uo]:n[c]})}return Xt.create(Qs(n),s)}else{const s=Qs(n);if(s!==null&&i)return{...n};const o=Xt.create(s);return Xt.assign(o,n)}}function Qp(n,e=!1){return $c(n)||mi(n)||!Tn(n)||(al(n)>1&&Xt.defineProperties(n,{set:Iu,add:Iu,clear:Iu,delete:Iu}),Xt.freeze(n),e&&qc(n,(i,s)=>{Qp(s,!0)},!1)),n}function _U(){_n(2)}var Iu={[Uo]:_U};function $c(n){return n===null||!Yp(n)?!0:Xt.isFrozen(n)}var Ec="MapSet",Im="Patches",XE="ArrayMethods",gC={};function zr(n){const e=gC[n];return e||_n(0,n),e}var QE=n=>!!gC[n],Po,_C=()=>Po,yU=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:QE(Ec)?zr(Ec):void 0,arrayMethodsPlugin_:QE(XE)?zr(XE):void 0});function $E(n,e){e&&(n.patchPlugin_=zr(Im),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Dm(n){Mm(n),n.drafts_.forEach(vU),n.drafts_=null}function Mm(n){n===Po&&(Po=n.parent_)}var WE=n=>Po=yU(Po,n);function vU(n){const e=n[wt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function KE(n,e){e.unfinalizedDrafts_=e.drafts_.length;const i=e.drafts_[0];if(n!==void 0&&n!==i){i[wt].modified_&&(Dm(e),_n(4)),Tn(n)&&(n=ZE(e,n));const{patchPlugin_:o}=e;o&&o.generateReplacementPatches_(i[wt].base_,n,e)}else n=ZE(e,i);return bU(e,n,!0),Dm(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==mC?n:void 0}function ZE(n,e){if($c(e))return e;const i=e[wt];if(!i)return Sc(e,n.handledSet_,n);if(!Wc(i,n))return e;if(!i.modified_)return i.base_;if(!i.finalized_){const{callbacks_:s}=i;if(s)for(;s.length>0;)s.pop()(n);bC(i,n)}return i.copy_}function bU(n,e,i=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Qp(e,i)}function yC(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var Wc=(n,e)=>n.scope_===e,EU=[];function vC(n,e,i,s){const o=ei(n),u=n.type_;if(s!==void 0&&Om(o,s,u)===e){bc(o,s,i,u);return}if(!n.draftLocations_){const d=n.draftLocations_=new Map;qc(o,(m,p)=>{if(mi(p)){const y=d.get(p)||[];y.push(m),d.set(p,y)}})}const c=n.draftLocations_.get(e)??EU;for(const d of c)bc(o,d,i,u)}function SU(n,e,i){n.callbacks_.push(function(o){const u=e;if(!u||!Wc(u,o))return;o.mapSetPlugin_?.fixSetContents(u);const c=Xp(u);vC(n,u.draft_??u,c,i),bC(u,o)})}function bC(n,e){if(n.modified_&&!n.finalized_&&(n.type_===3||n.type_===1&&n.allIndicesReassigned_||(n.assigned_?.size??0)>0)){const{patchPlugin_:s}=e;if(s){const o=s.getPath(n);o&&s.generatePatches_(n,o,e)}yC(n)}}function TU(n,e,i){const{scope_:s}=n;if(mi(i)){const o=i[wt];Wc(o,s)&&o.callbacks_.push(function(){Vu(n);const c=Xp(o);vC(n,i,c,e)})}else Tn(i)&&n.callbacks_.push(function(){const u=ei(n);n.type_===3?u.has(i)&&Sc(i,s.handledSet_,s):Om(u,e,n.type_)===i&&s.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&Sc(Om(n.copy_,e,n.type_),s.handledSet_,s)})}function Sc(n,e,i){return!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1||mi(n)||e.has(n)||!Tn(n)||$c(n)||(e.add(n),qc(n,(s,o)=>{if(mi(o)){const u=o[wt];if(Wc(u,i)){const c=Xp(u);bc(n,s,c,n.type_),yC(u)}}else Tn(o)&&Sc(o,e,i)})),n}function CU(n,e){const i=Yc(n),s={type_:i?1:0,scope_:e?e.scope_:_C(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=s,u=Tc;i&&(o=[s],u=Ho);const{revoke:c,proxy:d}=Proxy.revocable(o,u);return s.draft_=d,s.revoke_=c,[d,s]}var Tc={get(n,e){if(e===wt)return n;let i=n.scope_.arrayMethodsPlugin_;const s=n.type_===1&&typeof e=="string";if(s&&i?.isArrayOperationMethod(e))return i.createMethodInterceptor(n,e);const o=ei(n);if(!YE(o,e,n.type_))return wU(n,o,e);const u=o[e];if(n.finalized_||!Tn(u)||s&&n.operationMethod&&i?.isMutatingArrayMethod(n.operationMethod)&&gU(e))return u;if(u===$d(n.base_,e)){Vu(n);const c=n.type_===1?+e:e,d=km(n.scope_,u,n,c);return n.copy_[c]=d}return u},has(n,e){return e in ei(n)},ownKeys(n){return Reflect.ownKeys(ei(n))},set(n,e,i){const s=EC(ei(n),e);if(s?.set)return s.set.call(n.draft_,i),!0;if(!n.modified_){const o=$d(ei(n),e),u=o?.[wt];if(u&&u.base_===i)return n.copy_[e]=i,n.assigned_.set(e,!1),!0;if(pU(i,o)&&(i!==void 0||YE(n.base_,e,n.type_)))return!0;Vu(n),Lm(n)}return n.copy_[e]===i&&(i!==void 0||e in n.copy_)||Number.isNaN(i)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=i,n.assigned_.set(e,!0),TU(n,e,i)),!0},deleteProperty(n,e){return Vu(n),$d(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),Lm(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const i=ei(n),s=Reflect.getOwnPropertyDescriptor(i,e);return s&&{[Gu]:!0,[Nm]:n.type_!==1||e!=="length",[vc]:s[vc],[Uo]:i[e]}},defineProperty(){_n(11)},getPrototypeOf(n){return Qs(n.base_)},setPrototypeOf(){_n(12)}},Ho={};for(let n in Tc){let e=Tc[n];Ho[n]=function(){const i=arguments;return i[0]=i[0][0],e.apply(this,i)}}Ho.deleteProperty=function(n,e){return Ho.set.call(this,n,e,void 0)};Ho.set=function(n,e,i){return Tc.set.call(this,n[0],e,i,n[0])};function $d(n,e){const i=n[wt];return(i?ei(i):n)[e]}function wU(n,e,i){const s=EC(e,i);return s?Uo in s?s[Uo]:s.get?.call(n.draft_):void 0}function EC(n,e){if(!(e in n))return;let i=Qs(n);for(;i;){const s=Object.getOwnPropertyDescriptor(i,e);if(s)return s;i=Qs(i)}}function Lm(n){n.modified_||(n.modified_=!0,n.parent_&&Lm(n.parent_))}function Vu(n){n.copy_||(n.assigned_=new Map,n.copy_=xm(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var RU=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,i,s)=>{if(Ds(e)&&!Ds(i)){const u=i;i=e;const c=this;return function(m=u,...p){return c.produce(m,y=>i.call(this,y,...p))}}Ds(i)||_n(6),s!==void 0&&!Ds(s)&&_n(7);let o;if(Tn(e)){const u=WE(this),c=km(u,e,void 0);let d=!0;try{o=i(c),d=!1}finally{d?Dm(u):Mm(u)}return $E(u,s),KE(o,u)}else if(!e||!Yp(e)){if(o=i(e),o===void 0&&(o=e),o===mC&&(o=void 0),this.autoFreeze_&&Qp(o,!0),s){const u=[],c=[];zr(Im).generateReplacementPatches_(e,o,{patches_:u,inversePatches_:c}),s(u,c)}return o}else _n(1,e)},this.produceWithPatches=(e,i)=>{if(Ds(e))return(c,...d)=>this.produceWithPatches(c,m=>e(m,...d));let s,o;return[this.produce(e,i,(c,d)=>{s=c,o=d}),s,o]},Qd(n?.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),Qd(n?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),Qd(n?.useStrictIteration)&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){Tn(n)||_n(8),mi(n)&&(n=AU(n));const e=WE(this),i=km(e,n,void 0);return i[wt].isManual_=!0,Mm(e),i}finishDraft(n,e){const i=n&&n[wt];(!i||!i.isManual_)&&_n(9);const{scope_:s}=i;return $E(s,e),KE(void 0,s)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let i;for(i=e.length-1;i>=0;i--){const o=e[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(e=e.slice(i+1));const s=zr(Im).applyPatches_;return mi(n)?s(n,e):this.produce(n,o=>s(o,e))}};function km(n,e,i,s){const[o,u]=Xc(e)?zr(Ec).proxyMap_(e,i):Qc(e)?zr(Ec).proxySet_(e,i):CU(e,i);return(i?.scope_??_C()).drafts_.push(o),u.callbacks_=i?.callbacks_??[],u.key_=s,i&&s!==void 0?SU(i,u,s):u.callbacks_.push(function(m){m.mapSetPlugin_?.fixSetContents(u);const{patchPlugin_:p}=m;u.modified_&&p&&p.generatePatches_(u,[],m)}),o}function AU(n){return mi(n)||_n(10,n),SC(n)}function SC(n){if(!Tn(n)||$c(n))return n;const e=n[wt];let i,s=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,i=xm(n,e.scope_.immer_.useStrictShallowCopy_),s=e.scope_.immer_.shouldUseStrictIteration()}else i=xm(n,!0);return qc(i,(o,u)=>{bc(i,o,SC(u))},s),e&&(e.finalized_=!1),i}var NU=new RU,TC=NU.produce;function CC(n){return({dispatch:i,getState:s})=>o=>u=>typeof u=="function"?u(i,s,n):o(u)}var OU=CC(),xU=CC,IU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_c:_c.apply(null,arguments)},DU=n=>n&&typeof n.match=="function";function bo(n,e){function i(...s){if(e){let o=e(...s);if(!o)throw new Error(ui(0));return{type:n,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:n,payload:s[0]}}return i.toString=()=>`${n}`,i.type=n,i.match=s=>dU(s)&&s.type===n,i}var wC=class co extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,co.prototype)}static get[Symbol.species](){return co}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new co(...e[0].concat(this)):new co(...e.concat(this))}};function JE(n){return Tn(n)?TC(n,()=>{}):n}function Du(n,e,i){return n.has(e)?n.get(e):n.set(e,i(e)).get(e)}function MU(n){return typeof n=="boolean"}var LU=()=>function(e){const{thunk:i=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let c=new wC;return i&&(MU(i)?c.push(OU):c.push(xU(i.extraArgument))),c},kU="RTK_autoBatch",eS=n=>e=>{setTimeout(e,n)},UU=(n={type:"raf"})=>e=>(...i)=>{const s=e(...i);let o=!0,u=!1,c=!1;const d=new Set,m=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:eS(10):n.type==="callback"?n.queueNotification:eS(n.timeout),p=()=>{c=!1,u&&(u=!1,d.forEach(y=>y()))};return Object.assign({},s,{subscribe(y){const _=()=>o&&y(),v=s.subscribe(_);return d.add(y),()=>{v(),d.delete(y)}},dispatch(y){try{return o=!y?.meta?.[kU],u=!o,u&&(c||(c=!0,m(p))),s.dispatch(y)}finally{o=!0}}})},PU=n=>function(i){const{autoBatch:s=!0}=i??{};let o=new wC(n);return s&&o.push(UU(typeof s=="object"?s:void 0)),o};function HU(n){const e=LU(),{reducer:i=void 0,middleware:s,devTools:o=!0,preloadedState:u=void 0,enhancers:c=void 0}=n||{};let d;if(typeof i=="function")d=i;else if(qp(i))d=fU(i);else throw new Error(ui(1));let m;typeof s=="function"?m=s(e):m=e();let p=_c;o&&(p=IU({trace:!1,...typeof o=="object"&&o}));const y=hU(...m),_=PU(y);let v=typeof c=="function"?c(_):_();const E=p(...v);return dC(d,u,E)}function RC(n){const e={},i=[];let s;const o={addCase(u,c){const d=typeof u=="string"?u:u.type;if(!d)throw new Error(ui(28));if(d in e)throw new Error(ui(29));return e[d]=c,o},addAsyncThunk(u,c){return c.pending&&(e[u.pending.type]=c.pending),c.rejected&&(e[u.rejected.type]=c.rejected),c.fulfilled&&(e[u.fulfilled.type]=c.fulfilled),c.settled&&i.push({matcher:u.settled,reducer:c.settled}),o},addMatcher(u,c){return i.push({matcher:u,reducer:c}),o},addDefaultCase(u){return s=u,o}};return n(o),[e,i,s]}function BU(n){return typeof n=="function"}function zU(n,e){let[i,s,o]=RC(e),u;if(BU(n))u=()=>JE(n());else{const d=JE(n);u=()=>d}function c(d=u(),m){let p=[i[m.type],...s.filter(({matcher:y})=>y(m)).map(({reducer:y})=>y)];return p.filter(y=>!!y).length===0&&(p=[o]),p.reduce((y,_)=>{if(_)if(mi(y)){const E=_(y,m);return E===void 0?y:E}else{if(Tn(y))return TC(y,v=>_(v,m));{const v=_(y,m);if(v===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return y},d)}return c.getInitialState=u,c}var jU=(n,e)=>DU(n)?n.match(e):n(e);function FU(...n){return e=>n.some(i=>jU(i,e))}var GU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",VU=(n=21)=>{let e="",i=n;for(;i--;)e+=GU[Math.random()*64|0];return e},qU=["name","message","stack","code"],Wd=class{constructor(n,e){this.payload=n,this.meta=e}_type},tS=class{constructor(n,e){this.payload=n,this.meta=e}_type},YU=n=>{if(typeof n=="object"&&n!==null){const e={};for(const i of qU)typeof n[i]=="string"&&(e[i]=n[i]);return e}return{message:String(n)}},nS="External signal was aborted",Kc=(()=>{function n(e,i,s){const o=bo(e+"/fulfilled",(m,p,y,_)=>({payload:m,meta:{..._||{},arg:y,requestId:p,requestStatus:"fulfilled"}})),u=bo(e+"/pending",(m,p,y)=>({payload:void 0,meta:{...y||{},arg:p,requestId:m,requestStatus:"pending"}})),c=bo(e+"/rejected",(m,p,y,_,v)=>({payload:_,error:(s&&s.serializeError||YU)(m||"Rejected"),meta:{...v||{},arg:y,requestId:p,rejectedWithValue:!!_,requestStatus:"rejected",aborted:m?.name==="AbortError",condition:m?.name==="ConditionError"}}));function d(m,{signal:p}={}){return(y,_,v)=>{const E=s?.idGenerator?s.idGenerator(m):VU(),R=new AbortController;let D,L;function F(B){L=B,R.abort()}p&&(p.aborted?F(nS):p.addEventListener("abort",()=>F(nS),{once:!0}));const G=(async function(){let B;try{let k=s?.condition?.(m,{getState:_,extra:v});if(QU(k)&&(k=await k),k===!1||R.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const J=new Promise((X,se)=>{D=()=>{se({name:"AbortError",message:L||"Aborted"})},R.signal.addEventListener("abort",D,{once:!0})});y(u(E,m,s?.getPendingMeta?.({requestId:E,arg:m},{getState:_,extra:v}))),B=await Promise.race([J,Promise.resolve(i(m,{dispatch:y,getState:_,extra:v,requestId:E,signal:R.signal,abort:F,rejectWithValue:(X,se)=>new Wd(X,se),fulfillWithValue:(X,se)=>new tS(X,se)})).then(X=>{if(X instanceof Wd)throw X;return X instanceof tS?o(X.payload,E,m,X.meta):o(X,E,m)})])}catch(k){B=k instanceof Wd?c(null,E,m,k.payload,k.meta):c(k,E,m)}finally{D&&R.signal.removeEventListener("abort",D)}return s&&!s.dispatchConditionRejection&&c.match(B)&&B.meta.condition||y(B),B})();return Object.assign(G,{abort:F,requestId:E,arg:m,unwrap(){return G.then(XU)}})}}return Object.assign(d,{pending:u,rejected:c,fulfilled:o,settled:FU(c,o),typePrefix:e})}return n.withTypes=()=>n,n})();function XU(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function QU(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var $U=Symbol.for("rtk-slice-createasyncthunk");function WU(n,e){return`${n}/${e}`}function KU({creators:n}={}){const e=n?.asyncThunk?.[$U];return function(s){const{name:o,reducerPath:u=o}=s;if(!o)throw new Error(ui(11));const c=(typeof s.reducers=="function"?s.reducers(e3()):s.reducers)||{},d=Object.keys(c),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(B,$){const k=typeof B=="string"?B:B.type;if(!k)throw new Error(ui(12));if(k in m.sliceCaseReducersByType)throw new Error(ui(13));return m.sliceCaseReducersByType[k]=$,p},addMatcher(B,$){return m.sliceMatchers.push({matcher:B,reducer:$}),p},exposeAction(B,$){return m.actionCreators[B]=$,p},exposeCaseReducer(B,$){return m.sliceCaseReducersByName[B]=$,p}};d.forEach(B=>{const $=c[B],k={reducerName:B,type:WU(o,B),createNotation:typeof s.reducers=="function"};n3($)?r3(k,$,p,e):t3(k,$,p)});function y(){const[B={},$=[],k=void 0]=typeof s.extraReducers=="function"?RC(s.extraReducers):[s.extraReducers],J={...B,...m.sliceCaseReducersByType};return zU(s.initialState,X=>{for(let se in J)X.addCase(se,J[se]);for(let se of m.sliceMatchers)X.addMatcher(se.matcher,se.reducer);for(let se of $)X.addMatcher(se.matcher,se.reducer);k&&X.addDefaultCase(k)})}const _=B=>B,v=new Map,E=new WeakMap;let R;function D(B,$){return R||(R=y()),R(B,$)}function L(){return R||(R=y()),R.getInitialState()}function F(B,$=!1){function k(X){let se=X[B];return typeof se>"u"&&$&&(se=Du(E,k,L)),se}function J(X=_){const se=Du(v,$,()=>new WeakMap);return Du(se,X,()=>{const Ke={};for(const[Rt,$t]of Object.entries(s.selectors??{}))Ke[Rt]=ZU($t,X,()=>Du(E,X,L),$);return Ke})}return{reducerPath:B,getSelectors:J,get selectors(){return J(k)},selectSlice:k}}const G={name:o,reducer:D,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:L,...F(u),injectInto(B,{reducerPath:$,...k}={}){const J=$??u;return B.inject({reducerPath:J,reducer:D},k),{...G,...F(J,!0)}}};return G}}function ZU(n,e,i,s){function o(u,...c){let d=e(u);return typeof d>"u"&&s&&(d=i()),n(d,...c)}return o.unwrapped=n,o}var JU=KU();function e3(){function n(e,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...i}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...i){return e(...i)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:i}},asyncThunk:n}}function t3({type:n,reducerName:e,createNotation:i},s,o){let u,c;if("reducer"in s){if(i&&!i3(s))throw new Error(ui(17));u=s.reducer,c=s.prepare}else u=s;o.addCase(n,u).exposeCaseReducer(e,u).exposeAction(e,c?bo(n,c):bo(n))}function n3(n){return n._reducerDefinitionType==="asyncThunk"}function i3(n){return n._reducerDefinitionType==="reducerWithPrepare"}function r3({type:n,reducerName:e},i,s,o){if(!o)throw new Error(ui(18));const{payloadCreator:u,fulfilled:c,pending:d,rejected:m,settled:p,options:y}=i,_=o(n,u,y);s.exposeAction(e,_),c&&s.addCase(_.fulfilled,c),d&&s.addCase(_.pending,d),m&&s.addCase(_.rejected,m),p&&s.addMatcher(_.settled,p),s.exposeCaseReducer(e,{fulfilled:c||Mu,pending:d||Mu,rejected:m||Mu,settled:p||Mu})}function Mu(){}function ui(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const s3={isChooseFoodPage:!1,selectedFood:void 0,menuItems:[{id:1,name:"Hamburguesa de Pollo",quantity:40,desc:"Hamburguesa de pollo frito - ... y mayones",price:24,image:"cb.jpg"},{id:2,name:"Hamburguesa de Carne",quantity:20,desc:"Hamburguesa de carne con queso y tomate",price:30,image:"vb.jpg"},{id:3,name:"Helado",quantity:30,desc:"Cono de helado",price:28,image:"ic.jpg"},{id:4,name:"Patatas fritas",quantity:100,desc:"Patatas fritas con salsa verde",price:123,image:"chips.jpg"}],cartItems:[],orders:[],ordersStatus:"idle",ordersLoading:!0,ordersError:null,statusMessage:void 0,ordersUnsubscribe:void 0},Um=Kc("food/startOrdersSubscription",async(n,e)=>{try{yt.debug("Orders: subscribe start (thunk)");const i=zc.subscribe(s=>{e.dispatch(f3(s))},s=>{e.dispatch(h3(String(s)))});e.dispatch(d3(i))}catch(i){return e.rejectWithValue(String(i))}}),a3=Kc("food/stopOrdersSubscription",async(n,e)=>{const s=e.getState().food?.ordersUnsubscribe;s&&s(),e.dispatch(m3())}),Pm=Kc("food/markOrderPaid",async({id:n},e)=>{try{await zc.patch(n,{status:"PAID"})}catch(i){return e.rejectWithValue(String(i))}}),Hm=Kc("food/deleteOrder",async({id:n},e)=>{try{await zc.deleteById(n)}catch(i){return e.rejectWithValue(String(i))}});function o3(n){return n.reduce((e,i)=>e+i.price*i.quantity,0)}const AC=JU({name:"food",initialState:s3,reducers:{togglePage(n){n.isChooseFoodPage=!n.isChooseFoodPage,n.selectedFood=void 0,n.statusMessage=void 0},selectFood(n,e){n.selectedFood=e.payload},orderFood(n,e){const{food:i,quantity:s}=e.payload;if(!Number.isFinite(s)||s<=0)return;const o=n.menuItems.find(c=>c.id===i.id);if(!o||s>o.quantity)return;o.quantity=Math.max(0,o.quantity-s);const u=n.cartItems.find(c=>c.id===i.id);u?u.quantity+=s:n.cartItems.push({id:i.id,name:i.name,price:i.price,quantity:s}),n.statusMessage=`Added to cart: ${i.name} x${s}. Cart total=${o3(n.cartItems)}`},removeFromCart(n,e){const i=e.payload.id,s=n.cartItems.find(u=>u.id===i);if(!s)return;const o=n.menuItems.find(u=>u.id===i);o&&(o.quantity+=s.quantity),n.cartItems=n.cartItems.filter(u=>u.id!==i),n.statusMessage=`Removed from cart: id=${i}`},ordersSubscriptionStarted(n,e){n.ordersUnsubscribe&&n.ordersUnsubscribe(),n.ordersUnsubscribe=e.payload,n.ordersStatus="succeeded",n.ordersLoading=!1,n.ordersError=null,n.statusMessage="Orders subscription started."},ordersSubscriptionStopped(n){n.ordersUnsubscribe&&n.ordersUnsubscribe(),n.ordersUnsubscribe=void 0,n.ordersStatus="idle",n.ordersLoading=!1,n.statusMessage="Orders subscription stopped."},ordersReceived(n,e){n.orders=e.payload,n.ordersStatus="succeeded",n.ordersLoading=!1,n.ordersError=null,n.statusMessage=`Orders updated: ${e.payload.length}`},ordersFailed(n,e){n.ordersStatus="failed",n.ordersLoading=!1,n.ordersError=e.payload,n.statusMessage="Error loading orders."}},extraReducers:n=>{n.addCase(Um.pending,e=>{e.ordersStatus="loading",e.ordersLoading=!0,e.ordersError=null,e.statusMessage="Subscribing to orders..."}).addCase(Um.rejected,(e,i)=>{e.ordersStatus="failed",e.ordersLoading=!1,e.ordersError=i.payload??i.error.message??"Unknown error",e.statusMessage="Failed to subscribe to orders."}).addCase(Pm.pending,e=>{e.statusMessage="Marking order as PAID..."}).addCase(Pm.rejected,(e,i)=>{e.statusMessage=`Failed to mark paid: ${i.payload??i.error.message}`}).addCase(Hm.pending,e=>{e.statusMessage="Deleting order..."}).addCase(Hm.rejected,(e,i)=>{e.statusMessage=`Failed to delete: ${i.payload??i.error.message}`})}}),{togglePage:l3,selectFood:iS,orderFood:u3,removeFromCart:c3,ordersReceived:f3,ordersFailed:h3,ordersSubscriptionStarted:d3,ordersSubscriptionStopped:m3}=AC.actions,p3=AC.reducer;function g3(){const{user:n}=A.useContext(qr),[e,i]=A.useState(!1),[s,o]=A.useState(""),[u,c]=A.useState([]),d=async()=>{i(!0),o("");try{const v=(await Am.getAllUsers()).map(E=>({uid:E.uid,email:E.email,isAdmin:E.roles?.admin===!0}));v.sort((E,R)=>(E.email??E.uid).localeCompare(R.email??R.uid)),c(v)}catch(_){o(_?.message??String(_))}finally{i(!1)}};A.useEffect(()=>{d()},[]);const m=n?.uid,p=A.useMemo(()=>u,[u]),y=async _=>{o("");try{await Am.updateUserAdminRole(_.uid,!_.isAdmin),c(v=>v.map(E=>E.uid===_.uid?{...E,isAdmin:!E.isAdmin}:E))}catch(v){o(v?.message??String(v))}};return T.jsxs("div",{className:"usersBox",children:[T.jsx("h4",{className:"subTitle",children:"Gestin de usuarios"}),T.jsx("button",{onClick:d,disabled:e,children:e?"Cargando...":"Actualizar lista"}),s&&T.jsxs("p",{className:"error-message",children:["Error: ",s]}),!e&&!s&&p.length===0&&T.jsx("p",{children:"No hay usuarios."}),!e&&p.length>0&&T.jsxs("table",{className:"usersTable",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Email"}),T.jsx("th",{children:"UID"}),T.jsx("th",{children:"Admin"}),T.jsx("th",{children:"Accin"})]})}),T.jsx("tbody",{children:p.map(_=>{const v=m&&_.uid===m;return T.jsxs("tr",{children:[T.jsx("td",{children:_.email??"(sin email)"}),T.jsx("td",{style:{fontFamily:"monospace"},children:_.uid}),T.jsx("td",{children:_.isAdmin?"S":"No"}),T.jsxs("td",{children:[T.jsx("button",{onClick:()=>y(_),disabled:v,children:_.isAdmin?"Quitar admin":"Hacer admin"}),v&&T.jsx("span",{style:{marginLeft:8},children:"(t)"})]})]},_.uid)})})]})]})}const _3=A.lazy(()=>fR(()=>import("./Foods-Bn-4otSA.js"),[])),NC=A.createContext(null),y3=({children:n})=>{const{user:e}=A.useContext(qr);return e?n:T.jsx(bS,{to:"/login",replace:!0})},v3=({children:n})=>{const{user:e,roles:i}=A.useContext(qr);return!e||!i||!i.includes(Zi.ADMIN)?T.jsx(bS,{to:"/",replace:!0}):T.jsx(T.Fragment,{children:n})},b3=()=>{const{user:n,roles:e}=A.useContext(qr),{changeLanguage:i,locale:s}=A.useContext(tl),o=zo(),u=async()=>{try{await ko.signOut(),o("/login")}catch(c){console.error("Error al cerrar sesin",c)}};return T.jsxs("nav",{className:"bg-slate-900 p-4 shadow-lg flex justify-between items-center",children:[T.jsxs("ul",{className:"flex space-x-6 items-center",children:[T.jsx("li",{children:T.jsx(ti,{to:"/",className:"text-slate-100 hover:text-blue-400 transition font-medium",children:T.jsx(ae,{id:"nav.home"})})}),n&&T.jsx("li",{children:T.jsx(ti,{to:"/dashboard",className:"text-slate-100 hover:text-blue-400 transition font-medium",children:T.jsx(ae,{id:"nav.dashboard"})})}),n&&e&&e.includes(Zi.ADMIN)&&T.jsx("li",{children:T.jsx(ti,{to:"/admin",className:"text-slate-100 hover:text-blue-400 transition font-medium",children:T.jsx(ae,{id:"nav.admin"})})}),!n&&T.jsx("li",{children:T.jsx(ti,{to:"/login",className:"text-slate-100 hover:text-blue-400 transition font-medium",children:T.jsx(ae,{id:"nav.login"})})}),!n&&T.jsx("li",{children:T.jsx(ti,{to:"/register",className:"text-slate-100 hover:text-blue-400 transition font-medium",children:T.jsx(ae,{id:"nav.register"})})}),n&&T.jsx("li",{children:T.jsx("button",{onClick:u,className:"bg-red-500 text-white px-4 py-1.5 rounded-lg hover:bg-red-600 transition font-bold shadow-sm",children:T.jsx(ae,{id:"nav.logout"})})})]}),T.jsxs("div",{className:"flex items-center space-x-3 bg-slate-800 p-1.5 rounded-xl border border-slate-700",children:[T.jsx("button",{onClick:()=>i("es"),className:`w-10 h-10 flex items-center justify-center rounded-lg transition-all duration-300 transform hover:scale-110 focus:outline-none ${s==="es"?"bg-slate-700 shadow-inner ring-1 ring-blue-400/50":"opacity-40 grayscale hover:grayscale-0 hover:opacity-100"}`,title:"Espaol",children:T.jsx("span",{className:"text-2xl leading-none",children:""})}),T.jsx("button",{onClick:()=>i("en"),className:`w-10 h-10 flex items-center justify-center rounded-lg transition-all duration-300 transform hover:scale-110 focus:outline-none ${s==="en"?"bg-slate-700 shadow-inner ring-1 ring-blue-400/50":"opacity-40 grayscale hover:grayscale-0 hover:opacity-100"}`,title:"English",children:T.jsx("span",{className:"text-2xl leading-none",children:""})})]})]})},E3=()=>{const{user:n,roles:e}=A.useContext(qr);return T.jsxs("div",{className:"container mx-auto p-4",children:[T.jsx("h3",{className:"text-2xl font-bold mb-4",children:T.jsx(ae,{id:"home.welcome"})}),!n&&T.jsx("p",{className:"mb-4",children:T.jsx(ae,{id:"home.notLoggedIn"})}),n&&T.jsx("p",{className:"mb-4",children:T.jsx(ae,{id:"home.loggedInAs",values:{email:n.email??"(sin email)",role:e&&e.includes(Zi.ADMIN)?"(ADMIN)":""}})}),T.jsxs("div",{className:"flex space-x-4 mt-6",children:[T.jsx(ti,{to:"/dashboard",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition shadow-md font-medium",children:T.jsx(ae,{id:"nav.dashboard"})}),T.jsx(ti,{to:"/admin",className:"bg-slate-200 text-slate-800 px-6 py-2 rounded-lg hover:bg-slate-300 transition shadow-sm font-medium",children:T.jsx(ae,{id:"nav.admin"})})]})]})},S3=()=>{const[n,e]=A.useState(""),[i,s]=A.useState(""),[o,u]=A.useState(""),c=zo(),d=async m=>{m.preventDefault(),u("");try{const p=await ko.signIn(n,i);console.log("Usuario autenticado",p.user),c("/dashboard")}catch(p){console.error("Error al iniciar sesin",p),u(p?.message??"Error")}};return T.jsx("div",{className:"flex justify-center items-center mt-10 p-4",children:T.jsxs("form",{onSubmit:d,className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100 dark:border-slate-700",children:[T.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800 dark:text-gray-100",children:T.jsx(ae,{id:"login.title"})}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none text-gray-900 dark:text-gray-100 transition",value:n,onChange:m=>e(m.target.value)}),T.jsx("input",{type:"password",placeholder:"Password",className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none text-gray-900 dark:text-gray-100 transition",value:i,onChange:m=>s(m.target.value)}),T.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition font-bold shadow-lg transform hover:-translate-y-0.5 active:translate-y-0",children:T.jsx(ae,{id:"login.button"})})]}),o&&T.jsx("p",{className:"mt-4 text-red-500 text-sm text-center font-medium",children:o})]})})},T3=()=>{const[n,e]=A.useState(""),[i,s]=A.useState(""),[o,u]=A.useState(""),[c,d]=A.useState(""),m=zo(),p=async y=>{y.preventDefault(),u(""),d("");try{const _=await ko.signUp(n,i);await Am.setUserRoles(_.user.uid,{email:_.user.email,roles:{admin:!1}}),console.log("Usuario registrado",_.user),d("success"),setTimeout(()=>{m("/dashboard")},2e3)}catch(_){console.error("Error al registrarse",_),u(_?.message??"Error")}};return T.jsx("div",{className:"flex justify-center items-center mt-10 p-4",children:T.jsxs("form",{onSubmit:p,className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100 dark:border-slate-700",children:[T.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800 dark:text-gray-100",children:T.jsx(ae,{id:"register.title"})}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none text-gray-900 dark:text-gray-100 transition",value:n,onChange:y=>e(y.target.value)}),T.jsx("input",{type:"password",placeholder:"Password",className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none text-gray-900 dark:text-gray-100 transition",value:i,onChange:y=>s(y.target.value)}),T.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-3 rounded-xl hover:bg-green-700 transition font-bold shadow-lg transform hover:-translate-y-0.5 active:translate-y-0",children:T.jsx(ae,{id:"register.button"})})]}),o&&T.jsx("p",{className:"mt-4 text-red-500 text-sm text-center font-medium",children:o}),c&&T.jsx("p",{className:"mt-4 text-green-600 text-sm text-center font-bold animate-pulse",children:T.jsx(ae,{id:"register.success"})})]})})},C3=()=>{const n=IR(),{user:e}=A.useContext(qr),{locale:i}=A.useContext(tl),s=Jn(E=>E.food.isChooseFoodPage),o=Jn(E=>E.food.menuItems),u=Jn(E=>E.food.selectedFood),c=Jn(E=>E.food.cartItems),d=c.reduce((E,R)=>E+R.price*R.quantity,0),m=Jn(E=>E.food.orders),p=Jn(E=>E.food.ordersLoading),y=Jn(E=>E.food.ordersError),_=Jn(E=>E.food.statusMessage);A.useEffect(()=>{if(e)return n(Um()),()=>{n(a3())}},[n,e]);const v=(E,R)=>{n(u3({food:E,quantity:R}))};return T.jsx(NC.Provider,{value:{orderFood:v},children:T.jsxs("div",{className:"container mx-auto p-4 max-w-6xl",children:[T.jsx("button",{className:"bg-indigo-600 text-white px-6 py-2.5 rounded-xl mb-8 hover:bg-indigo-700 transition shadow-lg flex items-center space-x-2 font-bold transform hover:-translate-y-1",onClick:()=>{yt.info(`UI: toggle page; current=${s?"ORDER":"STOCK"}`),n(l3())},children:T.jsx(ae,{id:s?"dashboard.availability":"dashboard.orderFood"})}),T.jsx("h3",{className:"text-3xl font-bold mb-6",children:T.jsx(ae,{id:"app.title"})}),_&&T.jsx("p",{className:"bg-green-100 text-green-800 p-2 rounded mb-4",children:_}),s&&T.jsx("div",{className:"mb-8",children:u===void 0?T.jsx(A.Suspense,{fallback:T.jsx("div",{className:"text-gray-500",children:"Cargando detalles ......"}),children:T.jsx(_3,{foodItems:o,onFoodSelected:E=>{yt.info(`UI: food selected; id=${E.id}, name=${E.name}`),n(iS(E))}})}):T.jsx(jL,{food:u,onReturnToMenu:()=>{yt.debug("UI: return to menu"),n(iS(void 0))}})}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-6 mb-8 border border-gray-100 dark:border-slate-700 transition-colors",children:[T.jsx("h4",{className:"text-2xl font-bold mb-6 border-b dark:border-slate-700 pb-3 text-gray-900 dark:text-gray-100",children:T.jsx(ae,{id:"dashboard.cart"})}),c.length===0?T.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic py-4",children:T.jsx(ae,{id:"dashboard.cartEmpty"})}):T.jsxs(T.Fragment,{children:[T.jsx("ul",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:c.map(E=>T.jsxs("li",{className:"py-4 flex justify-between items-center",children:[T.jsxs("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:[T.jsx(ae,{id:`food.${E.id}.name`,defaultMessage:E.name})," ",T.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:["x",E.quantity]})]}),T.jsxs("div",{className:"flex items-center space-x-6",children:[T.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:T.jsx(Hu,{value:E.price*E.quantity,style:"currency",currency:i==="es"?"EUR":"USD",minimumFractionDigits:0})}),T.jsx("button",{onClick:()=>n(c3({id:E.id})),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 text-sm font-bold transition-colors p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:T.jsx(ae,{id:"dashboard.delete"})})]})]},E.id))}),T.jsxs("p",{className:"mt-6 text-right text-2xl font-black text-gray-900 dark:text-gray-100",children:[T.jsxs("span",{className:"text-lg font-normal text-gray-500 dark:text-gray-400 mr-2",children:[T.jsx(ae,{id:"dashboard.total"}),":"]}),T.jsx(Hu,{value:d,style:"currency",currency:i==="es"?"EUR":"USD",minimumFractionDigits:0})]})]})]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-6 border border-gray-100 dark:border-slate-700 transition-colors",children:[T.jsx("h4",{className:"text-2xl font-bold mb-6 border-b dark:border-slate-700 pb-3 text-gray-900 dark:text-gray-100",children:T.jsx(ae,{id:"dashboard.orders"})}),p&&T.jsx("p",{className:"text-gray-500 dark:text-gray-400 animate-pulse py-4",children:"Cargando pedidos..."}),y&&T.jsxs("p",{className:"text-red-500 dark:text-red-400 py-4 font-medium",children:["Error cargando pedidos: ",y]}),!p&&!y&&m.length===0&&T.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic py-4",children:T.jsx(ae,{id:"dashboard.noOrders"})}),!p&&!y&&m.length>0&&T.jsx("ul",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:m.map(E=>T.jsxs("li",{className:"py-5 flex flex-col md:flex-row md:justify-between md:items-center group",children:[T.jsxs("div",{className:"flex flex-col mb-4 md:mb-0",children:[T.jsxs("span",{className:"text-sm font-mono text-gray-400 dark:text-gray-500 mb-1",children:["#",E.id]}),T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${E.status==="PAID"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:E.status}),T.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:T.jsx(Hu,{value:E.total,style:"currency",currency:i==="es"?"EUR":"USD",minimumFractionDigits:0})})]})]}),T.jsxs("div",{className:"flex space-x-3 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[T.jsx("button",{onClick:()=>n(Pm({id:E.id})),className:"bg-green-600 text-white px-4 py-2 rounded-xl text-sm hover:bg-green-700 transition shadow-md font-bold",children:T.jsx(ae,{id:"dashboard.markPaid"})}),T.jsx("button",{onClick:()=>n(Hm({id:E.id})),className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 px-4 py-2 rounded-xl text-sm hover:bg-red-100 dark:hover:bg-red-900/40 transition font-bold",children:T.jsx(ae,{id:"dashboard.delete"})})]})]},E.id))})]})]})})},w3=()=>{const n=Jn(e=>e.food.menuItems);return T.jsxs("div",{className:"container mx-auto p-4 max-w-6xl",children:[T.jsx("h2",{className:"text-3xl font-black mb-8 text-gray-900 dark:text-gray-100",children:T.jsx(ae,{id:"admin.title"})}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl border border-gray-100 dark:border-slate-700 mb-8",children:[T.jsxs("h4",{className:"text-xl font-bold mb-6 text-gray-600 dark:text-gray-400 flex items-center",children:[T.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),T.jsx(ae,{id:"admin.stock"})]}),T.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>T.jsxs("li",{className:"bg-gray-50 dark:bg-slate-900 p-5 rounded-2xl flex justify-between items-center border border-gray-100 dark:border-slate-700 hover:border-blue-300 dark:hover:border-blue-500 transition-colors",children:[T.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200",children:T.jsx(ae,{id:`food.${e.id}.name`,defaultMessage:e.name})}),T.jsx("p",{className:"bg-blue-600 text-white px-3 py-1 rounded-lg text-sm font-black shadow-md",children:e.quantity})]},e.id))})]}),T.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl border border-gray-100 dark:border-slate-700",children:T.jsx(g3,{})})]})};function R3(){return T.jsx(FL,{fallback:T.jsx("div",{children:"Algo sali mal!"}),children:T.jsx(aU,{children:T.jsxs(eN,{children:[T.jsx(b3,{}),T.jsxs(xA,{children:[T.jsx(Is,{path:"/",element:T.jsx(E3,{})}),T.jsx(Is,{path:"/login",element:T.jsx(S3,{})}),T.jsx(Is,{path:"/register",element:T.jsx(T3,{})}),T.jsx(Is,{path:"/dashboard",element:T.jsx(y3,{children:T.jsx(C3,{})})}),T.jsx(Is,{path:"/admin",element:T.jsx(v3,{children:T.jsx(w3,{})})})]})]})})})}const A3=n=>e=>i=>{yt.debug(`[redux] action: ${String(i?.type)}`);const s=e(i);return yt.debug(`[redux] state: ${JSON.stringify(n.getState())}`),s},N3=HU({reducer:{food:p3},middleware:n=>n({serializableCheck:!1}).concat(A3)}),O3=()=>{const{locale:n,messages:e}=rS.useContext(tl);return T.jsx(PL,{locale:n,messages:e,children:T.jsx(R3,{})})};lR.createRoot(document.getElementById("root")).render(T.jsx(A.StrictMode,{children:T.jsx(NR,{store:N3,children:T.jsx(zL,{children:T.jsx(O3,{})})})}));export{Hu as F,tl as L,ae as M,T as j,A as r};
