(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function w1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qd={exports:{}},Ha={};var pv;function R1(){if(pv)return Ha;pv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:n,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Ha.Fragment=e,Ha.jsx=r,Ha.jsxs=r,Ha}var mv;function A1(){return mv||(mv=1,Qd.exports=R1()),Qd.exports}var M=A1(),Kd={exports:{}},ie={};var gv;function N1(){if(gv)return ie;gv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function T(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,P={};function q(C,H,G){this.props=C,this.context=H,this.refs=P,this.updater=G||O}q.prototype.isReactComponent={},q.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")},q.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function j(){}j.prototype=q.prototype;function B(C,H,G){this.props=C,this.context=H,this.refs=P,this.updater=G||O}var $=B.prototype=new j;$.constructor=B,z($,q.prototype),$.isPureReactComponent=!0;var K=Array.isArray;function oe(){}var Y={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function Ye(C,H,G){var W=G.ref;return{$$typeof:n,type:C,key:H,ref:W!==void 0?W:null,props:G}}function St(C,H){return Ye(C.type,H,C.props)}function Vt(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function bt(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(G){return H[G]})}var $i=/\/+/g;function Tn(C,H){return typeof C=="object"&&C!==null&&C.key!=null?bt(""+C.key):H.toString(36)}function rn(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(oe,oe):(C.status="pending",C.then(function(H){C.status==="pending"&&(C.status="fulfilled",C.value=H)},function(H){C.status==="pending"&&(C.status="rejected",C.reason=H)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function k(C,H,G,W,se){var fe=typeof C;(fe==="undefined"||fe==="boolean")&&(C=null);var be=!1;if(C===null)be=!0;else switch(fe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(C.$$typeof){case n:case e:be=!0;break;case y:return be=C._init,k(be(C._payload),H,G,W,se)}}if(be)return se=se(C),be=W===""?"."+Tn(C,0):W,K(se)?(G="",be!=null&&(G=be.replace($i,"$&/")+"/"),k(se,H,G,"",function(Ys){return Ys})):se!=null&&(Vt(se)&&(se=St(se,G+(se.key==null||C&&C.key===se.key?"":(""+se.key).replace($i,"$&/")+"/")+be)),H.push(se)),1;be=0;var mt=W===""?".":W+":";if(K(C))for(var Ve=0;Ve<C.length;Ve++)W=C[Ve],fe=mt+Tn(W,Ve),be+=k(W,H,G,fe,se);else if(Ve=T(C),typeof Ve=="function")for(C=Ve.call(C),Ve=0;!(W=C.next()).done;)W=W.value,fe=mt+Tn(W,Ve++),be+=k(W,H,G,fe,se);else if(fe==="object"){if(typeof C.then=="function")return k(rn(C),H,G,W,se);throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return be}function F(C,H,G){if(C==null)return C;var W=[],se=0;return k(C,W,"","",function(fe){return H.call(G,fe,se++)}),W}function ne(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(G){(C._status===0||C._status===-1)&&(C._status=1,C._result=G)},function(G){(C._status===0||C._status===-1)&&(C._status=2,C._result=G)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var we=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Ie={map:F,forEach:function(C,H,G){F(C,function(){H.apply(this,arguments)},G)},count:function(C){var H=0;return F(C,function(){H++}),H},toArray:function(C){return F(C,function(H){return H})||[]},only:function(C){if(!Vt(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return ie.Activity=_,ie.Children=Ie,ie.Component=q,ie.Fragment=r,ie.Profiler=l,ie.PureComponent=B,ie.StrictMode=s,ie.Suspense=p,ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ie.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Y.H.useMemoCache(C)}},ie.cache=function(C){return function(){return C.apply(null,arguments)}},ie.cacheSignal=function(){return null},ie.cloneElement=function(C,H,G){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=z({},C.props),se=C.key;if(H!=null)for(fe in H.key!==void 0&&(se=""+H.key),H)!re.call(H,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&H.ref===void 0||(W[fe]=H[fe]);var fe=arguments.length-2;if(fe===1)W.children=G;else if(1<fe){for(var be=Array(fe),mt=0;mt<fe;mt++)be[mt]=arguments[mt+2];W.children=be}return Ye(C.type,se,W)},ie.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},ie.createElement=function(C,H,G){var W,se={},fe=null;if(H!=null)for(W in H.key!==void 0&&(fe=""+H.key),H)re.call(H,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(se[W]=H[W]);var be=arguments.length-2;if(be===1)se.children=G;else if(1<be){for(var mt=Array(be),Ve=0;Ve<be;Ve++)mt[Ve]=arguments[Ve+2];se.children=mt}if(C&&C.defaultProps)for(W in be=C.defaultProps,be)se[W]===void 0&&(se[W]=be[W]);return Ye(C,fe,se)},ie.createRef=function(){return{current:null}},ie.forwardRef=function(C){return{$$typeof:h,render:C}},ie.isValidElement=Vt,ie.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:ne}},ie.memo=function(C,H){return{$$typeof:m,type:C,compare:H===void 0?null:H}},ie.startTransition=function(C){var H=Y.T,G={};Y.T=G;try{var W=C(),se=Y.S;se!==null&&se(G,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(oe,we)}catch(fe){we(fe)}finally{H!==null&&G.types!==null&&(H.types=G.types),Y.T=H}},ie.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ie.use=function(C){return Y.H.use(C)},ie.useActionState=function(C,H,G){return Y.H.useActionState(C,H,G)},ie.useCallback=function(C,H){return Y.H.useCallback(C,H)},ie.useContext=function(C){return Y.H.useContext(C)},ie.useDebugValue=function(){},ie.useDeferredValue=function(C,H){return Y.H.useDeferredValue(C,H)},ie.useEffect=function(C,H){return Y.H.useEffect(C,H)},ie.useEffectEvent=function(C){return Y.H.useEffectEvent(C)},ie.useId=function(){return Y.H.useId()},ie.useImperativeHandle=function(C,H,G){return Y.H.useImperativeHandle(C,H,G)},ie.useInsertionEffect=function(C,H){return Y.H.useInsertionEffect(C,H)},ie.useLayoutEffect=function(C,H){return Y.H.useLayoutEffect(C,H)},ie.useMemo=function(C,H){return Y.H.useMemo(C,H)},ie.useOptimistic=function(C,H){return Y.H.useOptimistic(C,H)},ie.useReducer=function(C,H,G){return Y.H.useReducer(C,H,G)},ie.useRef=function(C){return Y.H.useRef(C)},ie.useState=function(C){return Y.H.useState(C)},ie.useSyncExternalStore=function(C,H,G){return Y.H.useSyncExternalStore(C,H,G)},ie.useTransition=function(){return Y.H.useTransition()},ie.version="19.2.3",ie}var _v;function ec(){return _v||(_v=1,Kd.exports=N1()),Kd.exports}var R=ec();const O1=w1(R);var Wd={exports:{}},Ba={},Xd={exports:{}},$d={};var yv;function D1(){return yv||(yv=1,(function(n){function e(k,F){var ne=k.length;k.push(F);e:for(;0<ne;){var we=ne-1>>>1,Ie=k[we];if(0<l(Ie,F))k[we]=F,k[ne]=Ie,ne=we;else break e}}function r(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var F=k[0],ne=k.pop();if(ne!==F){k[0]=ne;e:for(var we=0,Ie=k.length,C=Ie>>>1;we<C;){var H=2*(we+1)-1,G=k[H],W=H+1,se=k[W];if(0>l(G,ne))W<Ie&&0>l(se,G)?(k[we]=se,k[W]=ne,we=W):(k[we]=G,k[H]=ne,we=H);else if(W<Ie&&0>l(se,ne))k[we]=se,k[W]=ne,we=W;else break e}}return F}function l(k,F){var ne=k.sortIndex-F.sortIndex;return ne!==0?ne:k.id-F.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var p=[],m=[],y=1,_=null,E=3,T=!1,O=!1,z=!1,P=!1,q=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function $(k){for(var F=r(m);F!==null;){if(F.callback===null)s(m);else if(F.startTime<=k)s(m),F.sortIndex=F.expirationTime,e(p,F);else break;F=r(m)}}function K(k){if(z=!1,$(k),!O)if(r(p)!==null)O=!0,oe||(oe=!0,bt());else{var F=r(m);F!==null&&rn(K,F.startTime-k)}}var oe=!1,Y=-1,re=5,Ye=-1;function St(){return P?!0:!(n.unstable_now()-Ye<re)}function Vt(){if(P=!1,oe){var k=n.unstable_now();Ye=k;var F=!0;try{e:{O=!1,z&&(z=!1,j(Y),Y=-1),T=!0;var ne=E;try{t:{for($(k),_=r(p);_!==null&&!(_.expirationTime>k&&St());){var we=_.callback;if(typeof we=="function"){_.callback=null,E=_.priorityLevel;var Ie=we(_.expirationTime<=k);if(k=n.unstable_now(),typeof Ie=="function"){_.callback=Ie,$(k),F=!0;break t}_===r(p)&&s(p),$(k)}else s(p);_=r(p)}if(_!==null)F=!0;else{var C=r(m);C!==null&&rn(K,C.startTime-k),F=!1}}break e}finally{_=null,E=ne,T=!1}F=void 0}}finally{F?bt():oe=!1}}}var bt;if(typeof B=="function")bt=function(){B(Vt)};else if(typeof MessageChannel<"u"){var $i=new MessageChannel,Tn=$i.port2;$i.port1.onmessage=Vt,bt=function(){Tn.postMessage(null)}}else bt=function(){q(Vt,0)};function rn(k,F){Y=q(function(){k(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(k){switch(E){case 1:case 2:case 3:var F=3;break;default:F=E}var ne=E;E=F;try{return k()}finally{E=ne}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(k,F){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ne=E;E=k;try{return F()}finally{E=ne}},n.unstable_scheduleCallback=function(k,F,ne){var we=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?we+ne:we):ne=we,k){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=ne+Ie,k={id:y++,callback:F,priorityLevel:k,startTime:ne,expirationTime:Ie,sortIndex:-1},ne>we?(k.sortIndex=ne,e(m,k),r(p)===null&&k===r(m)&&(z?(j(Y),Y=-1):z=!0,rn(K,ne-we))):(k.sortIndex=Ie,e(p,k),O||T||(O=!0,oe||(oe=!0,bt()))),k},n.unstable_shouldYield=St,n.unstable_wrapCallback=function(k){var F=E;return function(){var ne=E;E=F;try{return k.apply(this,arguments)}finally{E=ne}}}})($d)),$d}var vv;function I1(){return vv||(vv=1,Xd.exports=D1()),Xd.exports}var Zd={exports:{}},dt={};var Ev;function M1(){if(Ev)return dt;Ev=1;var n=ec();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:p,containerInfo:m,implementation:y}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,dt.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,y)},dt.flushSync=function(p){var m=f.T,y=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=m,s.p=y,s.d.f()}},dt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},dt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},dt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:T}):y==="script"&&s.d.X(p,{crossOrigin:_,integrity:E,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},dt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},dt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);s.d.L(p,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},dt.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},dt.requestFormReset=function(p){s.d.r(p)},dt.unstable_batchedUpdates=function(p,m){return p(m)},dt.useFormState=function(p,m,y){return f.H.useFormState(p,m,y)},dt.useFormStatus=function(){return f.H.useHostTransitionStatus()},dt.version="19.2.3",dt}var Sv;function x1(){if(Sv)return Zd.exports;Sv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zd.exports=M1(),Zd.exports}var bv;function k1(){if(bv)return Ba;bv=1;var n=I1(),e=ec(),r=x1();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return p(c),t;if(d===o)return p(c),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=c,o=d;else{for(var g=!1,v=c.child;v;){if(v===a){g=!0,a=c,o=d;break}if(v===o){g=!0,o=c,a=d;break}v=v.sibling}if(!g){for(v=d.child;v;){if(v===a){g=!0,a=d,o=c;break}if(v===o){g=!0,o=d,a=c;break}v=v.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),B=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),Ye=Symbol.for("react.activity"),St=Symbol.for("react.memo_cache_sentinel"),Vt=Symbol.iterator;function bt(t){return t===null||typeof t!="object"?null:(t=Vt&&t[Vt]||t["@@iterator"],typeof t=="function"?t:null)}var $i=Symbol.for("react.client.reference");function Tn(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===$i?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case q:return"Profiler";case P:return"StrictMode";case K:return"Suspense";case oe:return"SuspenseList";case Ye:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case B:return t.displayName||"Context";case j:return(t._context.displayName||"Context")+".Consumer";case $:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return i=t.displayName||null,i!==null?i:Tn(t.type)||"Memo";case re:i=t._payload,t=t._init;try{return Tn(t(i))}catch{}}return null}var rn=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},we=[],Ie=-1;function C(t){return{current:t}}function H(t){0>Ie||(t.current=we[Ie],we[Ie]=null,Ie--)}function G(t,i){Ie++,we[Ie]=t.current,t.current=i}var W=C(null),se=C(null),fe=C(null),be=C(null);function mt(t,i){switch(G(fe,i),G(se,t),G(W,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?zy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=zy(i),t=Py(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(W),G(W,t)}function Ve(){H(W),H(se),H(fe)}function Ys(t){t.memoizedState!==null&&G(be,t);var i=W.current,a=Py(i,t.type);i!==a&&(G(se,t),G(W,a))}function jl(t){se.current===t&&(H(W),H(se)),be.current===t&&(H(be),La._currentValue=ne)}var Nc,hm;function Zi(t){if(Nc===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Nc=i&&i[1]||"",hm=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nc+t+hm}var Oc=!1;function Dc(t,i){if(!t||Oc)return"";Oc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(I){var D=I}Reflect.construct(t,[],U)}else{try{U.call()}catch(I){D=I}t.call(U.prototype)}}else{try{throw Error()}catch(I){D=I}(U=t())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(I){if(I&&D&&typeof I.stack=="string")return[I.stack,D.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),g=d[0],v=d[1];if(g&&v){var S=g.split(`
`),N=v.split(`
`);for(c=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(o===S.length||c===N.length)for(o=S.length-1,c=N.length-1;1<=o&&0<=c&&S[o]!==N[c];)c--;for(;1<=o&&0<=c;o--,c--)if(S[o]!==N[c]){if(o!==1||c!==1)do if(o--,c--,0>c||S[o]!==N[c]){var x=`
`+S[o].replace(" at new "," at ");return t.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",t.displayName)),x}while(1<=o&&0<=c);break}}}finally{Oc=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Zi(a):""}function nC(t,i){switch(t.tag){case 26:case 27:case 5:return Zi(t.type);case 16:return Zi("Lazy");case 13:return t.child!==i&&i!==null?Zi("Suspense Fallback"):Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return Dc(t.type,!1);case 11:return Dc(t.type.render,!1);case 1:return Dc(t.type,!0);case 31:return Zi("Activity");default:return""}}function pm(t){try{var i="",a=null;do i+=nC(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ic=Object.prototype.hasOwnProperty,Mc=n.unstable_scheduleCallback,xc=n.unstable_cancelCallback,iC=n.unstable_shouldYield,rC=n.unstable_requestPaint,It=n.unstable_now,sC=n.unstable_getCurrentPriorityLevel,mm=n.unstable_ImmediatePriority,gm=n.unstable_UserBlockingPriority,ql=n.unstable_NormalPriority,aC=n.unstable_LowPriority,_m=n.unstable_IdlePriority,lC=n.log,oC=n.unstable_setDisableYieldValue,Qs=null,Mt=null;function ai(t){if(typeof lC=="function"&&oC(t),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Qs,t)}catch{}}var xt=Math.clz32?Math.clz32:fC,uC=Math.log,cC=Math.LN2;function fC(t){return t>>>=0,t===0?32:31-(uC(t)/cC|0)|0}var Vl=256,Fl=262144,Gl=4194304;function Ji(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Yl(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var c=0,d=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var v=o&134217727;return v!==0?(o=v&~d,o!==0?c=Ji(o):(g&=v,g!==0?c=Ji(g):a||(a=v&~t,a!==0&&(c=Ji(a))))):(v=o&~d,v!==0?c=Ji(v):g!==0?c=Ji(g):a||(a=o&~t,a!==0&&(c=Ji(a)))),c===0?0:i!==0&&i!==c&&(i&d)===0&&(d=c&-c,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:c}function Ks(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function dC(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ym(){var t=Gl;return Gl<<=1,(Gl&62914560)===0&&(Gl=4194304),t}function kc(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ws(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function hC(t,i,a,o,c,d){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,S=t.expirationTimes,N=t.hiddenUpdates;for(a=g&~a;0<a;){var x=31-xt(a),U=1<<x;v[x]=0,S[x]=-1;var D=N[x];if(D!==null)for(N[x]=null,x=0;x<D.length;x++){var I=D[x];I!==null&&(I.lane&=-536870913)}a&=~U}o!==0&&vm(t,o,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~i))}function vm(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-xt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Em(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-xt(a),c=1<<o;c&i|t[o]&i&&(t[o]|=i),a&=~c}}function Sm(t,i){var a=i&-i;return a=(a&42)!==0?1:Lc(a),(a&(t.suspendedLanes|i))!==0?0:a}function Lc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Uc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bm(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:lv(t.type))}function Cm(t,i){var a=F.p;try{return F.p=t,i()}finally{F.p=a}}var li=Math.random().toString(36).slice(2),rt="__reactFiber$"+li,Ct="__reactProps$"+li,Mr="__reactContainer$"+li,zc="__reactEvents$"+li,pC="__reactListeners$"+li,mC="__reactHandles$"+li,Tm="__reactResources$"+li,Xs="__reactMarker$"+li;function Pc(t){delete t[rt],delete t[Ct],delete t[zc],delete t[pC],delete t[mC]}function xr(t){var i=t[rt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Mr]||a[rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Gy(t);t!==null;){if(a=t[rt])return a;t=Gy(t)}return i}t=a,a=t.parentNode}return null}function kr(t){if(t=t[rt]||t[Mr]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function $s(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Lr(t){var i=t[Tm];return i||(i=t[Tm]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function et(t){t[Xs]=!0}var wm=new Set,Rm={};function er(t,i){Ur(t,i),Ur(t+"Capture",i)}function Ur(t,i){for(Rm[t]=i,t=0;t<i.length;t++)wm.add(i[t])}var gC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Am={},Nm={};function _C(t){return Ic.call(Nm,t)?!0:Ic.call(Am,t)?!1:gC.test(t)?Nm[t]=!0:(Am[t]=!0,!1)}function Ql(t,i,a){if(_C(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Kl(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wn(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Om(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yC(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,d.call(this,g)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Hc(t){if(!t._valueTracker){var i=Om(t)?"checked":"value";t._valueTracker=yC(t,i,""+t[i])}}function Dm(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=Om(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Wl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vC=/[\n"\\]/g;function Gt(t){return t.replace(vC,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Bc(t,i,a,o,c,d,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),i!=null?g==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ft(i)):t.value!==""+Ft(i)&&(t.value=""+Ft(i)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),i!=null?jc(t,g,Ft(i)):a!=null?jc(t,g,Ft(a)):o!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+Ft(v):t.removeAttribute("name")}function Im(t,i,a,o,c,d,g,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Hc(t);return}a=a!=null?""+Ft(a):"",i=i!=null?""+Ft(i):a,v||i===t.value||(t.value=i),t.defaultValue=i}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=v?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Hc(t)}function jc(t,i,a){i==="number"&&Wl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function zr(t,i,a,o){if(t=t.options,i){i={};for(var c=0;c<a.length;c++)i["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=i.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ft(a),i=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}i!==null||t[c].disabled||(i=t[c])}i!==null&&(i.selected=!0)}}function Mm(t,i,a){if(i!=null&&(i=""+Ft(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ft(a):""}function xm(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(rn(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ft(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Hc(t)}function Pr(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var EC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function km(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||EC.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Lm(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in i)o=i[c],i.hasOwnProperty(c)&&a[c]!==o&&km(t,c,o)}else for(var d in i)i.hasOwnProperty(d)&&km(t,d,i[d])}function qc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xl(t){return bC.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Rn(){}var Vc=null;function Fc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hr=null,Br=null;function Um(t){var i=kr(t);if(i&&(t=i.stateNode)){var a=t[Ct]||null;e:switch(t=i.stateNode,i.type){case"input":if(Bc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Gt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var c=o[Ct]||null;if(!c)throw Error(s(90));Bc(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Dm(o)}break e;case"textarea":Mm(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&zr(t,!!a.multiple,i,!1)}}}var Gc=!1;function zm(t,i,a){if(Gc)return t(i,a);Gc=!0;try{var o=t(i);return o}finally{if(Gc=!1,(Hr!==null||Br!==null)&&(Po(),Hr&&(i=Hr,t=Br,Br=Hr=null,Um(i),t)))for(i=0;i<t.length;i++)Um(t[i])}}function Zs(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Ct]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yc=!1;if(An)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){Yc=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{Yc=!1}var oi=null,Qc=null,$l=null;function Pm(){if($l)return $l;var t,i=Qc,a=i.length,o,c="value"in oi?oi.value:oi.textContent,d=c.length;for(t=0;t<a&&i[t]===c[t];t++);var g=a-t;for(o=1;o<=g&&i[a-o]===c[d-o];o++);return $l=c.slice(t,1<o?1-o:void 0)}function Zl(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Jl(){return!0}function Hm(){return!1}function Tt(t){function i(a,o,c,d,g){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jl:Hm,this.isPropagationStopped=Hm,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),i}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eo=Tt(tr),ea=_({},tr,{view:0,detail:0}),CC=Tt(ea),Kc,Wc,ta,to=_({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$c,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ta&&(ta&&t.type==="mousemove"?(Kc=t.screenX-ta.screenX,Wc=t.screenY-ta.screenY):Wc=Kc=0,ta=t),Kc)},movementY:function(t){return"movementY"in t?t.movementY:Wc}}),Bm=Tt(to),TC=_({},to,{dataTransfer:0}),wC=Tt(TC),RC=_({},ea,{relatedTarget:0}),Xc=Tt(RC),AC=_({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),NC=Tt(AC),OC=_({},tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DC=Tt(OC),IC=_({},tr,{data:0}),jm=Tt(IC),MC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LC(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=kC[t])?!!i[t]:!1}function $c(){return LC}var UC=_({},ea,{key:function(t){if(t.key){var i=MC[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Zl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$c,charCode:function(t){return t.type==="keypress"?Zl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zC=Tt(UC),PC=_({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qm=Tt(PC),HC=_({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$c}),BC=Tt(HC),jC=_({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qC=Tt(jC),VC=_({},to,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FC=Tt(VC),GC=_({},tr,{newState:0,oldState:0}),YC=Tt(GC),QC=[9,13,27,32],Zc=An&&"CompositionEvent"in window,na=null;An&&"documentMode"in document&&(na=document.documentMode);var KC=An&&"TextEvent"in window&&!na,Vm=An&&(!Zc||na&&8<na&&11>=na),Fm=" ",Gm=!1;function Ym(t,i){switch(t){case"keyup":return QC.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jr=!1;function WC(t,i){switch(t){case"compositionend":return Qm(i);case"keypress":return i.which!==32?null:(Gm=!0,Fm);case"textInput":return t=i.data,t===Fm&&Gm?null:t;default:return null}}function XC(t,i){if(jr)return t==="compositionend"||!Zc&&Ym(t,i)?(t=Pm(),$l=Qc=oi=null,jr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vm&&i.locale!=="ko"?null:i.data;default:return null}}var $C={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!$C[t.type]:i==="textarea"}function Wm(t,i,a,o){Hr?Br?Br.push(o):Br=[o]:Hr=o,i=Go(i,"onChange"),0<i.length&&(a=new eo("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var ia=null,ra=null;function ZC(t){Iy(t,0)}function no(t){var i=$s(t);if(Dm(i))return t}function Xm(t,i){if(t==="change")return i}var $m=!1;if(An){var Jc;if(An){var ef="oninput"in document;if(!ef){var Zm=document.createElement("div");Zm.setAttribute("oninput","return;"),ef=typeof Zm.oninput=="function"}Jc=ef}else Jc=!1;$m=Jc&&(!document.documentMode||9<document.documentMode)}function Jm(){ia&&(ia.detachEvent("onpropertychange",eg),ra=ia=null)}function eg(t){if(t.propertyName==="value"&&no(ra)){var i=[];Wm(i,ra,t,Fc(t)),zm(ZC,i)}}function JC(t,i,a){t==="focusin"?(Jm(),ia=i,ra=a,ia.attachEvent("onpropertychange",eg)):t==="focusout"&&Jm()}function eT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return no(ra)}function tT(t,i){if(t==="click")return no(i)}function nT(t,i){if(t==="input"||t==="change")return no(i)}function iT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var kt=typeof Object.is=="function"?Object.is:iT;function sa(t,i){if(kt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!Ic.call(i,c)||!kt(t[c],i[c]))return!1}return!0}function tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ng(t,i){var a=tg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=tg(a)}}function ig(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ig(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function rg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Wl(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Wl(t.document)}return i}function tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var rT=An&&"documentMode"in document&&11>=document.documentMode,qr=null,nf=null,aa=null,rf=!1;function sg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rf||qr==null||qr!==Wl(o)||(o=qr,"selectionStart"in o&&tf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),aa&&sa(aa,o)||(aa=o,o=Go(nf,"onSelect"),0<o.length&&(i=new eo("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=qr)))}function nr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Vr={animationend:nr("Animation","AnimationEnd"),animationiteration:nr("Animation","AnimationIteration"),animationstart:nr("Animation","AnimationStart"),transitionrun:nr("Transition","TransitionRun"),transitionstart:nr("Transition","TransitionStart"),transitioncancel:nr("Transition","TransitionCancel"),transitionend:nr("Transition","TransitionEnd")},sf={},ag={};An&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function ir(t){if(sf[t])return sf[t];if(!Vr[t])return t;var i=Vr[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ag)return sf[t]=i[a];return t}var lg=ir("animationend"),og=ir("animationiteration"),ug=ir("animationstart"),sT=ir("transitionrun"),aT=ir("transitionstart"),lT=ir("transitioncancel"),cg=ir("transitionend"),fg=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function sn(t,i){fg.set(t,i),er(i,[t])}var io=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yt=[],Fr=0,lf=0;function ro(){for(var t=Fr,i=lf=Fr=0;i<t;){var a=Yt[i];Yt[i++]=null;var o=Yt[i];Yt[i++]=null;var c=Yt[i];Yt[i++]=null;var d=Yt[i];if(Yt[i++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}d!==0&&dg(a,c,d)}}function so(t,i,a,o){Yt[Fr++]=t,Yt[Fr++]=i,Yt[Fr++]=a,Yt[Fr++]=o,lf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function of(t,i,a,o){return so(t,i,a,o),ao(t)}function rr(t,i){return so(t,null,null,i),ao(t)}function dg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var c=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,c&&i!==null&&(c=31-xt(a),t=d.hiddenUpdates,o=t[c],o===null?t[c]=[i]:o.push(i),i.lane=a|536870912),d):null}function ao(t){if(50<Na)throw Na=0,_d=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Gr={};function oT(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(t,i,a,o){return new oT(t,i,a,o)}function uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nn(t,i){var a=t.alternate;return a===null?(a=Lt(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function hg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function lo(t,i,a,o,c,d){var g=0;if(o=t,typeof t=="function")uf(t)&&(g=1);else if(typeof t=="string")g=h1(t,a,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Ye:return t=Lt(31,a,i,c),t.elementType=Ye,t.lanes=d,t;case z:return sr(a.children,c,d,i);case P:g=8,c|=24;break;case q:return t=Lt(12,a,i,c|2),t.elementType=q,t.lanes=d,t;case K:return t=Lt(13,a,i,c),t.elementType=K,t.lanes=d,t;case oe:return t=Lt(19,a,i,c),t.elementType=oe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:g=10;break e;case j:g=9;break e;case $:g=11;break e;case Y:g=14;break e;case re:g=16,o=null;break e}g=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=Lt(g,a,i,c),i.elementType=t,i.type=o,i.lanes=d,i}function sr(t,i,a,o){return t=Lt(7,t,o,i),t.lanes=a,t}function cf(t,i,a){return t=Lt(6,t,null,i),t.lanes=a,t}function pg(t){var i=Lt(18,null,null,0);return i.stateNode=t,i}function ff(t,i,a){return i=Lt(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var mg=new WeakMap;function Qt(t,i){if(typeof t=="object"&&t!==null){var a=mg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:pm(i)},mg.set(t,i),i)}return{value:t,source:i,stack:pm(i)}}var Yr=[],Qr=0,oo=null,la=0,Kt=[],Wt=0,ui=null,gn=1,_n="";function On(t,i){Yr[Qr++]=la,Yr[Qr++]=oo,oo=t,la=i}function gg(t,i,a){Kt[Wt++]=gn,Kt[Wt++]=_n,Kt[Wt++]=ui,ui=t;var o=gn;t=_n;var c=32-xt(o)-1;o&=~(1<<c),a+=1;var d=32-xt(i)+c;if(30<d){var g=c-c%5;d=(o&(1<<g)-1).toString(32),o>>=g,c-=g,gn=1<<32-xt(i)+c|a<<c|o,_n=d+t}else gn=1<<d|a<<c|o,_n=t}function df(t){t.return!==null&&(On(t,1),gg(t,1,0))}function hf(t){for(;t===oo;)oo=Yr[--Qr],Yr[Qr]=null,la=Yr[--Qr],Yr[Qr]=null;for(;t===ui;)ui=Kt[--Wt],Kt[Wt]=null,_n=Kt[--Wt],Kt[Wt]=null,gn=Kt[--Wt],Kt[Wt]=null}function _g(t,i){Kt[Wt++]=gn,Kt[Wt++]=_n,Kt[Wt++]=ui,gn=i.id,_n=i.overflow,ui=t}var st=null,Le=null,_e=!1,ci=null,Xt=!1,pf=Error(s(519));function fi(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw oa(Qt(i,t)),pf}function yg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[rt]=t,i[Ct]=o,a){case"dialog":he("cancel",i),he("close",i);break;case"iframe":case"object":case"embed":he("load",i);break;case"video":case"audio":for(a=0;a<Da.length;a++)he(Da[a],i);break;case"source":he("error",i);break;case"img":case"image":case"link":he("error",i),he("load",i);break;case"details":he("toggle",i);break;case"input":he("invalid",i),Im(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":he("invalid",i);break;case"textarea":he("invalid",i),xm(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Ly(i.textContent,a)?(o.popover!=null&&(he("beforetoggle",i),he("toggle",i)),o.onScroll!=null&&he("scroll",i),o.onScrollEnd!=null&&he("scrollend",i),o.onClick!=null&&(i.onclick=Rn),i=!0):i=!1,i||fi(t,!0)}function vg(t){for(st=t.return;st;)switch(st.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:st=st.return}}function Kr(t){if(t!==st)return!1;if(!_e)return vg(t),_e=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Md(t.type,t.memoizedProps)),a=!a),a&&Le&&fi(t),vg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Le=Fy(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Le=Fy(t)}else i===27?(i=Le,wi(t.type)?(t=zd,zd=null,Le=t):Le=i):Le=st?Zt(t.stateNode.nextSibling):null;return!0}function ar(){Le=st=null,_e=!1}function mf(){var t=ci;return t!==null&&(Nt===null?Nt=t:Nt.push.apply(Nt,t),ci=null),t}function oa(t){ci===null?ci=[t]:ci.push(t)}var gf=C(null),lr=null,Dn=null;function di(t,i,a){G(gf,i._currentValue),i._currentValue=a}function In(t){t._currentValue=gf.current,H(gf)}function _f(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function yf(t,i,a,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var v=d;d=c;for(var S=0;S<i.length;S++)if(v.context===i[S]){d.lanes|=a,v=d.alternate,v!==null&&(v.lanes|=a),_f(d.return,a,t),o||(g=null);break e}d=v.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),_f(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Wr(t,i,a,o){t=null;for(var c=i,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var v=c.type;kt(c.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(c===be.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(La):t=[La])}c=c.return}t!==null&&yf(i,t,a,o),i.flags|=262144}function uo(t){for(t=t.firstContext;t!==null;){if(!kt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function or(t){lr=t,Dn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function at(t){return Eg(lr,t)}function co(t,i){return lr===null&&or(t),Eg(t,i)}function Eg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Dn===null){if(t===null)throw Error(s(308));Dn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Dn=Dn.next=i;return a}var uT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},cT=n.unstable_scheduleCallback,fT=n.unstable_NormalPriority,Qe={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new uT,data:new Map,refCount:0}}function ua(t){t.refCount--,t.refCount===0&&cT(fT,function(){t.controller.abort()})}var ca=null,Ef=0,Xr=0,$r=null;function dT(t,i){if(ca===null){var a=ca=[];Ef=0,Xr=Cd(),$r={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Ef++,i.then(Sg,Sg),i}function Sg(){if(--Ef===0&&ca!==null){$r!==null&&($r.status="fulfilled");var t=ca;ca=null,Xr=0,$r=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function hT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var c=0;c<a.length;c++)(0,a[c])(i)},function(c){for(o.status="rejected",o.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),o}var bg=k.S;k.S=function(t,i){sy=It(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&dT(t,i),bg!==null&&bg(t,i)};var ur=C(null);function Sf(){var t=ur.current;return t!==null?t:Me.pooledCache}function fo(t,i){i===null?G(ur,ur.current):G(ur,i.pool)}function Cg(){var t=Sf();return t===null?null:{parent:Qe._currentValue,pool:t}}var Zr=Error(s(460)),bf=Error(s(474)),ho=Error(s(542)),po={then:function(){}};function Tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Rn,Rn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ag(t),t;default:if(typeof i.status=="string")i.then(Rn,Rn);else{if(t=Me,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var c=i;c.status="fulfilled",c.value=o}},function(o){if(i.status==="pending"){var c=i;c.status="rejected",c.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ag(t),t}throw fr=i,Zr}}function cr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fr=a,Zr):a}}var fr=null;function Rg(){if(fr===null)throw Error(s(459));var t=fr;return fr=null,t}function Ag(t){if(t===Zr||t===ho)throw Error(s(483))}var Jr=null,fa=0;function mo(t){var i=fa;return fa+=1,Jr===null&&(Jr=[]),wg(Jr,t,i)}function da(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function go(t,i){throw i.$$typeof===E?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ng(t){function i(w,b){if(t){var A=w.deletions;A===null?(w.deletions=[b],w.flags|=16):A.push(b)}}function a(w,b){if(!t)return null;for(;b!==null;)i(w,b),b=b.sibling;return null}function o(w){for(var b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function c(w,b){return w=Nn(w,b),w.index=0,w.sibling=null,w}function d(w,b,A){return w.index=A,t?(A=w.alternate,A!==null?(A=A.index,A<b?(w.flags|=67108866,b):A):(w.flags|=67108866,b)):(w.flags|=1048576,b)}function g(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function v(w,b,A,L){return b===null||b.tag!==6?(b=cf(A,w.mode,L),b.return=w,b):(b=c(b,A),b.return=w,b)}function S(w,b,A,L){var Z=A.type;return Z===z?x(w,b,A.props.children,L,A.key):b!==null&&(b.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===re&&cr(Z)===b.type)?(b=c(b,A.props),da(b,A),b.return=w,b):(b=lo(A.type,A.key,A.props,null,w.mode,L),da(b,A),b.return=w,b)}function N(w,b,A,L){return b===null||b.tag!==4||b.stateNode.containerInfo!==A.containerInfo||b.stateNode.implementation!==A.implementation?(b=ff(A,w.mode,L),b.return=w,b):(b=c(b,A.children||[]),b.return=w,b)}function x(w,b,A,L,Z){return b===null||b.tag!==7?(b=sr(A,w.mode,L,Z),b.return=w,b):(b=c(b,A),b.return=w,b)}function U(w,b,A){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=cf(""+b,w.mode,A),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case T:return A=lo(b.type,b.key,b.props,null,w.mode,A),da(A,b),A.return=w,A;case O:return b=ff(b,w.mode,A),b.return=w,b;case re:return b=cr(b),U(w,b,A)}if(rn(b)||bt(b))return b=sr(b,w.mode,A,null),b.return=w,b;if(typeof b.then=="function")return U(w,mo(b),A);if(b.$$typeof===B)return U(w,co(w,b),A);go(w,b)}return null}function D(w,b,A,L){var Z=b!==null?b.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return Z!==null?null:v(w,b,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case T:return A.key===Z?S(w,b,A,L):null;case O:return A.key===Z?N(w,b,A,L):null;case re:return A=cr(A),D(w,b,A,L)}if(rn(A)||bt(A))return Z!==null?null:x(w,b,A,L,null);if(typeof A.then=="function")return D(w,b,mo(A),L);if(A.$$typeof===B)return D(w,b,co(w,A),L);go(w,A)}return null}function I(w,b,A,L,Z){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return w=w.get(A)||null,v(b,w,""+L,Z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return w=w.get(L.key===null?A:L.key)||null,S(b,w,L,Z);case O:return w=w.get(L.key===null?A:L.key)||null,N(b,w,L,Z);case re:return L=cr(L),I(w,b,A,L,Z)}if(rn(L)||bt(L))return w=w.get(A)||null,x(b,w,L,Z,null);if(typeof L.then=="function")return I(w,b,A,mo(L),Z);if(L.$$typeof===B)return I(w,b,A,co(b,L),Z);go(b,L)}return null}function Q(w,b,A,L){for(var Z=null,ye=null,X=b,le=b=0,ge=null;X!==null&&le<A.length;le++){X.index>le?(ge=X,X=null):ge=X.sibling;var ve=D(w,X,A[le],L);if(ve===null){X===null&&(X=ge);break}t&&X&&ve.alternate===null&&i(w,X),b=d(ve,b,le),ye===null?Z=ve:ye.sibling=ve,ye=ve,X=ge}if(le===A.length)return a(w,X),_e&&On(w,le),Z;if(X===null){for(;le<A.length;le++)X=U(w,A[le],L),X!==null&&(b=d(X,b,le),ye===null?Z=X:ye.sibling=X,ye=X);return _e&&On(w,le),Z}for(X=o(X);le<A.length;le++)ge=I(X,w,le,A[le],L),ge!==null&&(t&&ge.alternate!==null&&X.delete(ge.key===null?le:ge.key),b=d(ge,b,le),ye===null?Z=ge:ye.sibling=ge,ye=ge);return t&&X.forEach(function(Di){return i(w,Di)}),_e&&On(w,le),Z}function J(w,b,A,L){if(A==null)throw Error(s(151));for(var Z=null,ye=null,X=b,le=b=0,ge=null,ve=A.next();X!==null&&!ve.done;le++,ve=A.next()){X.index>le?(ge=X,X=null):ge=X.sibling;var Di=D(w,X,ve.value,L);if(Di===null){X===null&&(X=ge);break}t&&X&&Di.alternate===null&&i(w,X),b=d(Di,b,le),ye===null?Z=Di:ye.sibling=Di,ye=Di,X=ge}if(ve.done)return a(w,X),_e&&On(w,le),Z;if(X===null){for(;!ve.done;le++,ve=A.next())ve=U(w,ve.value,L),ve!==null&&(b=d(ve,b,le),ye===null?Z=ve:ye.sibling=ve,ye=ve);return _e&&On(w,le),Z}for(X=o(X);!ve.done;le++,ve=A.next())ve=I(X,w,le,ve.value,L),ve!==null&&(t&&ve.alternate!==null&&X.delete(ve.key===null?le:ve.key),b=d(ve,b,le),ye===null?Z=ve:ye.sibling=ve,ye=ve);return t&&X.forEach(function(T1){return i(w,T1)}),_e&&On(w,le),Z}function Ne(w,b,A,L){if(typeof A=="object"&&A!==null&&A.type===z&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case T:e:{for(var Z=A.key;b!==null;){if(b.key===Z){if(Z=A.type,Z===z){if(b.tag===7){a(w,b.sibling),L=c(b,A.props.children),L.return=w,w=L;break e}}else if(b.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===re&&cr(Z)===b.type){a(w,b.sibling),L=c(b,A.props),da(L,A),L.return=w,w=L;break e}a(w,b);break}else i(w,b);b=b.sibling}A.type===z?(L=sr(A.props.children,w.mode,L,A.key),L.return=w,w=L):(L=lo(A.type,A.key,A.props,null,w.mode,L),da(L,A),L.return=w,w=L)}return g(w);case O:e:{for(Z=A.key;b!==null;){if(b.key===Z)if(b.tag===4&&b.stateNode.containerInfo===A.containerInfo&&b.stateNode.implementation===A.implementation){a(w,b.sibling),L=c(b,A.children||[]),L.return=w,w=L;break e}else{a(w,b);break}else i(w,b);b=b.sibling}L=ff(A,w.mode,L),L.return=w,w=L}return g(w);case re:return A=cr(A),Ne(w,b,A,L)}if(rn(A))return Q(w,b,A,L);if(bt(A)){if(Z=bt(A),typeof Z!="function")throw Error(s(150));return A=Z.call(A),J(w,b,A,L)}if(typeof A.then=="function")return Ne(w,b,mo(A),L);if(A.$$typeof===B)return Ne(w,b,co(w,A),L);go(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,b!==null&&b.tag===6?(a(w,b.sibling),L=c(b,A),L.return=w,w=L):(a(w,b),L=cf(A,w.mode,L),L.return=w,w=L),g(w)):a(w,b)}return function(w,b,A,L){try{fa=0;var Z=Ne(w,b,A,L);return Jr=null,Z}catch(X){if(X===Zr||X===ho)throw X;var ye=Lt(29,X,null,w.mode);return ye.lanes=L,ye.return=w,ye}}}var dr=Ng(!0),Og=Ng(!1),hi=!1;function Cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function mi(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Se&2)!==0){var c=o.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),o.pending=i,i=ao(t),dg(t,null,a),i}return so(t,o,i,a),ao(t)}function ha(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Em(t,a)}}function wf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?c=d=i:d=d.next=i}else c=d=i;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Rf=!1;function pa(){if(Rf){var t=$r;if(t!==null)throw t}}function ma(t,i,a,o){Rf=!1;var c=t.updateQueue;hi=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var S=v,N=S.next;S.next=null,g===null?d=N:g.next=N,g=S;var x=t.alternate;x!==null&&(x=x.updateQueue,v=x.lastBaseUpdate,v!==g&&(v===null?x.firstBaseUpdate=N:v.next=N,x.lastBaseUpdate=S))}if(d!==null){var U=c.baseState;g=0,x=N=S=null,v=d;do{var D=v.lane&-536870913,I=D!==v.lane;if(I?(me&D)===D:(o&D)===D){D!==0&&D===Xr&&(Rf=!0),x!==null&&(x=x.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var Q=t,J=v;D=i;var Ne=a;switch(J.tag){case 1:if(Q=J.payload,typeof Q=="function"){U=Q.call(Ne,U,D);break e}U=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=J.payload,D=typeof Q=="function"?Q.call(Ne,U,D):Q,D==null)break e;U=_({},U,D);break e;case 2:hi=!0}}D=v.callback,D!==null&&(t.flags|=64,I&&(t.flags|=8192),I=c.callbacks,I===null?c.callbacks=[D]:I.push(D))}else I={lane:D,tag:v.tag,payload:v.payload,callback:v.callback,next:null},x===null?(N=x=I,S=U):x=x.next=I,g|=D;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;I=v,v=I.next,I.next=null,c.lastBaseUpdate=I,c.shared.pending=null}}while(!0);x===null&&(S=U),c.baseState=S,c.firstBaseUpdate=N,c.lastBaseUpdate=x,d===null&&(c.shared.lanes=0),Ei|=g,t.lanes=g,t.memoizedState=U}}function Dg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ig(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Dg(a[t],i)}var es=C(null),_o=C(0);function Mg(t,i){t=Bn,G(_o,t),G(es,i),Bn=t|i.baseLanes}function Af(){G(_o,Bn),G(es,es.current)}function Nf(){Bn=_o.current,H(es),H(_o)}var Ut=C(null),$t=null;function gi(t){var i=t.alternate;G(Fe,Fe.current&1),G(Ut,t),$t===null&&(i===null||es.current!==null||i.memoizedState!==null)&&($t=t)}function Of(t){G(Fe,Fe.current),G(Ut,t),$t===null&&($t=t)}function xg(t){t.tag===22?(G(Fe,Fe.current),G(Ut,t),$t===null&&($t=t)):_i()}function _i(){G(Fe,Fe.current),G(Ut,Ut.current)}function zt(t){H(Ut),$t===t&&($t=null),H(Fe)}var Fe=C(0);function yo(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ld(a)||Ud(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Mn=0,ae=null,Re=null,Ke=null,vo=!1,ts=!1,hr=!1,Eo=0,ga=0,ns=null,pT=0;function He(){throw Error(s(321))}function Df(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!kt(t[a],i[a]))return!1;return!0}function If(t,i,a,o,c,d){return Mn=d,ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,k.H=t===null||t.memoizedState===null?g_:Yf,hr=!1,d=a(o,c),hr=!1,ts&&(d=Lg(i,a,o,c)),kg(t),d}function kg(t){k.H=va;var i=Re!==null&&Re.next!==null;if(Mn=0,Ke=Re=ae=null,vo=!1,ga=0,ns=null,i)throw Error(s(300));t===null||We||(t=t.dependencies,t!==null&&uo(t)&&(We=!0))}function Lg(t,i,a,o){ae=t;var c=0;do{if(ts&&(ns=null),ga=0,ts=!1,25<=c)throw Error(s(301));if(c+=1,Ke=Re=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}k.H=__,d=i(a,o)}while(ts);return d}function mT(){var t=k.H,i=t.useState()[0];return i=typeof i.then=="function"?_a(i):i,t=t.useState()[0],(Re!==null?Re.memoizedState:null)!==t&&(ae.flags|=1024),i}function Mf(){var t=Eo!==0;return Eo=0,t}function xf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function kf(t){if(vo){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}vo=!1}Mn=0,Ke=Re=ae=null,ts=!1,ga=Eo=0,ns=null}function gt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ae.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Ge(){if(Re===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var i=Ke===null?ae.memoizedState:Ke.next;if(i!==null)Ke=i,Re=t;else{if(t===null)throw ae.alternate===null?Error(s(467)):Error(s(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Ke===null?ae.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function So(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _a(t){var i=ga;return ga+=1,ns===null&&(ns=[]),t=wg(ns,t,i),i=ae,(Ke===null?i.memoizedState:Ke.next)===null&&(i=i.alternate,k.H=i===null||i.memoizedState===null?g_:Yf),t}function bo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _a(t);if(t.$$typeof===B)return at(t)}throw Error(s(438,String(t)))}function Lf(t){var i=null,a=ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=ae.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(c){return c.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=So(),ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=St;return i.index++,a}function xn(t,i){return typeof i=="function"?i(t):i}function Co(t){var i=Ge();return Uf(i,Re,t)}function Uf(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var c=t.baseQueue,d=o.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}i.baseQueue=c=d,o.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{i=c.next;var v=g=null,S=null,N=i,x=!1;do{var U=N.lane&-536870913;if(U!==N.lane?(me&U)===U:(Mn&U)===U){var D=N.revertLane;if(D===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),U===Xr&&(x=!0);else if((Mn&D)===D){N=N.next,D===Xr&&(x=!0);continue}else U={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(v=S=U,g=d):S=S.next=U,ae.lanes|=D,Ei|=D;U=N.action,hr&&a(d,U),d=N.hasEagerState?N.eagerState:a(d,U)}else D={lane:U,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(v=S=D,g=d):S=S.next=D,ae.lanes|=U,Ei|=U;N=N.next}while(N!==null&&N!==i);if(S===null?g=d:S.next=v,!kt(d,t.memoizedState)&&(We=!0,x&&(a=$r,a!==null)))throw a;t.memoizedState=d,t.baseState=g,t.baseQueue=S,o.lastRenderedState=d}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function zf(t){var i=Ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,c=a.pending,d=i.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do d=t(d,g.action),g=g.next;while(g!==c);kt(d,i.memoizedState)||(We=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Ug(t,i,a){var o=ae,c=Ge(),d=_e;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var g=!kt((Re||c).memoizedState,a);if(g&&(c.memoizedState=a,We=!0),c=c.queue,Bf(Hg.bind(null,o,c,t),[t]),c.getSnapshot!==i||g||Ke!==null&&Ke.memoizedState.tag&1){if(o.flags|=2048,is(9,{destroy:void 0},Pg.bind(null,o,c,a,i),null),Me===null)throw Error(s(349));d||(Mn&127)!==0||zg(o,i,a)}return a}function zg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ae.updateQueue,i===null?(i=So(),ae.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Pg(t,i,a,o){i.value=a,i.getSnapshot=o,Bg(i)&&jg(t)}function Hg(t,i,a){return a(function(){Bg(i)&&jg(t)})}function Bg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!kt(t,a)}catch{return!0}}function jg(t){var i=rr(t,2);i!==null&&Ot(i,t,2)}function Pf(t){var i=gt();if(typeof t=="function"){var a=t;if(t=a(),hr){ai(!0);try{a()}finally{ai(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:t},i}function qg(t,i,a,o){return t.baseState=a,Uf(t,Re,typeof o=="function"?o:xn)}function gT(t,i,a,o,c){if(Ro(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};k.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Vg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Vg(t,i){var a=i.action,o=i.payload,c=t.state;if(i.isTransition){var d=k.T,g={};k.T=g;try{var v=a(c,o),S=k.S;S!==null&&S(g,v),Fg(t,i,v)}catch(N){Hf(t,i,N)}finally{d!==null&&g.types!==null&&(d.types=g.types),k.T=d}}else try{d=a(c,o),Fg(t,i,d)}catch(N){Hf(t,i,N)}}function Fg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Gg(t,i,o)},function(o){return Hf(t,i,o)}):Gg(t,i,a)}function Gg(t,i,a){i.status="fulfilled",i.value=a,Yg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Vg(t,a)))}function Hf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Yg(i),i=i.next;while(i!==o)}t.action=null}function Yg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Qg(t,i){return i}function Kg(t,i){if(_e){var a=Me.formState;if(a!==null){e:{var o=ae;if(_e){if(Le){t:{for(var c=Le,d=Xt;c.nodeType!==8;){if(!d){c=null;break t}if(c=Zt(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Le=Zt(c.nextSibling),o=c.data==="F!";break e}}fi(o)}o=!1}o&&(i=a[0])}}return a=gt(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:i},a.queue=o,a=h_.bind(null,ae,o),o.dispatch=a,o=Pf(!1),d=Gf.bind(null,ae,!1,o.queue),o=gt(),c={state:i,dispatch:null,action:t,pending:null},o.queue=c,a=gT.bind(null,ae,c,d,a),c.dispatch=a,o.memoizedState=t,[i,a,!1]}function Wg(t){var i=Ge();return Xg(i,Re,t)}function Xg(t,i,a){if(i=Uf(t,i,Qg)[0],t=Co(xn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=_a(i)}catch(g){throw g===Zr?ho:g}else o=i;i=Ge();var c=i.queue,d=c.dispatch;return a!==i.memoizedState&&(ae.flags|=2048,is(9,{destroy:void 0},_T.bind(null,c,a),null)),[o,d,t]}function _T(t,i){t.action=i}function $g(t){var i=Ge(),a=Re;if(a!==null)return Xg(i,a,t);Ge(),i=i.memoizedState,a=Ge();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function is(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=ae.updateQueue,i===null&&(i=So(),ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Zg(){return Ge().memoizedState}function To(t,i,a,o){var c=gt();ae.flags|=t,c.memoizedState=is(1|i,{destroy:void 0},a,o===void 0?null:o)}function wo(t,i,a,o){var c=Ge();o=o===void 0?null:o;var d=c.memoizedState.inst;Re!==null&&o!==null&&Df(o,Re.memoizedState.deps)?c.memoizedState=is(i,d,a,o):(ae.flags|=t,c.memoizedState=is(1|i,d,a,o))}function Jg(t,i){To(8390656,8,t,i)}function Bf(t,i){wo(2048,8,t,i)}function yT(t){ae.flags|=4;var i=ae.updateQueue;if(i===null)i=So(),ae.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function e_(t){var i=Ge().memoizedState;return yT({ref:i,nextImpl:t}),function(){if((Se&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function t_(t,i){return wo(4,2,t,i)}function n_(t,i){return wo(4,4,t,i)}function i_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function r_(t,i,a){a=a!=null?a.concat([t]):null,wo(4,4,i_.bind(null,i,t),a)}function jf(){}function s_(t,i){var a=Ge();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Df(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function a_(t,i){var a=Ge();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Df(i,o[1]))return o[0];if(o=t(),hr){ai(!0);try{t()}finally{ai(!1)}}return a.memoizedState=[o,i],o}function qf(t,i,a){return a===void 0||(Mn&1073741824)!==0&&(me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=ly(),ae.lanes|=t,Ei|=t,a)}function l_(t,i,a,o){return kt(a,i)?a:es.current!==null?(t=qf(t,a,o),kt(t,i)||(We=!0),t):(Mn&42)===0||(Mn&1073741824)!==0&&(me&261930)===0?(We=!0,t.memoizedState=a):(t=ly(),ae.lanes|=t,Ei|=t,i)}function o_(t,i,a,o,c){var d=F.p;F.p=d!==0&&8>d?d:8;var g=k.T,v={};k.T=v,Gf(t,!1,i,a);try{var S=c(),N=k.S;if(N!==null&&N(v,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var x=hT(S,o);ya(t,i,x,Bt(t))}else ya(t,i,o,Bt(t))}catch(U){ya(t,i,{then:function(){},status:"rejected",reason:U},Bt())}finally{F.p=d,g!==null&&v.types!==null&&(g.types=v.types),k.T=g}}function vT(){}function Vf(t,i,a,o){if(t.tag!==5)throw Error(s(476));var c=u_(t).queue;o_(t,c,i,ne,a===null?vT:function(){return c_(t),a(o)})}function u_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:ne},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function c_(t){var i=u_(t);i.next===null&&(i=t.alternate.memoizedState),ya(t,i.next.queue,{},Bt())}function Ff(){return at(La)}function f_(){return Ge().memoizedState}function d_(){return Ge().memoizedState}function ET(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Bt();t=pi(a);var o=mi(i,t,a);o!==null&&(Ot(o,i,a),ha(o,i,a)),i={cache:vf()},t.payload=i;return}i=i.return}}function ST(t,i,a){var o=Bt();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ro(t)?p_(i,a):(a=of(t,i,a,o),a!==null&&(Ot(a,t,o),m_(a,i,o)))}function h_(t,i,a){var o=Bt();ya(t,i,a,o)}function ya(t,i,a,o){var c={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ro(t))p_(i,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var g=i.lastRenderedState,v=d(g,a);if(c.hasEagerState=!0,c.eagerState=v,kt(v,g))return so(t,i,c,0),Me===null&&ro(),!1}catch{}if(a=of(t,i,c,o),a!==null)return Ot(a,t,o),m_(a,i,o),!0}return!1}function Gf(t,i,a,o){if(o={lane:2,revertLane:Cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ro(t)){if(i)throw Error(s(479))}else i=of(t,a,o,2),i!==null&&Ot(i,t,2)}function Ro(t){var i=t.alternate;return t===ae||i!==null&&i===ae}function p_(t,i){ts=vo=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function m_(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Em(t,a)}}var va={readContext:at,use:bo,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};va.useEffectEvent=He;var g_={readContext:at,use:bo,useCallback:function(t,i){return gt().memoizedState=[t,i===void 0?null:i],t},useContext:at,useEffect:Jg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,To(4194308,4,i_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return To(4194308,4,t,i)},useInsertionEffect:function(t,i){To(4,2,t,i)},useMemo:function(t,i){var a=gt();i=i===void 0?null:i;var o=t();if(hr){ai(!0);try{t()}finally{ai(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=gt();if(a!==void 0){var c=a(i);if(hr){ai(!0);try{a(i)}finally{ai(!1)}}}else c=i;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=ST.bind(null,ae,t),[o.memoizedState,t]},useRef:function(t){var i=gt();return t={current:t},i.memoizedState=t},useState:function(t){t=Pf(t);var i=t.queue,a=h_.bind(null,ae,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:jf,useDeferredValue:function(t,i){var a=gt();return qf(a,t,i)},useTransition:function(){var t=Pf(!1);return t=o_.bind(null,ae,t.queue,!0,!1),gt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=ae,c=gt();if(_e){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Me===null)throw Error(s(349));(me&127)!==0||zg(o,i,a)}c.memoizedState=a;var d={value:a,getSnapshot:i};return c.queue=d,Jg(Hg.bind(null,o,d,t),[t]),o.flags|=2048,is(9,{destroy:void 0},Pg.bind(null,o,d,a,i),null),a},useId:function(){var t=gt(),i=Me.identifierPrefix;if(_e){var a=_n,o=gn;a=(o&~(1<<32-xt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Eo++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=pT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Ff,useFormState:Kg,useActionState:Kg,useOptimistic:function(t){var i=gt();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Gf.bind(null,ae,!0,a),a.dispatch=i,[t,i]},useMemoCache:Lf,useCacheRefresh:function(){return gt().memoizedState=ET.bind(null,ae)},useEffectEvent:function(t){var i=gt(),a={impl:t};return i.memoizedState=a,function(){if((Se&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Yf={readContext:at,use:bo,useCallback:s_,useContext:at,useEffect:Bf,useImperativeHandle:r_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:a_,useReducer:Co,useRef:Zg,useState:function(){return Co(xn)},useDebugValue:jf,useDeferredValue:function(t,i){var a=Ge();return l_(a,Re.memoizedState,t,i)},useTransition:function(){var t=Co(xn)[0],i=Ge().memoizedState;return[typeof t=="boolean"?t:_a(t),i]},useSyncExternalStore:Ug,useId:f_,useHostTransitionStatus:Ff,useFormState:Wg,useActionState:Wg,useOptimistic:function(t,i){var a=Ge();return qg(a,Re,t,i)},useMemoCache:Lf,useCacheRefresh:d_};Yf.useEffectEvent=e_;var __={readContext:at,use:bo,useCallback:s_,useContext:at,useEffect:Bf,useImperativeHandle:r_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:a_,useReducer:zf,useRef:Zg,useState:function(){return zf(xn)},useDebugValue:jf,useDeferredValue:function(t,i){var a=Ge();return Re===null?qf(a,t,i):l_(a,Re.memoizedState,t,i)},useTransition:function(){var t=zf(xn)[0],i=Ge().memoizedState;return[typeof t=="boolean"?t:_a(t),i]},useSyncExternalStore:Ug,useId:f_,useHostTransitionStatus:Ff,useFormState:$g,useActionState:$g,useOptimistic:function(t,i){var a=Ge();return Re!==null?qg(a,Re,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:d_};__.useEffectEvent=e_;function Qf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:_({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Kf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Bt(),c=pi(o);c.payload=i,a!=null&&(c.callback=a),i=mi(t,c,o),i!==null&&(Ot(i,t,o),ha(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Bt(),c=pi(o);c.tag=1,c.payload=i,a!=null&&(c.callback=a),i=mi(t,c,o),i!==null&&(Ot(i,t,o),ha(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Bt(),o=pi(a);o.tag=2,i!=null&&(o.callback=i),i=mi(t,o,a),i!==null&&(Ot(i,t,a),ha(i,t,a))}};function y_(t,i,a,o,c,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,g):i.prototype&&i.prototype.isPureReactComponent?!sa(a,o)||!sa(c,d):!0}function v_(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Kf.enqueueReplaceState(i,i.state,null)}function pr(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=_({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function E_(t){io(t)}function S_(t){console.error(t)}function b_(t){io(t)}function Ao(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function C_(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Wf(t,i,a){return a=pi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ao(t,i)},a}function T_(t){return t=pi(t),t.tag=3,t}function w_(t,i,a,o){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;t.payload=function(){return c(d)},t.callback=function(){C_(i,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){C_(i,a,o),typeof c!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function bT(t,i,a,o,c){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Wr(i,a,c,!0),a=Ut.current,a!==null){switch(a.tag){case 31:case 13:return $t===null?Ho():a.alternate===null&&Be===0&&(Be=3),a.flags&=-257,a.flags|=65536,a.lanes=c,o===po?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Ed(t,o,c)),!1;case 22:return a.flags|=65536,o===po?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Ed(t,o,c)),!1}throw Error(s(435,a.tag))}return Ed(t,o,c),Ho(),!1}if(_e)return i=Ut.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=c,o!==pf&&(t=Error(s(422),{cause:o}),oa(Qt(t,a)))):(o!==pf&&(i=Error(s(423),{cause:o}),oa(Qt(i,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=Qt(o,a),c=Wf(t.stateNode,o,c),wf(t,c),Be!==4&&(Be=2)),!1;var d=Error(s(520),{cause:o});if(d=Qt(d,a),Aa===null?Aa=[d]:Aa.push(d),Be!==4&&(Be=2),i===null)return!0;o=Qt(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Wf(a.stateNode,o,t),wf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Si===null||!Si.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=T_(c),w_(c,t,a,o),wf(a,c),!1}a=a.return}while(a!==null);return!1}var Xf=Error(s(461)),We=!1;function lt(t,i,a,o){i.child=t===null?Og(i,null,a,o):dr(i,t.child,a,o)}function R_(t,i,a,o,c){a=a.render;var d=i.ref;if("ref"in o){var g={};for(var v in o)v!=="ref"&&(g[v]=o[v])}else g=o;return or(i),o=If(t,i,a,g,d,c),v=Mf(),t!==null&&!We?(xf(t,i,c),kn(t,i,c)):(_e&&v&&df(i),i.flags|=1,lt(t,i,o,c),i.child)}function A_(t,i,a,o,c){if(t===null){var d=a.type;return typeof d=="function"&&!uf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,N_(t,i,d,o,c)):(t=lo(a.type,null,o,i,i.mode,c),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!rd(t,c)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:sa,a(g,o)&&t.ref===i.ref)return kn(t,i,c)}return i.flags|=1,t=Nn(d,o),t.ref=i.ref,t.return=i,i.child=t}function N_(t,i,a,o,c){if(t!==null){var d=t.memoizedProps;if(sa(d,o)&&t.ref===i.ref)if(We=!1,i.pendingProps=o=d,rd(t,c))(t.flags&131072)!==0&&(We=!0);else return i.lanes=t.lanes,kn(t,i,c)}return $f(t,i,a,o,c)}function O_(t,i,a,o){var c=o.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=i.child=t.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~d}else o=0,i.child=null;return D_(t,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&fo(i,d!==null?d.cachePool:null),d!==null?Mg(i,d):Af(),xg(i);else return o=i.lanes=536870912,D_(t,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(fo(i,d.cachePool),Mg(i,d),_i(),i.memoizedState=null):(t!==null&&fo(i,null),Af(),_i());return lt(t,i,c,a),i.child}function Ea(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function D_(t,i,a,o,c){var d=Sf();return d=d===null?null:{parent:Qe._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&fo(i,null),Af(),xg(i),t!==null&&Wr(t,i,o,!0),i.childLanes=c,null}function No(t,i){return i=Do({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function I_(t,i,a){return dr(i,t.child,null,a),t=No(i,i.pendingProps),t.flags|=2,zt(i),i.memoizedState=null,t}function CT(t,i,a){var o=i.pendingProps,c=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(_e){if(o.mode==="hidden")return t=No(i,o),i.lanes=536870912,Ea(null,t);if(Of(i),(t=Le)?(t=Vy(t,Xt),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ui!==null?{id:gn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},a=pg(t),a.return=i,i.child=a,st=i,Le=null)):t=null,t===null)throw fi(i);return i.lanes=536870912,null}return No(i,o)}var d=t.memoizedState;if(d!==null){var g=d.dehydrated;if(Of(i),c)if(i.flags&256)i.flags&=-257,i=I_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(We||Wr(t,i,a,!1),c=(a&t.childLanes)!==0,We||c){if(o=Me,o!==null&&(g=Sm(o,a),g!==0&&g!==d.retryLane))throw d.retryLane=g,rr(t,g),Ot(o,t,g),Xf;Ho(),i=I_(t,i,a)}else t=d.treeContext,Le=Zt(g.nextSibling),st=i,_e=!0,ci=null,Xt=!1,t!==null&&_g(i,t),i=No(i,o),i.flags|=4096;return i}return t=Nn(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Oo(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function $f(t,i,a,o,c){return or(i),a=If(t,i,a,o,void 0,c),o=Mf(),t!==null&&!We?(xf(t,i,c),kn(t,i,c)):(_e&&o&&df(i),i.flags|=1,lt(t,i,a,c),i.child)}function M_(t,i,a,o,c,d){return or(i),i.updateQueue=null,a=Lg(i,o,a,c),kg(t),o=Mf(),t!==null&&!We?(xf(t,i,d),kn(t,i,d)):(_e&&o&&df(i),i.flags|=1,lt(t,i,a,d),i.child)}function x_(t,i,a,o,c){if(or(i),i.stateNode===null){var d=Gr,g=a.contextType;typeof g=="object"&&g!==null&&(d=at(g)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Kf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Cf(i),g=a.contextType,d.context=typeof g=="object"&&g!==null?at(g):Gr,d.state=i.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Qf(i,a,g,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Kf.enqueueReplaceState(d,d.state,null),ma(i,o,d,c),pa(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var v=i.memoizedProps,S=pr(a,v);d.props=S;var N=d.context,x=a.contextType;g=Gr,typeof x=="object"&&x!==null&&(g=at(x));var U=a.getDerivedStateFromProps;x=typeof U=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=i.pendingProps!==v,x||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||N!==g)&&v_(i,d,o,g),hi=!1;var D=i.memoizedState;d.state=D,ma(i,o,d,c),pa(),N=i.memoizedState,v||D!==N||hi?(typeof U=="function"&&(Qf(i,a,U,o),N=i.memoizedState),(S=hi||y_(i,a,S,o,D,N,g))?(x||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=N),d.props=o,d.state=N,d.context=g,o=S):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Tf(t,i),g=i.memoizedProps,x=pr(a,g),d.props=x,U=i.pendingProps,D=d.context,N=a.contextType,S=Gr,typeof N=="object"&&N!==null&&(S=at(N)),v=a.getDerivedStateFromProps,(N=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==U||D!==S)&&v_(i,d,o,S),hi=!1,D=i.memoizedState,d.state=D,ma(i,o,d,c),pa();var I=i.memoizedState;g!==U||D!==I||hi||t!==null&&t.dependencies!==null&&uo(t.dependencies)?(typeof v=="function"&&(Qf(i,a,v,o),I=i.memoizedState),(x=hi||y_(i,a,x,o,D,I,S)||t!==null&&t.dependencies!==null&&uo(t.dependencies))?(N||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,I,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,I,S)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=I),d.props=o,d.state=I,d.context=S,o=x):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,Oo(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=dr(i,t.child,null,c),i.child=dr(i,null,a,c)):lt(t,i,a,c),i.memoizedState=d.state,t=i.child):t=kn(t,i,c),t}function k_(t,i,a,o){return ar(),i.flags|=256,lt(t,i,a,o),i.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(t){return{baseLanes:t,cachePool:Cg()}}function ed(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Ht),t}function L_(t,i,a){var o=i.pendingProps,c=!1,d=(i.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(Fe.current&2)!==0),g&&(c=!0,i.flags&=-129),g=(i.flags&32)!==0,i.flags&=-33,t===null){if(_e){if(c?gi(i):_i(),(t=Le)?(t=Vy(t,Xt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ui!==null?{id:gn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},a=pg(t),a.return=i,i.child=a,st=i,Le=null)):t=null,t===null)throw fi(i);return Ud(t)?i.lanes=32:i.lanes=536870912,null}var v=o.children;return o=o.fallback,c?(_i(),c=i.mode,v=Do({mode:"hidden",children:v},c),o=sr(o,c,a,null),v.return=i,o.return=i,v.sibling=o,i.child=v,o=i.child,o.memoizedState=Jf(a),o.childLanes=ed(t,g,a),i.memoizedState=Zf,Ea(null,o)):(gi(i),td(i,v))}var S=t.memoizedState;if(S!==null&&(v=S.dehydrated,v!==null)){if(d)i.flags&256?(gi(i),i.flags&=-257,i=nd(t,i,a)):i.memoizedState!==null?(_i(),i.child=t.child,i.flags|=128,i=null):(_i(),v=o.fallback,c=i.mode,o=Do({mode:"visible",children:o.children},c),v=sr(v,c,a,null),v.flags|=2,o.return=i,v.return=i,o.sibling=v,i.child=o,dr(i,t.child,null,a),o=i.child,o.memoizedState=Jf(a),o.childLanes=ed(t,g,a),i.memoizedState=Zf,i=Ea(null,o));else if(gi(i),Ud(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var N=g.dgst;g=N,o=Error(s(419)),o.stack="",o.digest=g,oa({value:o,source:null,stack:null}),i=nd(t,i,a)}else if(We||Wr(t,i,a,!1),g=(a&t.childLanes)!==0,We||g){if(g=Me,g!==null&&(o=Sm(g,a),o!==0&&o!==S.retryLane))throw S.retryLane=o,rr(t,o),Ot(g,t,o),Xf;Ld(v)||Ho(),i=nd(t,i,a)}else Ld(v)?(i.flags|=192,i.child=t.child,i=null):(t=S.treeContext,Le=Zt(v.nextSibling),st=i,_e=!0,ci=null,Xt=!1,t!==null&&_g(i,t),i=td(i,o.children),i.flags|=4096);return i}return c?(_i(),v=o.fallback,c=i.mode,S=t.child,N=S.sibling,o=Nn(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&65011712,N!==null?v=Nn(N,v):(v=sr(v,c,a,null),v.flags|=2),v.return=i,o.return=i,o.sibling=v,i.child=o,Ea(null,o),o=i.child,v=t.child.memoizedState,v===null?v=Jf(a):(c=v.cachePool,c!==null?(S=Qe._currentValue,c=c.parent!==S?{parent:S,pool:S}:c):c=Cg(),v={baseLanes:v.baseLanes|a,cachePool:c}),o.memoizedState=v,o.childLanes=ed(t,g,a),i.memoizedState=Zf,Ea(t.child,o)):(gi(i),a=t.child,t=a.sibling,a=Nn(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(g=i.deletions,g===null?(i.deletions=[t],i.flags|=16):g.push(t)),i.child=a,i.memoizedState=null,a)}function td(t,i){return i=Do({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Do(t,i){return t=Lt(22,t,null,i),t.lanes=0,t}function nd(t,i,a){return dr(i,t.child,null,a),t=td(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function U_(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),_f(t.return,i,a)}function id(t,i,a,o,c,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c,treeForkCount:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=c,g.treeForkCount=d)}function z_(t,i,a){var o=i.pendingProps,c=o.revealOrder,d=o.tail;o=o.children;var g=Fe.current,v=(g&2)!==0;if(v?(g=g&1|2,i.flags|=128):g&=1,G(Fe,g),lt(t,i,o,a),o=_e?la:0,!v&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&U_(t,a,i);else if(t.tag===19)U_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=i.child,c=null;a!==null;)t=a.alternate,t!==null&&yo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=i.child,i.child=null):(c=a.sibling,a.sibling=null),id(i,!1,c,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=i.child,i.child=null;c!==null;){if(t=c.alternate,t!==null&&yo(t)===null){i.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}id(i,!0,a,null,d,o);break;case"together":id(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function kn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ei|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Wr(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Nn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Nn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function rd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&uo(t)))}function TT(t,i,a){switch(i.tag){case 3:mt(i,i.stateNode.containerInfo),di(i,Qe,t.memoizedState.cache),ar();break;case 27:case 5:Ys(i);break;case 4:mt(i,i.stateNode.containerInfo);break;case 10:di(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Of(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(gi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?L_(t,i,a):(gi(i),t=kn(t,i,a),t!==null?t.sibling:null);gi(i);break;case 19:var c=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Wr(t,i,a,!1),o=(a&i.childLanes)!==0),c){if(o)return z_(t,i,a);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(Fe,Fe.current),o)break;return null;case 22:return i.lanes=0,O_(t,i,a,i.pendingProps);case 24:di(i,Qe,t.memoizedState.cache)}return kn(t,i,a)}function P_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)We=!0;else{if(!rd(t,a)&&(i.flags&128)===0)return We=!1,TT(t,i,a);We=(t.flags&131072)!==0}else We=!1,_e&&(i.flags&1048576)!==0&&gg(i,la,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=cr(i.elementType),i.type=t,typeof t=="function")uf(t)?(o=pr(t,o),i.tag=1,i=x_(null,i,t,o,a)):(i.tag=0,i=$f(null,i,t,o,a));else{if(t!=null){var c=t.$$typeof;if(c===$){i.tag=11,i=R_(null,i,t,o,a);break e}else if(c===Y){i.tag=14,i=A_(null,i,t,o,a);break e}}throw i=Tn(t)||t,Error(s(306,i,""))}}return i;case 0:return $f(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,c=pr(o,i.pendingProps),x_(t,i,o,c,a);case 3:e:{if(mt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;c=d.element,Tf(t,i),ma(i,o,null,a);var g=i.memoizedState;if(o=g.cache,di(i,Qe,o),o!==d.cache&&yf(i,[Qe],a,!0),pa(),o=g.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:g.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=k_(t,i,o,a);break e}else if(o!==c){c=Qt(Error(s(424)),i),oa(c),i=k_(t,i,o,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Le=Zt(t.firstChild),st=i,_e=!0,ci=null,Xt=!0,a=Og(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ar(),o===c){i=kn(t,i,a);break e}lt(t,i,o,a)}i=i.child}return i;case 26:return Oo(t,i),t===null?(a=Wy(i.type,null,i.pendingProps,null))?i.memoizedState=a:_e||(a=i.type,t=i.pendingProps,o=Yo(fe.current).createElement(a),o[rt]=i,o[Ct]=t,ot(o,a,t),et(o),i.stateNode=o):i.memoizedState=Wy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ys(i),t===null&&_e&&(o=i.stateNode=Yy(i.type,i.pendingProps,fe.current),st=i,Xt=!0,c=Le,wi(i.type)?(zd=c,Le=Zt(o.firstChild)):Le=c),lt(t,i,i.pendingProps.children,a),Oo(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&_e&&((c=o=Le)&&(o=e1(o,i.type,i.pendingProps,Xt),o!==null?(i.stateNode=o,st=i,Le=Zt(o.firstChild),Xt=!1,c=!0):c=!1),c||fi(i)),Ys(i),c=i.type,d=i.pendingProps,g=t!==null?t.memoizedProps:null,o=d.children,Md(c,d)?o=null:g!==null&&Md(c,g)&&(i.flags|=32),i.memoizedState!==null&&(c=If(t,i,mT,null,null,a),La._currentValue=c),Oo(t,i),lt(t,i,o,a),i.child;case 6:return t===null&&_e&&((t=a=Le)&&(a=t1(a,i.pendingProps,Xt),a!==null?(i.stateNode=a,st=i,Le=null,t=!0):t=!1),t||fi(i)),null;case 13:return L_(t,i,a);case 4:return mt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=dr(i,null,o,a):lt(t,i,o,a),i.child;case 11:return R_(t,i,i.type,i.pendingProps,a);case 7:return lt(t,i,i.pendingProps,a),i.child;case 8:return lt(t,i,i.pendingProps.children,a),i.child;case 12:return lt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,di(i,i.type,o.value),lt(t,i,o.children,a),i.child;case 9:return c=i.type._context,o=i.pendingProps.children,or(i),c=at(c),o=o(c),i.flags|=1,lt(t,i,o,a),i.child;case 14:return A_(t,i,i.type,i.pendingProps,a);case 15:return N_(t,i,i.type,i.pendingProps,a);case 19:return z_(t,i,a);case 31:return CT(t,i,a);case 22:return O_(t,i,a,i.pendingProps);case 24:return or(i),o=at(Qe),t===null?(c=Sf(),c===null&&(c=Me,d=vf(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),i.memoizedState={parent:o,cache:c},Cf(i),di(i,Qe,c)):((t.lanes&a)!==0&&(Tf(t,i),ma(i,null,null,a),pa()),c=t.memoizedState,d=i.memoizedState,c.parent!==o?(c={parent:o,cache:o},i.memoizedState=c,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=c),di(i,Qe,o)):(o=d.cache,di(i,Qe,o),o!==c.cache&&yf(i,[Qe],a,!0))),lt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ln(t){t.flags|=4}function sd(t,i,a,o,c){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(fy())t.flags|=8192;else throw fr=po,bf}else t.flags&=-16777217}function H_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ev(i))if(fy())t.flags|=8192;else throw fr=po,bf}function Io(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ym():536870912,t.lanes|=i,ls|=i)}function Sa(t,i){if(!_e)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Ue(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function wT(t,i,a){var o=i.pendingProps;switch(hf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(i),null;case 1:return Ue(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),In(Qe),Ve(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Kr(i)?Ln(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mf())),Ue(i),null;case 26:var c=i.type,d=i.memoizedState;return t===null?(Ln(i),d!==null?(Ue(i),H_(i,d)):(Ue(i),sd(i,c,null,o,a))):d?d!==t.memoizedState?(Ln(i),Ue(i),H_(i,d)):(Ue(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Ln(i),Ue(i),sd(i,c,t,o,a)),null;case 27:if(jl(i),a=fe.current,c=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ln(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Ue(i),null}t=W.current,Kr(i)?yg(i):(t=Yy(c,o,a),i.stateNode=t,Ln(i))}return Ue(i),null;case 5:if(jl(i),c=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ln(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Ue(i),null}if(d=W.current,Kr(i))yg(i);else{var g=Yo(fe.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?g.createElement(c,{is:o.is}):g.createElement(c)}}d[rt]=i,d[Ct]=o;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=d;e:switch(ot(d,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ln(i)}}return Ue(i),sd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Ln(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=fe.current,Kr(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,c=st,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[rt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Ly(t.nodeValue,a)),t||fi(i,!0)}else t=Yo(t).createTextNode(o),t[rt]=i,i.stateNode=t}return Ue(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Kr(i),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[rt]=i}else ar(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ue(i),t=!1}else a=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(zt(i),i):(zt(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Ue(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Kr(i),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[rt]=i}else ar(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ue(i),c=!1}else c=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return i.flags&256?(zt(i),i):(zt(i),null)}return zt(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Io(i,i.updateQueue),Ue(i),null);case 4:return Ve(),t===null&&Ad(i.stateNode.containerInfo),Ue(i),null;case 10:return In(i.type),Ue(i),null;case 19:if(H(Fe),o=i.memoizedState,o===null)return Ue(i),null;if(c=(i.flags&128)!==0,d=o.rendering,d===null)if(c)Sa(o,!1);else{if(Be!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=yo(t),d!==null){for(i.flags|=128,Sa(o,!1),t=d.updateQueue,i.updateQueue=t,Io(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)hg(a,t),a=a.sibling;return G(Fe,Fe.current&1|2),_e&&On(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&It()>Uo&&(i.flags|=128,c=!0,Sa(o,!1),i.lanes=4194304)}else{if(!c)if(t=yo(d),t!==null){if(i.flags|=128,c=!0,t=t.updateQueue,i.updateQueue=t,Io(i,t),Sa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!_e)return Ue(i),null}else 2*It()-o.renderingStartTime>Uo&&a!==536870912&&(i.flags|=128,c=!0,Sa(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(t=o.last,t!==null?t.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=It(),t.sibling=null,a=Fe.current,G(Fe,c?a&1|2:a&1),_e&&On(i,o.treeForkCount),t):(Ue(i),null);case 22:case 23:return zt(i),Nf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(Ue(i),i.subtreeFlags&6&&(i.flags|=8192)):Ue(i),a=i.updateQueue,a!==null&&Io(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&H(ur),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),In(Qe),Ue(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function RT(t,i){switch(hf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return In(Qe),Ve(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return jl(i),null;case 31:if(i.memoizedState!==null){if(zt(i),i.alternate===null)throw Error(s(340));ar()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(zt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ar()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return H(Fe),null;case 4:return Ve(),null;case 10:return In(i.type),null;case 22:case 23:return zt(i),Nf(),t!==null&&H(ur),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return In(Qe),null;case 25:return null;default:return null}}function B_(t,i){switch(hf(i),i.tag){case 3:In(Qe),Ve();break;case 26:case 27:case 5:jl(i);break;case 4:Ve();break;case 31:i.memoizedState!==null&&zt(i);break;case 13:zt(i);break;case 19:H(Fe);break;case 10:In(i.type);break;case 22:case 23:zt(i),Nf(),t!==null&&H(ur);break;case 24:In(Qe)}}function ba(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&t)===t){o=void 0;var d=a.create,g=a.inst;o=d(),g.destroy=o}a=a.next}while(a!==c)}}catch(v){Te(i,i.return,v)}}function yi(t,i,a){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&t)===t){var g=o.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,c=i;var S=a,N=v;try{N()}catch(x){Te(c,S,x)}}}o=o.next}while(o!==d)}}catch(x){Te(i,i.return,x)}}function j_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ig(i,a)}catch(o){Te(t,t.return,o)}}}function q_(t,i,a){a.props=pr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Te(t,i,o)}}function Ca(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(c){Te(t,i,c)}}function yn(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(c){Te(t,i,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Te(t,i,c)}else a.current=null}function V_(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(c){Te(t,t.return,c)}}function ad(t,i,a){try{var o=t.stateNode;KT(o,t.type,a,i),o[Ct]=i}catch(c){Te(t,t.return,c)}}function F_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wi(t.type)||t.tag===4}function ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Rn));else if(o!==4&&(o===27&&wi(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(od(t,i,a),t=t.sibling;t!==null;)od(t,i,a),t=t.sibling}function Mo(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&wi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Mo(t,i,a),t=t.sibling;t!==null;)Mo(t,i,a),t=t.sibling}function G_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,c=i.attributes;c.length;)i.removeAttributeNode(c[0]);ot(i,o,a),i[rt]=t,i[Ct]=a}catch(d){Te(t,t.return,d)}}var Un=!1,Xe=!1,ud=!1,Y_=typeof WeakSet=="function"?WeakSet:Set,tt=null;function AT(t,i){if(t=t.containerInfo,Dd=Jo,t=rg(t),tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,v=-1,S=-1,N=0,x=0,U=t,D=null;t:for(;;){for(var I;U!==a||c!==0&&U.nodeType!==3||(v=g+c),U!==d||o!==0&&U.nodeType!==3||(S=g+o),U.nodeType===3&&(g+=U.nodeValue.length),(I=U.firstChild)!==null;)D=U,U=I;for(;;){if(U===t)break t;if(D===a&&++N===c&&(v=g),D===d&&++x===o&&(S=g),(I=U.nextSibling)!==null)break;U=D,D=U.parentNode}U=I}a=v===-1||S===-1?null:{start:v,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Id={focusedElem:t,selectionRange:a},Jo=!1,tt=i;tt!==null;)if(i=tt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,tt=t;else for(;tt!==null;){switch(i=tt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,c=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var Q=pr(a.type,c);t=o.getSnapshotBeforeUpdate(Q,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(J){Te(a,a.return,J)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)kd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,tt=t;break}tt=i.return}}function Q_(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Pn(t,a),o&4&&ba(5,a);break;case 1:if(Pn(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(g){Te(a,a.return,g)}else{var c=pr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(c,i,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Te(a,a.return,g)}}o&64&&j_(a),o&512&&Ca(a,a.return);break;case 3:if(Pn(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ig(t,i)}catch(g){Te(a,a.return,g)}}break;case 27:i===null&&o&4&&G_(a);case 26:case 5:Pn(t,a),i===null&&o&4&&V_(a),o&512&&Ca(a,a.return);break;case 12:Pn(t,a);break;case 31:Pn(t,a),o&4&&X_(t,a);break;case 13:Pn(t,a),o&4&&$_(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=UT.bind(null,a),n1(t,a))));break;case 22:if(o=a.memoizedState!==null||Un,!o){i=i!==null&&i.memoizedState!==null||Xe,c=Un;var d=Xe;Un=o,(Xe=i)&&!d?Hn(t,a,(a.subtreeFlags&8772)!==0):Pn(t,a),Un=c,Xe=d}break;case 30:break;default:Pn(t,a)}}function K_(t){var i=t.alternate;i!==null&&(t.alternate=null,K_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Pc(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ze=null,wt=!1;function zn(t,i,a){for(a=a.child;a!==null;)W_(t,i,a),a=a.sibling}function W_(t,i,a){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Qs,a)}catch{}switch(a.tag){case 26:Xe||yn(a,i),zn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xe||yn(a,i);var o=ze,c=wt;wi(a.type)&&(ze=a.stateNode,wt=!1),zn(t,i,a),Ma(a.stateNode),ze=o,wt=c;break;case 5:Xe||yn(a,i);case 6:if(o=ze,c=wt,ze=null,zn(t,i,a),ze=o,wt=c,ze!==null)if(wt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(a.stateNode)}catch(d){Te(a,i,d)}else try{ze.removeChild(a.stateNode)}catch(d){Te(a,i,d)}break;case 18:ze!==null&&(wt?(t=ze,jy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ms(t)):jy(ze,a.stateNode));break;case 4:o=ze,c=wt,ze=a.stateNode.containerInfo,wt=!0,zn(t,i,a),ze=o,wt=c;break;case 0:case 11:case 14:case 15:yi(2,a,i),Xe||yi(4,a,i),zn(t,i,a);break;case 1:Xe||(yn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&q_(a,i,o)),zn(t,i,a);break;case 21:zn(t,i,a);break;case 22:Xe=(o=Xe)||a.memoizedState!==null,zn(t,i,a),Xe=o;break;default:zn(t,i,a)}}function X_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ms(t)}catch(a){Te(i,i.return,a)}}}function $_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ms(t)}catch(a){Te(i,i.return,a)}}function NT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Y_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Y_),i;default:throw Error(s(435,t.tag))}}function xo(t,i){var a=NT(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var c=zT.bind(null,t,o);o.then(c,c)}})}function Rt(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],d=t,g=i,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(wi(v.type)){ze=v.stateNode,wt=!1;break e}break;case 5:ze=v.stateNode,wt=!1;break e;case 3:case 4:ze=v.stateNode.containerInfo,wt=!0;break e}v=v.return}if(ze===null)throw Error(s(160));W_(d,g,c),ze=null,wt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Z_(i,t),i=i.sibling}var an=null;function Z_(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rt(i,t),At(t),o&4&&(yi(3,t,t.return),ba(3,t),yi(5,t,t.return));break;case 1:Rt(i,t),At(t),o&512&&(Xe||a===null||yn(a,a.return)),o&64&&Un&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var c=an;if(Rt(i,t),At(t),o&512&&(Xe||a===null||yn(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Xs]||d[rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(o),c.head.insertBefore(d,c.querySelector("head > title"))),ot(d,o,a),d[rt]=t,et(d),o=d;break e;case"link":var g=Zy("link","href",c).get(o+(a.href||""));if(g){for(var v=0;v<g.length;v++)if(d=g[v],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(v,1);break t}}d=c.createElement(o),ot(d,o,a),c.head.appendChild(d);break;case"meta":if(g=Zy("meta","content",c).get(o+(a.content||""))){for(v=0;v<g.length;v++)if(d=g[v],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(v,1);break t}}d=c.createElement(o),ot(d,o,a),c.head.appendChild(d);break;default:throw Error(s(468,o))}d[rt]=t,et(d),o=d}t.stateNode=o}else Jy(c,t.type,t.stateNode);else t.stateNode=$y(c,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Jy(c,t.type,t.stateNode):$y(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:Rt(i,t),At(t),o&512&&(Xe||a===null||yn(a,a.return)),a!==null&&o&4&&ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Rt(i,t),At(t),o&512&&(Xe||a===null||yn(a,a.return)),t.flags&32){c=t.stateNode;try{Pr(c,"")}catch(Q){Te(t,t.return,Q)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,ad(t,c,a!==null?a.memoizedProps:c)),o&1024&&(ud=!0);break;case 6:if(Rt(i,t),At(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(Q){Te(t,t.return,Q)}}break;case 3:if(Wo=null,c=an,an=Qo(i.containerInfo),Rt(i,t),an=c,At(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ms(i.containerInfo)}catch(Q){Te(t,t.return,Q)}ud&&(ud=!1,J_(t));break;case 4:o=an,an=Qo(t.stateNode.containerInfo),Rt(i,t),At(t),an=o;break;case 12:Rt(i,t),At(t);break;case 31:Rt(i,t),At(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,xo(t,o)));break;case 13:Rt(i,t),At(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lo=It()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,xo(t,o)));break;case 22:c=t.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,N=Un,x=Xe;if(Un=N||c,Xe=x||S,Rt(i,t),Xe=x,Un=N,At(t),o&8192)e:for(i=t.stateNode,i._visibility=c?i._visibility&-2:i._visibility|1,c&&(a===null||S||Un||Xe||mr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){S=a=i;try{if(d=S.stateNode,c)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=S.stateNode;var U=S.memoizedProps.style,D=U!=null&&U.hasOwnProperty("display")?U.display:null;v.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(Q){Te(S,S.return,Q)}}}else if(i.tag===6){if(a===null){S=i;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(Q){Te(S,S.return,Q)}}}else if(i.tag===18){if(a===null){S=i;try{var I=S.stateNode;c?qy(I,!0):qy(S.stateNode,!1)}catch(Q){Te(S,S.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,xo(t,a))));break;case 19:Rt(i,t),At(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,xo(t,o)));break;case 30:break;case 21:break;default:Rt(i,t),At(t)}}function At(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(F_(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,d=ld(t);Mo(t,d,c);break;case 5:var g=a.stateNode;a.flags&32&&(Pr(g,""),a.flags&=-33);var v=ld(t);Mo(t,v,g);break;case 3:case 4:var S=a.stateNode.containerInfo,N=ld(t);od(t,N,S);break;default:throw Error(s(161))}}catch(x){Te(t,t.return,x)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function J_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;J_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Pn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Q_(t,i.alternate,i),i=i.sibling}function mr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:yi(4,i,i.return),mr(i);break;case 1:yn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&q_(i,i.return,a),mr(i);break;case 27:Ma(i.stateNode);case 26:case 5:yn(i,i.return),mr(i);break;case 22:i.memoizedState===null&&mr(i);break;case 30:mr(i);break;default:mr(i)}t=t.sibling}}function Hn(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,c=t,d=i,g=d.flags;switch(d.tag){case 0:case 11:case 15:Hn(c,d,a),ba(4,d);break;case 1:if(Hn(c,d,a),o=d,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){Te(o,o.return,N)}if(o=d,c=o.updateQueue,c!==null){var v=o.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)Dg(S[c],v)}catch(N){Te(o,o.return,N)}}a&&g&64&&j_(d),Ca(d,d.return);break;case 27:G_(d);case 26:case 5:Hn(c,d,a),a&&o===null&&g&4&&V_(d),Ca(d,d.return);break;case 12:Hn(c,d,a);break;case 31:Hn(c,d,a),a&&g&4&&X_(c,d);break;case 13:Hn(c,d,a),a&&g&4&&$_(c,d);break;case 22:d.memoizedState===null&&Hn(c,d,a),Ca(d,d.return);break;case 30:break;default:Hn(c,d,a)}i=i.sibling}}function cd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ua(a))}function fd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ua(t))}function ln(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ey(t,i,a,o),i=i.sibling}function ey(t,i,a,o){var c=i.flags;switch(i.tag){case 0:case 11:case 15:ln(t,i,a,o),c&2048&&ba(9,i);break;case 1:ln(t,i,a,o);break;case 3:ln(t,i,a,o),c&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ua(t)));break;case 12:if(c&2048){ln(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,g=d.id,v=d.onPostCommit;typeof v=="function"&&v(g,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Te(i,i.return,S)}}else ln(t,i,a,o);break;case 31:ln(t,i,a,o);break;case 13:ln(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,g=i.alternate,i.memoizedState!==null?d._visibility&2?ln(t,i,a,o):Ta(t,i):d._visibility&2?ln(t,i,a,o):(d._visibility|=2,rs(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),c&2048&&cd(g,i);break;case 24:ln(t,i,a,o),c&2048&&fd(i.alternate,i);break;default:ln(t,i,a,o)}}function rs(t,i,a,o,c){for(c=c&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,g=i,v=a,S=o,N=g.flags;switch(g.tag){case 0:case 11:case 15:rs(d,g,v,S,c),ba(8,g);break;case 23:break;case 22:var x=g.stateNode;g.memoizedState!==null?x._visibility&2?rs(d,g,v,S,c):Ta(d,g):(x._visibility|=2,rs(d,g,v,S,c)),c&&N&2048&&cd(g.alternate,g);break;case 24:rs(d,g,v,S,c),c&&N&2048&&fd(g.alternate,g);break;default:rs(d,g,v,S,c)}i=i.sibling}}function Ta(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,c=o.flags;switch(o.tag){case 22:Ta(a,o),c&2048&&cd(o.alternate,o);break;case 24:Ta(a,o),c&2048&&fd(o.alternate,o);break;default:Ta(a,o)}i=i.sibling}}var wa=8192;function ss(t,i,a){if(t.subtreeFlags&wa)for(t=t.child;t!==null;)ty(t,i,a),t=t.sibling}function ty(t,i,a){switch(t.tag){case 26:ss(t,i,a),t.flags&wa&&t.memoizedState!==null&&p1(a,an,t.memoizedState,t.memoizedProps);break;case 5:ss(t,i,a);break;case 3:case 4:var o=an;an=Qo(t.stateNode.containerInfo),ss(t,i,a),an=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=wa,wa=16777216,ss(t,i,a),wa=o):ss(t,i,a));break;default:ss(t,i,a)}}function ny(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ra(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];tt=o,ry(o,t)}ny(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iy(t),t=t.sibling}function iy(t){switch(t.tag){case 0:case 11:case 15:Ra(t),t.flags&2048&&yi(9,t,t.return);break;case 3:Ra(t);break;case 12:Ra(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,ko(t)):Ra(t);break;default:Ra(t)}}function ko(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];tt=o,ry(o,t)}ny(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:yi(8,i,i.return),ko(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ko(i));break;default:ko(i)}t=t.sibling}}function ry(t,i){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:yi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ua(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,tt=o;else e:for(a=t;tt!==null;){o=tt;var c=o.sibling,d=o.return;if(K_(o),o===a){tt=null;break e}if(c!==null){c.return=d,tt=c;break e}tt=d}}}var OT={getCacheForType:function(t){var i=at(Qe),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return at(Qe).controller.signal}},DT=typeof WeakMap=="function"?WeakMap:Map,Se=0,Me=null,de=null,me=0,Ce=0,Pt=null,vi=!1,as=!1,dd=!1,Bn=0,Be=0,Ei=0,gr=0,hd=0,Ht=0,ls=0,Aa=null,Nt=null,pd=!1,Lo=0,sy=0,Uo=1/0,zo=null,Si=null,$e=0,bi=null,os=null,jn=0,md=0,gd=null,ay=null,Na=0,_d=null;function Bt(){return(Se&2)!==0&&me!==0?me&-me:k.T!==null?Cd():bm()}function ly(){if(Ht===0)if((me&536870912)===0||_e){var t=Fl;Fl<<=1,(Fl&3932160)===0&&(Fl=262144),Ht=t}else Ht=536870912;return t=Ut.current,t!==null&&(t.flags|=32),Ht}function Ot(t,i,a){(t===Me&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)&&(us(t,0),Ci(t,me,Ht,!1)),Ws(t,a),((Se&2)===0||t!==Me)&&(t===Me&&((Se&2)===0&&(gr|=a),Be===4&&Ci(t,me,Ht,!1)),vn(t))}function oy(t,i,a){if((Se&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Ks(t,i),c=o?xT(t,i):vd(t,i,!0),d=o;do{if(c===0){as&&!o&&Ci(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!IT(a)){c=vd(t,i,!1),d=!1;continue}if(c===2){if(d=i,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){i=g;e:{var v=t;c=Aa;var S=v.current.memoizedState.isDehydrated;if(S&&(us(v,g).flags|=256),g=vd(v,g,!1),g!==2){if(dd&&!S){v.errorRecoveryDisabledLanes|=d,gr|=d,c=4;break e}d=Nt,Nt=c,d!==null&&(Nt===null?Nt=d:Nt.push.apply(Nt,d))}c=g}if(d=!1,c!==2)continue}}if(c===1){us(t,0),Ci(t,i,0,!0);break}e:{switch(o=t,d=c,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ci(o,i,Ht,!vi);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(c=Lo+300-It(),10<c)){if(Ci(o,i,Ht,!vi),Yl(o,0,!0)!==0)break e;jn=i,o.timeoutHandle=Hy(uy.bind(null,o,a,Nt,zo,pd,i,Ht,gr,ls,vi,d,"Throttled",-0,0),c);break e}uy(o,a,Nt,zo,pd,i,Ht,gr,ls,vi,d,null,-0,0)}}break}while(!0);vn(t)}function uy(t,i,a,o,c,d,g,v,S,N,x,U,D,I){if(t.timeoutHandle=-1,U=i.subtreeFlags,U&8192||(U&16785408)===16785408){U={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},ty(i,d,U);var Q=(d&62914560)===d?Lo-It():(d&4194048)===d?sy-It():0;if(Q=m1(U,Q),Q!==null){jn=d,t.cancelPendingCommit=Q(_y.bind(null,t,i,d,a,o,c,g,v,S,x,U,null,D,I)),Ci(t,d,g,!N);return}}_y(t,i,d,a,o,c,g,v,S)}function IT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var c=a[o],d=c.getSnapshot;c=c.value;try{if(!kt(d(),c))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ci(t,i,a,o){i&=~hd,i&=~gr,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var c=i;0<c;){var d=31-xt(c),g=1<<d;o[d]=-1,c&=~g}a!==0&&vm(t,a,i)}function Po(){return(Se&6)===0?(Oa(0),!1):!0}function yd(){if(de!==null){if(Ce===0)var t=de.return;else t=de,Dn=lr=null,kf(t),Jr=null,fa=0,t=de;for(;t!==null;)B_(t.alternate,t),t=t.return;de=null}}function us(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,$T(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),jn=0,yd(),Me=t,de=a=Nn(t.current,null),me=i,Ce=0,Pt=null,vi=!1,as=Ks(t,i),dd=!1,ls=Ht=hd=gr=Ei=Be=0,Nt=Aa=null,pd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var c=31-xt(o),d=1<<c;i|=t[c],o&=~d}return Bn=i,ro(),a}function cy(t,i){ae=null,k.H=va,i===Zr||i===ho?(i=Rg(),Ce=3):i===bf?(i=Rg(),Ce=4):Ce=i===Xf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pt=i,de===null&&(Be=1,Ao(t,Qt(i,t.current)))}function fy(){var t=Ut.current;return t===null?!0:(me&4194048)===me?$t===null:(me&62914560)===me||(me&536870912)!==0?t===$t:!1}function dy(){var t=k.H;return k.H=va,t===null?va:t}function hy(){var t=k.A;return k.A=OT,t}function Ho(){Be=4,vi||(me&4194048)!==me&&Ut.current!==null||(as=!0),(Ei&134217727)===0&&(gr&134217727)===0||Me===null||Ci(Me,me,Ht,!1)}function vd(t,i,a){var o=Se;Se|=2;var c=dy(),d=hy();(Me!==t||me!==i)&&(zo=null,us(t,i)),i=!1;var g=Be;e:do try{if(Ce!==0&&de!==null){var v=de,S=Pt;switch(Ce){case 8:yd(),g=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(i=!0);var N=Ce;if(Ce=0,Pt=null,cs(t,v,S,N),a&&as){g=0;break e}break;default:N=Ce,Ce=0,Pt=null,cs(t,v,S,N)}}MT(),g=Be;break}catch(x){cy(t,x)}while(!0);return i&&t.shellSuspendCounter++,Dn=lr=null,Se=o,k.H=c,k.A=d,de===null&&(Me=null,me=0,ro()),g}function MT(){for(;de!==null;)py(de)}function xT(t,i){var a=Se;Se|=2;var o=dy(),c=hy();Me!==t||me!==i?(zo=null,Uo=It()+500,us(t,i)):as=Ks(t,i);e:do try{if(Ce!==0&&de!==null){i=de;var d=Pt;t:switch(Ce){case 1:Ce=0,Pt=null,cs(t,i,d,1);break;case 2:case 9:if(Tg(d)){Ce=0,Pt=null,my(i);break}i=function(){Ce!==2&&Ce!==9||Me!==t||(Ce=7),vn(t)},d.then(i,i);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Tg(d)?(Ce=0,Pt=null,my(i)):(Ce=0,Pt=null,cs(t,i,d,7));break;case 5:var g=null;switch(de.tag){case 26:g=de.memoizedState;case 5:case 27:var v=de;if(g?ev(g):v.stateNode.complete){Ce=0,Pt=null;var S=v.sibling;if(S!==null)de=S;else{var N=v.return;N!==null?(de=N,Bo(N)):de=null}break t}}Ce=0,Pt=null,cs(t,i,d,5);break;case 6:Ce=0,Pt=null,cs(t,i,d,6);break;case 8:yd(),Be=6;break e;default:throw Error(s(462))}}kT();break}catch(x){cy(t,x)}while(!0);return Dn=lr=null,k.H=o,k.A=c,Se=a,de!==null?0:(Me=null,me=0,ro(),Be)}function kT(){for(;de!==null&&!iC();)py(de)}function py(t){var i=P_(t.alternate,t,Bn);t.memoizedProps=t.pendingProps,i===null?Bo(t):de=i}function my(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=M_(a,i,i.pendingProps,i.type,void 0,me);break;case 11:i=M_(a,i,i.pendingProps,i.type.render,i.ref,me);break;case 5:kf(i);default:B_(a,i),i=de=hg(i,Bn),i=P_(a,i,Bn)}t.memoizedProps=t.pendingProps,i===null?Bo(t):de=i}function cs(t,i,a,o){Dn=lr=null,kf(i),Jr=null,fa=0;var c=i.return;try{if(bT(t,c,i,a,me)){Be=1,Ao(t,Qt(a,t.current)),de=null;return}}catch(d){if(c!==null)throw de=c,d;Be=1,Ao(t,Qt(a,t.current)),de=null;return}i.flags&32768?(_e||o===1?t=!0:as||(me&536870912)!==0?t=!1:(vi=t=!0,(o===2||o===9||o===3||o===6)&&(o=Ut.current,o!==null&&o.tag===13&&(o.flags|=16384))),gy(i,t)):Bo(i)}function Bo(t){var i=t;do{if((i.flags&32768)!==0){gy(i,vi);return}t=i.return;var a=wT(i.alternate,i,Bn);if(a!==null){de=a;return}if(i=i.sibling,i!==null){de=i;return}de=i=t}while(i!==null);Be===0&&(Be=5)}function gy(t,i){do{var a=RT(t.alternate,t);if(a!==null){a.flags&=32767,de=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){de=t;return}de=t=a}while(t!==null);Be=6,de=null}function _y(t,i,a,o,c,d,g,v,S){t.cancelPendingCommit=null;do jo();while($e!==0);if((Se&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=lf,hC(t,a,d,g,v,S),t===Me&&(de=Me=null,me=0),os=i,bi=t,jn=a,md=d,gd=c,ay=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,PT(ql,function(){return by(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=k.T,k.T=null,c=F.p,F.p=2,g=Se,Se|=4;try{AT(t,i,a)}finally{Se=g,F.p=c,k.T=o}}$e=1,yy(),vy(),Ey()}}function yy(){if($e===1){$e=0;var t=bi,i=os,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var o=F.p;F.p=2;var c=Se;Se|=4;try{Z_(i,t);var d=Id,g=rg(t.containerInfo),v=d.focusedElem,S=d.selectionRange;if(g!==v&&v&&v.ownerDocument&&ig(v.ownerDocument.documentElement,v)){if(S!==null&&tf(v)){var N=S.start,x=S.end;if(x===void 0&&(x=N),"selectionStart"in v)v.selectionStart=N,v.selectionEnd=Math.min(x,v.value.length);else{var U=v.ownerDocument||document,D=U&&U.defaultView||window;if(D.getSelection){var I=D.getSelection(),Q=v.textContent.length,J=Math.min(S.start,Q),Ne=S.end===void 0?J:Math.min(S.end,Q);!I.extend&&J>Ne&&(g=Ne,Ne=J,J=g);var w=ng(v,J),b=ng(v,Ne);if(w&&b&&(I.rangeCount!==1||I.anchorNode!==w.node||I.anchorOffset!==w.offset||I.focusNode!==b.node||I.focusOffset!==b.offset)){var A=U.createRange();A.setStart(w.node,w.offset),I.removeAllRanges(),J>Ne?(I.addRange(A),I.extend(b.node,b.offset)):(A.setEnd(b.node,b.offset),I.addRange(A))}}}}for(U=[],I=v;I=I.parentNode;)I.nodeType===1&&U.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<U.length;v++){var L=U[v];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Jo=!!Dd,Id=Dd=null}finally{Se=c,F.p=o,k.T=a}}t.current=i,$e=2}}function vy(){if($e===2){$e=0;var t=bi,i=os,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var o=F.p;F.p=2;var c=Se;Se|=4;try{Q_(t,i.alternate,i)}finally{Se=c,F.p=o,k.T=a}}$e=3}}function Ey(){if($e===4||$e===3){$e=0,rC();var t=bi,i=os,a=jn,o=ay;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$e=5:($e=0,os=bi=null,Sy(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Si=null),Uc(a),i=i.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Qs,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=k.T,c=F.p,F.p=2,k.T=null;try{for(var d=t.onRecoverableError,g=0;g<o.length;g++){var v=o[g];d(v.value,{componentStack:v.stack})}}finally{k.T=i,F.p=c}}(jn&3)!==0&&jo(),vn(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===_d?Na++:(Na=0,_d=t):Na=0,Oa(0)}}function Sy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ua(i)))}function jo(){return yy(),vy(),Ey(),by()}function by(){if($e!==5)return!1;var t=bi,i=md;md=0;var a=Uc(jn),o=k.T,c=F.p;try{F.p=32>a?32:a,k.T=null,a=gd,gd=null;var d=bi,g=jn;if($e=0,os=bi=null,jn=0,(Se&6)!==0)throw Error(s(331));var v=Se;if(Se|=4,iy(d.current),ey(d,d.current,g,a),Se=v,Oa(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Qs,d)}catch{}return!0}finally{F.p=c,k.T=o,Sy(t,i)}}function Cy(t,i,a){i=Qt(a,i),i=Wf(t.stateNode,i,2),t=mi(t,i,2),t!==null&&(Ws(t,2),vn(t))}function Te(t,i,a){if(t.tag===3)Cy(t,t,a);else for(;i!==null;){if(i.tag===3){Cy(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Si===null||!Si.has(o))){t=Qt(a,t),a=T_(2),o=mi(i,a,2),o!==null&&(w_(a,o,i,t),Ws(o,2),vn(o));break}}i=i.return}}function Ed(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new DT;var c=new Set;o.set(i,c)}else c=o.get(i),c===void 0&&(c=new Set,o.set(i,c));c.has(a)||(dd=!0,c.add(a),t=LT.bind(null,t,i,a),i.then(t,t))}function LT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Me===t&&(me&a)===a&&(Be===4||Be===3&&(me&62914560)===me&&300>It()-Lo?(Se&2)===0&&us(t,0):hd|=a,ls===me&&(ls=0)),vn(t)}function Ty(t,i){i===0&&(i=ym()),t=rr(t,i),t!==null&&(Ws(t,i),vn(t))}function UT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Ty(t,a)}function zT(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Ty(t,a)}function PT(t,i){return Mc(t,i)}var qo=null,fs=null,Sd=!1,Vo=!1,bd=!1,Ti=0;function vn(t){t!==fs&&t.next===null&&(fs===null?qo=fs=t:fs=fs.next=t),Vo=!0,Sd||(Sd=!0,BT())}function Oa(t,i){if(!bd&&Vo){bd=!0;do for(var a=!1,o=qo;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var d=0;else{var g=o.suspendedLanes,v=o.pingedLanes;d=(1<<31-xt(42|t)+1)-1,d&=c&~(g&~v),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ny(o,d))}else d=me,d=Yl(o,o===Me?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Ks(o,d)||(a=!0,Ny(o,d));o=o.next}while(a);bd=!1}}function HT(){wy()}function wy(){Vo=Sd=!1;var t=0;Ti!==0&&XT()&&(t=Ti);for(var i=It(),a=null,o=qo;o!==null;){var c=o.next,d=Ry(o,i);d===0?(o.next=null,a===null?qo=c:a.next=c,c===null&&(fs=a)):(a=o,(t!==0||(d&3)!==0)&&(Vo=!0)),o=c}$e!==0&&$e!==5||Oa(t),Ti!==0&&(Ti=0)}function Ry(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-xt(d),v=1<<g,S=c[g];S===-1?((v&a)===0||(v&o)!==0)&&(c[g]=dC(v,i)):S<=i&&(t.expiredLanes|=v),d&=~v}if(i=Me,a=me,a=Yl(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&xc(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ks(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&xc(o),Uc(a)){case 2:case 8:a=gm;break;case 32:a=ql;break;case 268435456:a=_m;break;default:a=ql}return o=Ay.bind(null,t),a=Mc(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&xc(o),t.callbackPriority=2,t.callbackNode=null,2}function Ay(t,i){if($e!==0&&$e!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(jo()&&t.callbackNode!==a)return null;var o=me;return o=Yl(t,t===Me?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(oy(t,o,i),Ry(t,It()),t.callbackNode!=null&&t.callbackNode===a?Ay.bind(null,t):null)}function Ny(t,i){if(jo())return null;oy(t,i,!0)}function BT(){ZT(function(){(Se&6)!==0?Mc(mm,HT):wy()})}function Cd(){if(Ti===0){var t=Xr;t===0&&(t=Vl,Vl<<=1,(Vl&261888)===0&&(Vl=256)),Ti=t}return Ti}function Oy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xl(""+t)}function Dy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function jT(t,i,a,o,c){if(i==="submit"&&a&&a.stateNode===c){var d=Oy((c[Ct]||null).action),g=o.submitter;g&&(i=(i=g[Ct]||null)?Oy(i.formAction):g.getAttribute("formAction"),i!==null&&(d=i,g=null));var v=new eo("action","action",null,o,c);t.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ti!==0){var S=g?Dy(c,g):new FormData(c);Vf(a,{pending:!0,data:S,method:c.method,action:d},null,S)}}else typeof d=="function"&&(v.preventDefault(),S=g?Dy(c,g):new FormData(c),Vf(a,{pending:!0,data:S,method:c.method,action:d},d,S))},currentTarget:c}]})}}for(var Td=0;Td<af.length;Td++){var wd=af[Td],qT=wd.toLowerCase(),VT=wd[0].toUpperCase()+wd.slice(1);sn(qT,"on"+VT)}sn(lg,"onAnimationEnd"),sn(og,"onAnimationIteration"),sn(ug,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(sT,"onTransitionRun"),sn(aT,"onTransitionStart"),sn(lT,"onTransitionCancel"),sn(cg,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Da));function Iy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],c=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var g=o.length-1;0<=g;g--){var v=o[g],S=v.instance,N=v.currentTarget;if(v=v.listener,S!==d&&c.isPropagationStopped())break e;d=v,c.currentTarget=N;try{d(c)}catch(x){io(x)}c.currentTarget=null,d=S}else for(g=0;g<o.length;g++){if(v=o[g],S=v.instance,N=v.currentTarget,v=v.listener,S!==d&&c.isPropagationStopped())break e;d=v,c.currentTarget=N;try{d(c)}catch(x){io(x)}c.currentTarget=null,d=S}}}}function he(t,i){var a=i[zc];a===void 0&&(a=i[zc]=new Set);var o=t+"__bubble";a.has(o)||(My(i,t,2,!1),a.add(o))}function Rd(t,i,a){var o=0;i&&(o|=4),My(a,t,o,i)}var Fo="_reactListening"+Math.random().toString(36).slice(2);function Ad(t){if(!t[Fo]){t[Fo]=!0,wm.forEach(function(a){a!=="selectionchange"&&(FT.has(a)||Rd(a,!1,t),Rd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Fo]||(i[Fo]=!0,Rd("selectionchange",!1,i))}}function My(t,i,a,o){switch(lv(i)){case 2:var c=y1;break;case 8:c=v1;break;default:c=qd}a=c.bind(null,i,a,t),c=void 0,!Yc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(i,a,{capture:!0,passive:c}):t.addEventListener(i,a,!0):c!==void 0?t.addEventListener(i,a,{passive:c}):t.addEventListener(i,a,!1)}function Nd(t,i,a,o,c){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===c)break;if(g===4)for(g=o.return;g!==null;){var S=g.tag;if((S===3||S===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;v!==null;){if(g=xr(v),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){o=d=g;continue e}v=v.parentNode}}o=o.return}zm(function(){var N=d,x=Fc(a),U=[];e:{var D=fg.get(t);if(D!==void 0){var I=eo,Q=t;switch(t){case"keypress":if(Zl(a)===0)break e;case"keydown":case"keyup":I=zC;break;case"focusin":Q="focus",I=Xc;break;case"focusout":Q="blur",I=Xc;break;case"beforeblur":case"afterblur":I=Xc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=wC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=BC;break;case lg:case og:case ug:I=NC;break;case cg:I=qC;break;case"scroll":case"scrollend":I=CC;break;case"wheel":I=FC;break;case"copy":case"cut":case"paste":I=DC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=qm;break;case"toggle":case"beforetoggle":I=YC}var J=(i&4)!==0,Ne=!J&&(t==="scroll"||t==="scrollend"),w=J?D!==null?D+"Capture":null:D;J=[];for(var b=N,A;b!==null;){var L=b;if(A=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||A===null||w===null||(L=Zs(b,w),L!=null&&J.push(Ia(b,L,A))),Ne)break;b=b.return}0<J.length&&(D=new I(D,Q,null,a,x),U.push({event:D,listeners:J}))}}if((i&7)===0){e:{if(D=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",D&&a!==Vc&&(Q=a.relatedTarget||a.fromElement)&&(xr(Q)||Q[Mr]))break e;if((I||D)&&(D=x.window===x?x:(D=x.ownerDocument)?D.defaultView||D.parentWindow:window,I?(Q=a.relatedTarget||a.toElement,I=N,Q=Q?xr(Q):null,Q!==null&&(Ne=u(Q),J=Q.tag,Q!==Ne||J!==5&&J!==27&&J!==6)&&(Q=null)):(I=null,Q=N),I!==Q)){if(J=Bm,L="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(J=qm,L="onPointerLeave",w="onPointerEnter",b="pointer"),Ne=I==null?D:$s(I),A=Q==null?D:$s(Q),D=new J(L,b+"leave",I,a,x),D.target=Ne,D.relatedTarget=A,L=null,xr(x)===N&&(J=new J(w,b+"enter",Q,a,x),J.target=A,J.relatedTarget=Ne,L=J),Ne=L,I&&Q)t:{for(J=GT,w=I,b=Q,A=0,L=w;L;L=J(L))A++;L=0;for(var Z=b;Z;Z=J(Z))L++;for(;0<A-L;)w=J(w),A--;for(;0<L-A;)b=J(b),L--;for(;A--;){if(w===b||b!==null&&w===b.alternate){J=w;break t}w=J(w),b=J(b)}J=null}else J=null;I!==null&&xy(U,D,I,J,!1),Q!==null&&Ne!==null&&xy(U,Ne,Q,J,!0)}}e:{if(D=N?$s(N):window,I=D.nodeName&&D.nodeName.toLowerCase(),I==="select"||I==="input"&&D.type==="file")var ye=Xm;else if(Km(D))if($m)ye=nT;else{ye=eT;var X=JC}else I=D.nodeName,!I||I.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?N&&qc(N.elementType)&&(ye=Xm):ye=tT;if(ye&&(ye=ye(t,N))){Wm(U,ye,a,x);break e}X&&X(t,D,N),t==="focusout"&&N&&D.type==="number"&&N.memoizedProps.value!=null&&jc(D,"number",D.value)}switch(X=N?$s(N):window,t){case"focusin":(Km(X)||X.contentEditable==="true")&&(qr=X,nf=N,aa=null);break;case"focusout":aa=nf=qr=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,sg(U,a,x);break;case"selectionchange":if(rT)break;case"keydown":case"keyup":sg(U,a,x)}var le;if(Zc)e:{switch(t){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else jr?Ym(t,a)&&(ge="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ge="onCompositionStart");ge&&(Vm&&a.locale!=="ko"&&(jr||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&jr&&(le=Pm()):(oi=x,Qc="value"in oi?oi.value:oi.textContent,jr=!0)),X=Go(N,ge),0<X.length&&(ge=new jm(ge,t,null,a,x),U.push({event:ge,listeners:X}),le?ge.data=le:(le=Qm(a),le!==null&&(ge.data=le)))),(le=KC?WC(t,a):XC(t,a))&&(ge=Go(N,"onBeforeInput"),0<ge.length&&(X=new jm("onBeforeInput","beforeinput",null,a,x),U.push({event:X,listeners:ge}),X.data=le)),jT(U,t,N,a,x)}Iy(U,i)})}function Ia(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Go(t,i){for(var a=i+"Capture",o=[];t!==null;){var c=t,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Zs(t,a),c!=null&&o.unshift(Ia(t,c,d)),c=Zs(t,i),c!=null&&o.push(Ia(t,c,d))),t.tag===3)return o;t=t.return}return[]}function GT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xy(t,i,a,o,c){for(var d=i._reactName,g=[];a!==null&&a!==o;){var v=a,S=v.alternate,N=v.stateNode;if(v=v.tag,S!==null&&S===o)break;v!==5&&v!==26&&v!==27||N===null||(S=N,c?(N=Zs(a,d),N!=null&&g.unshift(Ia(a,N,S))):c||(N=Zs(a,d),N!=null&&g.push(Ia(a,N,S)))),a=a.return}g.length!==0&&t.push({event:i,listeners:g})}var YT=/\r\n?/g,QT=/\u0000|\uFFFD/g;function ky(t){return(typeof t=="string"?t:""+t).replace(YT,`
`).replace(QT,"")}function Ly(t,i){return i=ky(i),ky(t)===i}function Ae(t,i,a,o,c,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Pr(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Pr(t,""+o);break;case"className":Kl(t,"class",o);break;case"tabIndex":Kl(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Kl(t,a,o);break;case"style":Lm(t,o,d);break;case"data":if(i!=="object"){Kl(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Xl(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ae(t,i,"name",c.name,c,null),Ae(t,i,"formEncType",c.formEncType,c,null),Ae(t,i,"formMethod",c.formMethod,c,null),Ae(t,i,"formTarget",c.formTarget,c,null)):(Ae(t,i,"encType",c.encType,c,null),Ae(t,i,"method",c.method,c,null),Ae(t,i,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Xl(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Rn);break;case"onScroll":o!=null&&he("scroll",t);break;case"onScrollEnd":o!=null&&he("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Xl(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":he("beforetoggle",t),he("toggle",t),Ql(t,"popover",o);break;case"xlinkActuate":wn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":wn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":wn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":wn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":wn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":wn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":wn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":wn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":wn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ql(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=SC.get(a)||a,Ql(t,a,o))}}function Od(t,i,a,o,c,d){switch(a){case"style":Lm(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Pr(t,o):(typeof o=="number"||typeof o=="bigint")&&Pr(t,""+o);break;case"onScroll":o!=null&&he("scroll",t);break;case"onScrollEnd":o!=null&&he("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rm.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),i=a.slice(2,c?a.length-7:void 0),d=t[Ct]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,c),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,c);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ql(t,a,o)}}}function ot(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",t),he("load",t);var o=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ae(t,i,d,g,a,null)}}c&&Ae(t,i,"srcSet",a.srcSet,a,null),o&&Ae(t,i,"src",a.src,a,null);return;case"input":he("invalid",t);var v=d=g=c=null,S=null,N=null;for(o in a)if(a.hasOwnProperty(o)){var x=a[o];if(x!=null)switch(o){case"name":c=x;break;case"type":g=x;break;case"checked":S=x;break;case"defaultChecked":N=x;break;case"value":d=x;break;case"defaultValue":v=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(137,i));break;default:Ae(t,i,o,x,a,null)}}Im(t,d,v,S,N,g,c,!1);return;case"select":he("invalid",t),o=g=d=null;for(c in a)if(a.hasOwnProperty(c)&&(v=a[c],v!=null))switch(c){case"value":d=v;break;case"defaultValue":g=v;break;case"multiple":o=v;default:Ae(t,i,c,v,a,null)}i=d,a=g,t.multiple=!!o,i!=null?zr(t,!!o,i,!1):a!=null&&zr(t,!!o,a,!0);return;case"textarea":he("invalid",t),d=c=o=null;for(g in a)if(a.hasOwnProperty(g)&&(v=a[g],v!=null))switch(g){case"value":o=v;break;case"defaultValue":c=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:Ae(t,i,g,v,a,null)}xm(t,o,c,d);return;case"option":for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null)&&(S==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":Ae(t,i,S,o,a,null));return;case"dialog":he("beforetoggle",t),he("toggle",t),he("cancel",t),he("close",t);break;case"iframe":case"object":he("load",t);break;case"video":case"audio":for(o=0;o<Da.length;o++)he(Da[o],t);break;case"image":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"embed":case"source":case"link":he("error",t),he("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ae(t,i,N,o,a,null)}return;default:if(qc(i)){for(x in a)a.hasOwnProperty(x)&&(o=a[x],o!==void 0&&Od(t,i,x,o,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(o=a[v],o!=null&&Ae(t,i,v,o,a,null))}function KT(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,v=null,S=null,N=null,x=null;for(I in a){var U=a[I];if(a.hasOwnProperty(I)&&U!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":S=U;default:o.hasOwnProperty(I)||Ae(t,i,I,null,o,U)}}for(var D in o){var I=o[D];if(U=a[D],o.hasOwnProperty(D)&&(I!=null||U!=null))switch(D){case"type":d=I;break;case"name":c=I;break;case"checked":N=I;break;case"defaultChecked":x=I;break;case"value":g=I;break;case"defaultValue":v=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,i));break;default:I!==U&&Ae(t,i,D,I,o,U)}}Bc(t,g,v,S,N,x,d,c);return;case"select":I=g=v=D=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":I=S;default:o.hasOwnProperty(d)||Ae(t,i,d,null,o,S)}for(c in o)if(d=o[c],S=a[c],o.hasOwnProperty(c)&&(d!=null||S!=null))switch(c){case"value":D=d;break;case"defaultValue":v=d;break;case"multiple":g=d;default:d!==S&&Ae(t,i,c,d,o,S)}i=v,a=g,o=I,D!=null?zr(t,!!a,D,!1):!!o!=!!a&&(i!=null?zr(t,!!a,i,!0):zr(t,!!a,a?[]:"",!1));return;case"textarea":I=D=null;for(v in a)if(c=a[v],a.hasOwnProperty(v)&&c!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ae(t,i,v,null,o,c)}for(g in o)if(c=o[g],d=a[g],o.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":D=c;break;case"defaultValue":I=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==d&&Ae(t,i,g,c,o,d)}Mm(t,D,I);return;case"option":for(var Q in a)D=a[Q],a.hasOwnProperty(Q)&&D!=null&&!o.hasOwnProperty(Q)&&(Q==="selected"?t.selected=!1:Ae(t,i,Q,null,o,D));for(S in o)D=o[S],I=a[S],o.hasOwnProperty(S)&&D!==I&&(D!=null||I!=null)&&(S==="selected"?t.selected=D&&typeof D!="function"&&typeof D!="symbol":Ae(t,i,S,D,o,I));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var J in a)D=a[J],a.hasOwnProperty(J)&&D!=null&&!o.hasOwnProperty(J)&&Ae(t,i,J,null,o,D);for(N in o)if(D=o[N],I=a[N],o.hasOwnProperty(N)&&D!==I&&(D!=null||I!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,i));break;default:Ae(t,i,N,D,o,I)}return;default:if(qc(i)){for(var Ne in a)D=a[Ne],a.hasOwnProperty(Ne)&&D!==void 0&&!o.hasOwnProperty(Ne)&&Od(t,i,Ne,void 0,o,D);for(x in o)D=o[x],I=a[x],!o.hasOwnProperty(x)||D===I||D===void 0&&I===void 0||Od(t,i,x,D,o,I);return}}for(var w in a)D=a[w],a.hasOwnProperty(w)&&D!=null&&!o.hasOwnProperty(w)&&Ae(t,i,w,null,o,D);for(U in o)D=o[U],I=a[U],!o.hasOwnProperty(U)||D===I||D==null&&I==null||Ae(t,i,U,D,o,I)}function Uy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var c=a[o],d=c.transferSize,g=c.initiatorType,v=c.duration;if(d&&v&&Uy(g)){for(g=0,v=c.responseEnd,o+=1;o<a.length;o++){var S=a[o],N=S.startTime;if(N>v)break;var x=S.transferSize,U=S.initiatorType;x&&Uy(U)&&(S=S.responseEnd,g+=x*(S<v?1:(v-N)/(S-N)))}if(--o,i+=8*(d+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Dd=null,Id=null;function Yo(t){return t.nodeType===9?t:t.ownerDocument}function zy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Md(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xd=null;function XT(){var t=window.event;return t&&t.type==="popstate"?t===xd?!1:(xd=t,!0):(xd=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,$T=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,ZT=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(t){return By.resolve(null).then(t).catch(JT)}:Hy;function JT(t){setTimeout(function(){throw t})}function wi(t){return t==="head"}function jy(t,i){var a=i,o=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(c),ms(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Ma(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ma(a);for(var d=a.firstChild;d;){var g=d.nextSibling,v=d.nodeName;d[Xs]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=g}}else a==="body"&&Ma(t.ownerDocument.body);a=c}while(a);ms(i)}function qy(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function kd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kd(a),Pc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function e1(t,i,a,o){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Xs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Zt(t.nextSibling),t===null)break}return null}function t1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zt(t.nextSibling),t===null))return null;return t}function Vy(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Zt(t.nextSibling),t===null))return null;return t}function Ld(t){return t.data==="$?"||t.data==="$~"}function Ud(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function n1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Zt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var zd=null;function Fy(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Zt(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Gy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Yy(t,i,a){switch(i=Yo(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ma(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Pc(t)}var Jt=new Map,Qy=new Set;function Qo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qn=F.d;F.d={f:i1,r:r1,D:s1,C:a1,L:l1,m:o1,X:c1,S:u1,M:f1};function i1(){var t=qn.f(),i=Po();return t||i}function r1(t){var i=kr(t);i!==null&&i.tag===5&&i.type==="form"?c_(i):qn.r(t)}var ds=typeof document>"u"?null:document;function Ky(t,i,a){var o=ds;if(o&&typeof i=="string"&&i){var c=Gt(i);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Qy.has(c)||(Qy.add(c),t={rel:t,crossOrigin:a,href:i},o.querySelector(c)===null&&(i=o.createElement("link"),ot(i,"link",t),et(i),o.head.appendChild(i)))}}function s1(t){qn.D(t),Ky("dns-prefetch",t,null)}function a1(t,i){qn.C(t,i),Ky("preconnect",t,i)}function l1(t,i,a){qn.L(t,i,a);var o=ds;if(o&&t&&i){var c='link[rel="preload"][as="'+Gt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Gt(a.imageSizes)+'"]')):c+='[href="'+Gt(t)+'"]';var d=c;switch(i){case"style":d=hs(t);break;case"script":d=ps(t)}Jt.has(d)||(t=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Jt.set(d,t),o.querySelector(c)!==null||i==="style"&&o.querySelector(xa(d))||i==="script"&&o.querySelector(ka(d))||(i=o.createElement("link"),ot(i,"link",t),et(i),o.head.appendChild(i)))}}function o1(t,i){qn.m(t,i);var a=ds;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",c='link[rel="modulepreload"][as="'+Gt(o)+'"][href="'+Gt(t)+'"]',d=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ps(t)}if(!Jt.has(d)&&(t=_({rel:"modulepreload",href:t},i),Jt.set(d,t),a.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ka(d)))return}o=a.createElement("link"),ot(o,"link",t),et(o),a.head.appendChild(o)}}}function u1(t,i,a){qn.S(t,i,a);var o=ds;if(o&&t){var c=Lr(o).hoistableStyles,d=hs(t);i=i||"default";var g=c.get(d);if(!g){var v={loading:0,preload:null};if(g=o.querySelector(xa(d)))v.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Jt.get(d))&&Pd(t,a);var S=g=o.createElement("link");et(S),ot(S,"link",t),S._p=new Promise(function(N,x){S.onload=N,S.onerror=x}),S.addEventListener("load",function(){v.loading|=1}),S.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Ko(g,i,o)}g={type:"stylesheet",instance:g,count:1,state:v},c.set(d,g)}}}function c1(t,i){qn.X(t,i);var a=ds;if(a&&t){var o=Lr(a).hoistableScripts,c=ps(t),d=o.get(c);d||(d=a.querySelector(ka(c)),d||(t=_({src:t,async:!0},i),(i=Jt.get(c))&&Hd(t,i),d=a.createElement("script"),et(d),ot(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function f1(t,i){qn.M(t,i);var a=ds;if(a&&t){var o=Lr(a).hoistableScripts,c=ps(t),d=o.get(c);d||(d=a.querySelector(ka(c)),d||(t=_({src:t,async:!0,type:"module"},i),(i=Jt.get(c))&&Hd(t,i),d=a.createElement("script"),et(d),ot(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function Wy(t,i,a,o){var c=(c=fe.current)?Qo(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=hs(a.href),a=Lr(c).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=hs(a.href);var d=Lr(c).hoistableStyles,g=d.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=c.querySelector(xa(t)))&&!d._p&&(g.instance=d,g.state.loading=5),Jt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jt.set(t,a),d||d1(c,t,a,g.state))),i&&o===null)throw Error(s(528,""));return g}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ps(a),a=Lr(c).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function hs(t){return'href="'+Gt(t)+'"'}function xa(t){return'link[rel="stylesheet"]['+t+"]"}function Xy(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function d1(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),ot(i,"link",a),et(i),t.head.appendChild(i))}function ps(t){return'[src="'+Gt(t)+'"]'}function ka(t){return"script[async]"+t}function $y(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+Gt(a.href)+'"]');if(o)return i.instance=o,et(o),o;var c=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),et(o),ot(o,"style",c),Ko(o,a.precedence,t),i.instance=o;case"stylesheet":c=hs(a.href);var d=t.querySelector(xa(c));if(d)return i.state.loading|=4,i.instance=d,et(d),d;o=Xy(a),(c=Jt.get(c))&&Pd(o,c),d=(t.ownerDocument||t).createElement("link"),et(d);var g=d;return g._p=new Promise(function(v,S){g.onload=v,g.onerror=S}),ot(d,"link",o),i.state.loading|=4,Ko(d,a.precedence,t),i.instance=d;case"script":return d=ps(a.src),(c=t.querySelector(ka(d)))?(i.instance=c,et(c),c):(o=a,(c=Jt.get(d))&&(o=_({},a),Hd(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),et(c),ot(c,"link",o),t.head.appendChild(c),i.instance=c);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Ko(o,a.precedence,t));return i.instance}function Ko(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,d=c,g=0;g<o.length;g++){var v=o[g];if(v.dataset.precedence===i)d=v;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Hd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Wo=null;function Zy(t,i,a){if(Wo===null){var o=new Map,c=Wo=new Map;c.set(a,o)}else c=Wo,o=c.get(a),o||(o=new Map,c.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var d=a[c];if(!(d[Xs]||d[rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(i)||"";g=t+g;var v=o.get(g);v?v.push(d):o.set(g,[d])}}return o}function Jy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function h1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function p1(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=hs(o.href),d=i.querySelector(xa(c));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Xo.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,et(d);return}d=i.ownerDocument||i,o=Xy(o),(c=Jt.get(c))&&Pd(o,c),d=d.createElement("link"),et(d);var g=d;g._p=new Promise(function(v,S){g.onload=v,g.onerror=S}),ot(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Xo.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Bd=0;function m1(t,i){return t.stylesheets&&t.count===0&&Zo(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Zo(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Bd===0&&(Bd=62500*WT());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zo(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Bd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function Xo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $o=null;function Zo(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$o=new Map,i.forEach(g1,t),$o=null,Xo.call(t))}function g1(t,i){if(!(i.state.loading&4)){var a=$o.get(t);if(a)var o=a.get(null);else{a=new Map,$o.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}c=i.instance,g=c.getAttribute("data-precedence"),d=a.get(g)||o,d===o&&a.set(null,c),a.set(g,c),this.count++,o=Xo.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),i.state.loading|=4}}var La={$$typeof:B,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function _1(t,i,a,o,c,d,g,v,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.hiddenUpdates=kc(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function tv(t,i,a,o,c,d,g,v,S,N,x,U){return t=new _1(t,i,a,g,S,N,x,U,v),i=1,d===!0&&(i|=24),d=Lt(3,null,null,i),t.current=d,d.stateNode=t,i=vf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Cf(d),t}function nv(t){return t?(t=Gr,t):Gr}function iv(t,i,a,o,c,d){c=nv(c),o.context===null?o.context=c:o.pendingContext=c,o=pi(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=mi(t,o,i),a!==null&&(Ot(a,t,i),ha(a,t,i))}function rv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function jd(t,i){rv(t,i),(t=t.alternate)&&rv(t,i)}function sv(t){if(t.tag===13||t.tag===31){var i=rr(t,67108864);i!==null&&Ot(i,t,67108864),jd(t,67108864)}}function av(t){if(t.tag===13||t.tag===31){var i=Bt();i=Lc(i);var a=rr(t,i);a!==null&&Ot(a,t,i),jd(t,i)}}var Jo=!0;function y1(t,i,a,o){var c=k.T;k.T=null;var d=F.p;try{F.p=2,qd(t,i,a,o)}finally{F.p=d,k.T=c}}function v1(t,i,a,o){var c=k.T;k.T=null;var d=F.p;try{F.p=8,qd(t,i,a,o)}finally{F.p=d,k.T=c}}function qd(t,i,a,o){if(Jo){var c=Vd(o);if(c===null)Nd(t,i,o,eu,a),ov(t,o);else if(S1(c,t,i,a,o))o.stopPropagation();else if(ov(t,o),i&4&&-1<E1.indexOf(t)){for(;c!==null;){var d=kr(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Ji(d.pendingLanes);if(g!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var S=1<<31-xt(g);v.entanglements[1]|=S,g&=~S}vn(d),(Se&6)===0&&(Uo=It()+500,Oa(0))}}break;case 31:case 13:v=rr(d,2),v!==null&&Ot(v,d,2),Po(),jd(d,2)}if(d=Vd(o),d===null&&Nd(t,i,o,eu,a),d===c)break;c=d}c!==null&&o.stopPropagation()}else Nd(t,i,o,null,a)}}function Vd(t){return t=Fc(t),Fd(t)}var eu=null;function Fd(t){if(eu=null,t=xr(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=h(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return eu=t,null}function lv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sC()){case mm:return 2;case gm:return 8;case ql:case aC:return 32;case _m:return 268435456;default:return 32}default:return 32}}var Gd=!1,Ri=null,Ai=null,Ni=null,Ua=new Map,za=new Map,Oi=[],E1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ov(t,i){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Ua.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":za.delete(i.pointerId)}}function Pa(t,i,a,o,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},i!==null&&(i=kr(i),i!==null&&sv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),t)}function S1(t,i,a,o,c){switch(i){case"focusin":return Ri=Pa(Ri,t,i,a,o,c),!0;case"dragenter":return Ai=Pa(Ai,t,i,a,o,c),!0;case"mouseover":return Ni=Pa(Ni,t,i,a,o,c),!0;case"pointerover":var d=c.pointerId;return Ua.set(d,Pa(Ua.get(d)||null,t,i,a,o,c)),!0;case"gotpointercapture":return d=c.pointerId,za.set(d,Pa(za.get(d)||null,t,i,a,o,c)),!0}return!1}function uv(t){var i=xr(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Cm(t.priority,function(){av(a)});return}}else if(i===31){if(i=h(a),i!==null){t.blockedOn=i,Cm(t.priority,function(){av(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Vd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Vc=o,a.target.dispatchEvent(o),Vc=null}else return i=kr(a),i!==null&&sv(i),t.blockedOn=a,!1;i.shift()}return!0}function cv(t,i,a){tu(t)&&a.delete(i)}function b1(){Gd=!1,Ri!==null&&tu(Ri)&&(Ri=null),Ai!==null&&tu(Ai)&&(Ai=null),Ni!==null&&tu(Ni)&&(Ni=null),Ua.forEach(cv),za.forEach(cv)}function nu(t,i){t.blockedOn===i&&(t.blockedOn=null,Gd||(Gd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,b1)))}var iu=null;function fv(t){iu!==t&&(iu=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){iu===t&&(iu=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],c=t[i+2];if(typeof o!="function"){if(Fd(o||a)===null)continue;break}var d=kr(a);d!==null&&(t.splice(i,3),i-=3,Vf(d,{pending:!0,data:c,method:a.method,action:o},o,c))}}))}function ms(t){function i(S){return nu(S,t)}Ri!==null&&nu(Ri,t),Ai!==null&&nu(Ai,t),Ni!==null&&nu(Ni,t),Ua.forEach(i),za.forEach(i);for(var a=0;a<Oi.length;a++){var o=Oi[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Oi.length&&(a=Oi[0],a.blockedOn===null);)uv(a),a.blockedOn===null&&Oi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var c=a[o],d=a[o+1],g=c[Ct]||null;if(typeof d=="function")g||fv(a);else if(g){var v=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[Ct]||null)v=g.formAction;else if(Fd(c)!==null)continue}else v=g.action;typeof v=="function"?a[o+1]=v:(a.splice(o,3),o-=3),fv(a)}}}function dv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function i(){c!==null&&(c(),c=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),c!==null&&(c(),c=null)}}}function Yd(t){this._internalRoot=t}ru.prototype.render=Yd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=Bt();iv(a,o,t,i,null,null)},ru.prototype.unmount=Yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;iv(t.current,2,null,t,null,null),Po(),i[Mr]=null}};function ru(t){this._internalRoot=t}ru.prototype.unstable_scheduleHydration=function(t){if(t){var i=bm();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Oi.length&&i!==0&&i<Oi[a].priority;a++);Oi.splice(a,0,t),a===0&&uv(t)}};var hv=e.version;if(hv!=="19.2.3")throw Error(s(527,hv,"19.2.3"));F.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var C1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{Qs=su.inject(C1),Mt=su}catch{}}return Ba.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",c=E_,d=S_,g=b_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=tv(t,1,!1,null,null,a,o,null,c,d,g,dv),t[Mr]=i.current,Ad(t),new Yd(i)},Ba.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,c="",d=E_,g=S_,v=b_,S=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),i=tv(t,1,!0,i,a??null,o,c,S,d,g,v,dv),i.context=nv(null),a=i.current,o=Bt(),o=Lc(o),c=pi(o),c.callback=null,mi(a,c,o),a=o,i.current.lanes=a,Ws(i,a),vn(i),t[Mr]=i.current,Ad(t),new ru(i)},Ba.version="19.2.3",Ba}var Cv;function L1(){if(Cv)return Wd.exports;Cv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wd.exports=k1(),Wd.exports}var U1=L1();const z1="modulepreload",P1=function(n){return"/AC8_auth/"+n},Tv={},H1=function(e,r,s){let l=Promise.resolve();if(r&&r.length>0){let p=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=f?.nonce||f?.getAttribute("nonce");l=p(r.map(m=>{if(m=P1(m),m in Tv)return;Tv[m]=!0;const y=m.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":z1,y||(E.as="script"),E.crossOrigin="",E.href=m,h&&E.setAttribute("nonce",h),document.head.appendChild(E),y)return new Promise((T,O)=>{E.addEventListener("load",T),E.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return l.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return e().catch(u)})};var Jd={exports:{}},eh={};var wv;function B1(){if(wv)return eh;wv=1;var n=ec();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,l=n.useRef,u=n.useEffect,f=n.useMemo,h=n.useDebugValue;return eh.useSyncExternalStoreWithSelector=function(p,m,y,_,E){var T=l(null);if(T.current===null){var O={hasValue:!1,value:null};T.current=O}else O=T.current;T=f(function(){function P(K){if(!q){if(q=!0,j=K,K=_(K),E!==void 0&&O.hasValue){var oe=O.value;if(E(oe,K))return B=oe}return B=K}if(oe=B,r(j,K))return oe;var Y=_(K);return E!==void 0&&E(oe,Y)?(j=K,oe):(j=K,B=Y)}var q=!1,j,B,$=y===void 0?null:y;return[function(){return P(m())},$===null?void 0:function(){return P($())}]},[m,y,_,E]);var z=s(p,T[0],T[1]);return u(function(){O.hasValue=!0,O.value=z},[z]),h(z),z},eh}var Rv;function j1(){return Rv||(Rv=1,Jd.exports=B1()),Jd.exports}var q1=j1();function V1(n){n()}function F1(){let n=null,e=null;return{clear(){n=null,e=null},notify(){V1(()=>{let r=n;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=n;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const l=e={callback:r,next:null,prev:e};return l.prev?l.prev.next=l:n=l,function(){!s||n===null||(s=!1,l.next?l.next.prev=l.prev:e=l.prev,l.prev?l.prev.next=l.next:n=l.next)}}}}var Av={notify(){},get:()=>[]};function G1(n,e){let r,s=Av,l=0,u=!1;function f(z){y();const P=s.subscribe(z);let q=!1;return()=>{q||(q=!0,P(),_())}}function h(){s.notify()}function p(){O.onStateChange&&O.onStateChange()}function m(){return u}function y(){l++,r||(r=n.subscribe(p),s=F1())}function _(){l--,r&&l===0&&(r(),r=void 0,s.clear(),s=Av)}function E(){u||(u=!0,y())}function T(){u&&(u=!1,_())}const O={addNestedSub:f,notifyNestedSubs:h,handleChangeWrapper:p,isSubscribed:m,trySubscribe:E,tryUnsubscribe:T,getListeners:()=>s};return O}var Y1=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q1=Y1(),K1=()=>typeof navigator<"u"&&navigator.product==="ReactNative",W1=K1(),X1=()=>Q1||W1?R.useLayoutEffect:R.useEffect,$1=X1(),Z1=Symbol.for("react-redux-context"),J1=typeof globalThis<"u"?globalThis:{};function ew(){if(!R.createContext)return{};const n=J1[Z1]??=new Map;let e=n.get(R.createContext);return e||(e=R.createContext(null),n.set(R.createContext,e)),e}var Vi=ew();function tw(n){const{children:e,context:r,serverState:s,store:l}=n,u=R.useMemo(()=>{const p=G1(l);return{store:l,subscription:p,getServerState:s?()=>s:void 0}},[l,s]),f=R.useMemo(()=>l.getState(),[l]);$1(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),f!==l.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,f]);const h=r||Vi;return R.createElement(h.Provider,{value:u},e)}var nw=tw;function sp(n=Vi){return function(){return R.useContext(n)}}var aS=sp();function lS(n=Vi){const e=n===Vi?aS:sp(n),r=()=>{const{store:s}=e();return s};return Object.assign(r,{withTypes:()=>r}),r}var iw=lS();function rw(n=Vi){const e=n===Vi?iw:lS(n),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var sw=rw(),aw=(n,e)=>n===e;function lw(n=Vi){const e=n===Vi?aS:sp(n),r=(s,l={})=>{const{equalityFn:u=aw}=typeof l=="function"?{equalityFn:l}:l,f=e(),{store:h,subscription:p,getServerState:m}=f;R.useRef(!0);const y=R.useCallback({[s.name](E){return s(E)}}[s.name],[s]),_=q1.useSyncExternalStoreWithSelector(p.addNestedSub,h.getState,m||h.getState,y,u);return R.useDebugValue(_),_};return Object.assign(r,{withTypes:()=>r}),r}var Vn=lw();var Nv="popstate";function ow(n={}){function e(s,l){let{pathname:u,search:f,hash:h}=s.location;return bh("",{pathname:u,search:f,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:sl(l)}return cw(e,r,null,n)}function Pe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uw(){return Math.random().toString(36).substring(2,10)}function Ov(n,e){return{usr:n.state,key:n.key,idx:e}}function bh(n,e,r=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ls(e):e,state:r,key:e&&e.key||s||uw()}}function sl({pathname:n="/",search:e="",hash:r=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Ls(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substring(r),n=n.substring(0,r));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function cw(n,e,r,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,h="POP",p=null,m=y();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function y(){return(f.state||{idx:null}).idx}function _(){h="POP";let P=y(),q=P==null?null:P-m;m=P,p&&p({action:h,location:z.location,delta:q})}function E(P,q){h="PUSH";let j=bh(z.location,P,q);m=y()+1;let B=Ov(j,m),$=z.createHref(j);try{f.pushState(B,"",$)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;l.location.assign($)}u&&p&&p({action:h,location:z.location,delta:1})}function T(P,q){h="REPLACE";let j=bh(z.location,P,q);m=y();let B=Ov(j,m),$=z.createHref(j);f.replaceState(B,"",$),u&&p&&p({action:h,location:z.location,delta:0})}function O(P){return fw(P)}let z={get action(){return h},get location(){return n(l,f)},listen(P){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Nv,_),p=P,()=>{l.removeEventListener(Nv,_),p=null}},createHref(P){return e(l,P)},createURL:O,encodeLocation(P){let q=O(P);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:E,replace:T,go(P){return f.go(P)}};return z}function fw(n,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Pe(r,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:sl(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function oS(n,e,r="/"){return dw(n,e,r,!1)}function dw(n,e,r,s){let l=typeof e=="string"?Ls(e):e,u=ei(l.pathname||"/",r);if(u==null)return null;let f=uS(n);hw(f);let h=null;for(let p=0;h==null&&p<f.length;++p){let m=Tw(u);h=bw(f[p],m,s)}return h}function uS(n,e=[],r=[],s="",l=!1){let u=(f,h,p=l,m)=>{let y={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;Pe(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=Wn([s,y.relativePath]),E=r.concat(y);f.children&&f.children.length>0&&(Pe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),uS(f.children,e,E,_,p)),!(f.path==null&&!f.index)&&e.push({path:_,score:Ew(_,f.index),routesMeta:E})};return n.forEach((f,h)=>{if(f.path===""||!f.path?.includes("?"))u(f,h);else for(let p of cS(f.path))u(f,h,!0,p)}),e}function cS(n){let e=n.split("/");if(e.length===0)return[];let[r,...s]=e,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=cS(s.join("/")),h=[];return h.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&h.push(...f),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function hw(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:Sw(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var pw=/^:[\w-]+$/,mw=3,gw=2,_w=1,yw=10,vw=-2,Dv=n=>n==="*";function Ew(n,e){let r=n.split("/"),s=r.length;return r.some(Dv)&&(s+=vw),e&&(s+=gw),r.filter(l=>!Dv(l)).reduce((l,u)=>l+(pw.test(u)?mw:u===""?_w:yw),s)}function Sw(n,e){return n.length===e.length&&n.slice(0,-1).every((s,l)=>s===e[l])?n[n.length-1]-e[e.length-1]:0}function bw(n,e,r=!1){let{routesMeta:s}=n,l={},u="/",f=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,y=u==="/"?e:e.slice(u.length)||"/",_=bu({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),E=p.route;if(!_&&m&&r&&!s[s.length-1].route.index&&(_=bu({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(l,_.params),f.push({params:l,pathname:Wn([u,_.pathname]),pathnameBase:Nw(Wn([u,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(u=Wn([u,_.pathnameBase]))}return f}function bu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,s]=Cw(n.path,n.caseSensitive,n.end),l=e.match(r);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:_},E)=>{if(y==="*"){let O=h[E]||"";f=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const T=h[E];return _&&!T?m[y]=void 0:m[y]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:n}}function Cw(n,e=!1,r=!0){hn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function Tw(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ei(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=n.charAt(r);return s&&s!=="/"?null:n.slice(r)||"/"}var ww=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Rw(n,e="/"){let{pathname:r,search:s="",hash:l=""}=typeof n=="string"?Ls(n):n,u;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?u=Iv(r.substring(1),"/"):u=Iv(r,e)):u=e,{pathname:u,search:Ow(s),hash:Dw(l)}}function Iv(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function th(n,e,r,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Aw(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ap(n){let e=Aw(n);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function lp(n,e,r,s=!1){let l;typeof n=="string"?l=Ls(n):(l={...n},Pe(!l.pathname||!l.pathname.includes("?"),th("?","pathname","search",l)),Pe(!l.pathname||!l.pathname.includes("#"),th("#","pathname","hash",l)),Pe(!l.search||!l.search.includes("#"),th("#","search","hash",l)));let u=n===""||l.pathname==="",f=u?"/":l.pathname,h;if(f==null)h=r;else{let _=e.length-1;if(!s&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),_-=1;l.pathname=E.join("/")}h=_>=0?e[_]:"/"}let p=Rw(l,h),m=f&&f!=="/"&&f.endsWith("/"),y=(u||f===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var Wn=n=>n.join("/").replace(/\/\/+/g,"/"),Nw=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Ow=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Dw=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Iw=class{constructor(n,e,r,s=!1){this.status=n,this.statusText=e||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Mw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function xw(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var fS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function dS(n,e){let r=n;if(typeof r!="string"||!ww.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let s=r,l=!1;if(fS)try{let u=new URL(window.location.href),f=r.startsWith("//")?new URL(u.protocol+r):new URL(r),h=ei(f.pathname,e);f.origin===u.origin&&h!=null?r=h+f.search+f.hash:l=!0}catch{hn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hS=["POST","PUT","PATCH","DELETE"];new Set(hS);var kw=["GET",...hS];new Set(kw);var Us=R.createContext(null);Us.displayName="DataRouter";var tc=R.createContext(null);tc.displayName="DataRouterState";var Lw=R.createContext(!1),pS=R.createContext({isTransitioning:!1});pS.displayName="ViewTransition";var Uw=R.createContext(new Map);Uw.displayName="Fetchers";var zw=R.createContext(null);zw.displayName="Await";var qt=R.createContext(null);qt.displayName="Navigation";var Cl=R.createContext(null);Cl.displayName="Location";var bn=R.createContext({outlet:null,matches:[],isDataRoute:!1});bn.displayName="Route";var op=R.createContext(null);op.displayName="RouteError";var mS="REACT_ROUTER_ERROR",Pw="REDIRECT",Hw="ROUTE_ERROR_RESPONSE";function Bw(n){if(n.startsWith(`${mS}:${Pw}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function jw(n){if(n.startsWith(`${mS}:${Hw}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Iw(e.status,e.statusText,e.data)}catch{}}function qw(n,{relative:e}={}){Pe(zs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=R.useContext(qt),{hash:l,pathname:u,search:f}=wl(n,{relative:e}),h=u;return r!=="/"&&(h=u==="/"?r:Wn([r,u])),s.createHref({pathname:h,search:f,hash:l})}function zs(){return R.useContext(Cl)!=null}function Qi(){return Pe(zs(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Cl).location}var gS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _S(n){R.useContext(qt).static||R.useLayoutEffect(n)}function Tl(){let{isDataRoute:n}=R.useContext(bn);return n?tR():Vw()}function Vw(){Pe(zs(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(Us),{basename:e,navigator:r}=R.useContext(qt),{matches:s}=R.useContext(bn),{pathname:l}=Qi(),u=JSON.stringify(ap(s)),f=R.useRef(!1);return _S(()=>{f.current=!0}),R.useCallback((p,m={})=>{if(hn(f.current,gS),!f.current)return;if(typeof p=="number"){r.go(p);return}let y=lp(p,JSON.parse(u),l,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Wn([e,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[e,r,u,l,n])}R.createContext(null);function wl(n,{relative:e}={}){let{matches:r}=R.useContext(bn),{pathname:s}=Qi(),l=JSON.stringify(ap(r));return R.useMemo(()=>lp(n,JSON.parse(l),s,e==="path"),[n,l,s,e])}function Fw(n,e){return yS(n,e)}function yS(n,e,r,s,l){Pe(zs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=R.useContext(qt),{matches:f}=R.useContext(bn),h=f[f.length-1],p=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let j=_&&_.path||"";ES(m,!_||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=Qi(),T;if(e){let j=typeof e=="string"?Ls(e):e;Pe(y==="/"||j.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${j.pathname}" was given in the \`location\` prop.`),T=j}else T=E;let O=T.pathname||"/",z=O;if(y!=="/"){let j=y.replace(/^\//,"").split("/");z="/"+O.replace(/^\//,"").split("/").slice(j.length).join("/")}let P=oS(n,{pathname:z});hn(_||P!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),hn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=Ww(P&&P.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:Wn([y,u.encodeLocation?u.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?y:Wn([y,u.encodeLocation?u.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),f,r,s,l);return e&&q?R.createElement(Cl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},q):q}function Gw(){let n=eR(),e=Mw(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:u},"ErrorBoundary")," or"," ",R.createElement("code",{style:u},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),r?R.createElement("pre",{style:l},r):null,f)}var Yw=R.createElement(Gw,null),vS=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const r=jw(n.digest);r&&(n=r)}let e=n!==void 0?R.createElement(bn.Provider,{value:this.props.routeContext},R.createElement(op.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?R.createElement(Qw,{error:n},e):e}};vS.contextType=Lw;var nh=new WeakMap;function Qw({children:n,error:e}){let{basename:r}=R.useContext(qt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Bw(e.digest);if(s){let l=nh.get(e);if(l)throw l;let u=dS(s.location,r);if(fS&&!nh.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw nh.set(e,f),f}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function Kw({routeContext:n,match:e,children:r}){let s=R.useContext(Us);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(bn.Provider,{value:n},r)}function Ww(n,e=[],r=null,s=null,l=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let u=n,f=r?.errors;if(f!=null){let y=u.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);Pe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let h=!1,p=-1;if(r)for(let y=0;y<u.length;y++){let _=u[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=y),_.route.id){let{loaderData:E,errors:T}=r,O=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||O){h=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let m=r&&s?(y,_)=>{s(y,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:xw(r.matches),errorInfo:_})}:void 0;return u.reduceRight((y,_,E)=>{let T,O=!1,z=null,P=null;r&&(T=f&&_.route.id?f[_.route.id]:void 0,z=_.route.errorElement||Yw,h&&(p<0&&E===0?(ES("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,P=null):p===E&&(O=!0,P=_.route.hydrateFallbackElement||null)));let q=e.concat(u.slice(0,E+1)),j=()=>{let B;return T?B=z:O?B=P:_.route.Component?B=R.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=y,R.createElement(Kw,{match:_,routeContext:{outlet:y,matches:q,isDataRoute:r!=null},children:B})};return r&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?R.createElement(vS,{location:r.location,revalidation:r.revalidation,component:z,error:T,children:j(),routeContext:{outlet:null,matches:q,isDataRoute:!0},onError:m}):j()},null)}function up(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xw(n){let e=R.useContext(Us);return Pe(e,up(n)),e}function $w(n){let e=R.useContext(tc);return Pe(e,up(n)),e}function Zw(n){let e=R.useContext(bn);return Pe(e,up(n)),e}function cp(n){let e=Zw(n),r=e.matches[e.matches.length-1];return Pe(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function Jw(){return cp("useRouteId")}function eR(){let n=R.useContext(op),e=$w("useRouteError"),r=cp("useRouteError");return n!==void 0?n:e.errors?.[r]}function tR(){let{router:n}=Xw("useNavigate"),e=cp("useNavigate"),r=R.useRef(!1);return _S(()=>{r.current=!0}),R.useCallback(async(l,u={})=>{hn(r.current,gS),r.current&&(typeof l=="number"?await n.navigate(l):await n.navigate(l,{fromRouteId:e,...u}))},[n,e])}var Mv={};function ES(n,e,r){!e&&!Mv[n]&&(Mv[n]=!0,hn(!1,r))}R.memo(nR);function nR({routes:n,future:e,state:r,onError:s}){return yS(n,void 0,r,s,e)}function SS({to:n,replace:e,state:r,relative:s}){Pe(zs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=R.useContext(qt);hn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=R.useContext(bn),{pathname:f}=Qi(),h=Tl(),p=lp(n,ap(u),f,s==="path"),m=JSON.stringify(p);return R.useEffect(()=>{h(JSON.parse(m),{replace:e,state:r,relative:s})},[h,m,s,e,r]),null}function _s(n){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iR({basename:n="/",children:e=null,location:r,navigationType:s="POP",navigator:l,static:u=!1,unstable_useTransitions:f}){Pe(!zs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),p=R.useMemo(()=>({basename:h,navigator:l,static:u,unstable_useTransitions:f,future:{}}),[h,l,u,f]);typeof r=="string"&&(r=Ls(r));let{pathname:m="/",search:y="",hash:_="",state:E=null,key:T="default"}=r,O=R.useMemo(()=>{let z=ei(m,h);return z==null?null:{location:{pathname:z,search:y,hash:_,state:E,key:T},navigationType:s}},[h,m,y,_,E,T,s]);return hn(O!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:R.createElement(qt.Provider,{value:p},R.createElement(Cl.Provider,{children:e,value:O}))}function rR({children:n,location:e}){return Fw(Ch(n),e)}function Ch(n,e=[]){let r=[];return R.Children.forEach(n,(s,l)=>{if(!R.isValidElement(s))return;let u=[...e,l];if(s.type===R.Fragment){r.push.apply(r,Ch(s.props.children,u));return}Pe(s.type===_s,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Ch(s.props.children,u)),r.push(f)}),r}var hu="get",pu="application/x-www-form-urlencoded";function nc(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function sR(n){return nc(n)&&n.tagName.toLowerCase()==="button"}function aR(n){return nc(n)&&n.tagName.toLowerCase()==="form"}function lR(n){return nc(n)&&n.tagName.toLowerCase()==="input"}function oR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function uR(n,e){return n.button===0&&(!e||e==="_self")&&!oR(n)}var au=null;function cR(){if(au===null)try{new FormData(document.createElement("form"),0),au=!1}catch{au=!0}return au}var fR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ih(n){return n!=null&&!fR.has(n)?(hn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pu}"`),null):n}function dR(n,e){let r,s,l,u,f;if(aR(n)){let h=n.getAttribute("action");s=h?ei(h,e):null,r=n.getAttribute("method")||hu,l=ih(n.getAttribute("enctype"))||pu,u=new FormData(n)}else if(sR(n)||lR(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(s=p?ei(p,e):null,r=n.getAttribute("formmethod")||h.getAttribute("method")||hu,l=ih(n.getAttribute("formenctype"))||ih(h.getAttribute("enctype"))||pu,u=new FormData(h,n),!cR()){let{name:m,type:y,value:_}=n;if(y==="image"){let E=m?`${m}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else m&&u.append(m,_)}}else{if(nc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=hu,s=null,l=pu,f=n}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:r.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hR(n,e,r,s){let l=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${s}`:l.pathname=`${l.pathname}.${s}`:l.pathname==="/"?l.pathname=`_root.${s}`:e&&ei(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function pR(n,e){if(n.id in e)return e[n.id];try{let r=await import(n.module);return e[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function gR(n,e,r){let s=await Promise.all(n.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await pR(u,r);return f.links?f.links():[]}return[]}));return ER(s.flat(1).filter(mR).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function xv(n,e,r,s,l,u){let f=(p,m)=>r[m]?p.route.id!==r[m].route.id:!0,h=(p,m)=>r[m].pathname!==p.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,m)=>f(p,m)||h(p,m)):u==="data"?e.filter((p,m)=>{let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(f(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function _R(n,e,{includeHydrateFallback:r}={}){return yR(n.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function yR(n){return[...new Set(n)]}function vR(n){let e={},r=Object.keys(n).sort();for(let s of r)e[s]=n[s];return e}function ER(n,e){let r=new Set;return new Set(e),n.reduce((s,l)=>{let u=JSON.stringify(vR(l));return r.has(u)||(r.add(u),s.push({key:u,link:l})),s},[])}function bS(){let n=R.useContext(Us);return fp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function SR(){let n=R.useContext(tc);return fp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var dp=R.createContext(void 0);dp.displayName="FrameworkContext";function CS(){let n=R.useContext(dp);return fp(n,"You must render this element inside a <HydratedRouter> element"),n}function bR(n,e){let r=R.useContext(dp),[s,l]=R.useState(!1),[u,f]=R.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,E=R.useRef(null);R.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let z=q=>{q.forEach(j=>{f(j.isIntersecting)})},P=new IntersectionObserver(z,{threshold:.5});return E.current&&P.observe(E.current),()=>{P.disconnect()}}},[n]),R.useEffect(()=>{if(s){let z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(z)}}},[s]);let T=()=>{l(!0)},O=()=>{l(!1),f(!1)};return r?n!=="intent"?[u,E,{}]:[u,E,{onFocus:ja(h,T),onBlur:ja(p,O),onMouseEnter:ja(m,T),onMouseLeave:ja(y,O),onTouchStart:ja(_,T)}]:[!1,E,{}]}function ja(n,e){return r=>{n&&n(r),r.defaultPrevented||e(r)}}function CR({page:n,...e}){let{router:r}=bS(),s=R.useMemo(()=>oS(r.routes,n,r.basename),[r.routes,n,r.basename]);return s?R.createElement(wR,{page:n,matches:s,...e}):null}function TR(n){let{manifest:e,routeModules:r}=CS(),[s,l]=R.useState([]);return R.useEffect(()=>{let u=!1;return gR(n,e,r).then(f=>{u||l(f)}),()=>{u=!0}},[n,e,r]),s}function wR({page:n,matches:e,...r}){let s=Qi(),{future:l,manifest:u,routeModules:f}=CS(),{basename:h}=bS(),{loaderData:p,matches:m}=SR(),y=R.useMemo(()=>xv(n,e,m,u,s,"data"),[n,e,m,u,s]),_=R.useMemo(()=>xv(n,e,m,u,s,"assets"),[n,e,m,u,s]),E=R.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let z=new Set,P=!1;if(e.forEach(j=>{let B=u.routes[j.route.id];!B||!B.hasLoader||(!y.some($=>$.route.id===j.route.id)&&j.route.id in p&&f[j.route.id]?.shouldRevalidate||B.hasClientLoader?P=!0:z.add(j.route.id))}),z.size===0)return[];let q=hR(n,h,l.unstable_trailingSlashAwareDataRequests,"data");return P&&z.size>0&&q.searchParams.set("_routes",e.filter(j=>z.has(j.route.id)).map(j=>j.route.id).join(",")),[q.pathname+q.search]},[h,l.unstable_trailingSlashAwareDataRequests,p,s,u,y,e,n,f]),T=R.useMemo(()=>_R(_,u),[_,u]),O=TR(_);return R.createElement(R.Fragment,null,E.map(z=>R.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...r})),T.map(z=>R.createElement("link",{key:z,rel:"modulepreload",href:z,...r})),O.map(({key:z,link:P})=>R.createElement("link",{key:z,nonce:r.nonce,...P,crossOrigin:P.crossOrigin??r.crossOrigin})))}function RR(...n){return e=>{n.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var AR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AR&&(window.__reactRouterVersion="7.13.0")}catch{}function NR({basename:n,children:e,unstable_useTransitions:r,window:s}){let l=R.useRef();l.current==null&&(l.current=ow({window:s,v5Compat:!0}));let u=l.current,[f,h]=R.useState({action:u.action,location:u.location}),p=R.useCallback(m=>{r===!1?h(m):R.startTransition(()=>h(m))},[r]);return R.useLayoutEffect(()=>u.listen(p),[u,p]),R.createElement(iR,{basename:n,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:r})}var TS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gn=R.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:h,target:p,to:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...T},O){let{basename:z,unstable_useTransitions:P}=R.useContext(qt),q=typeof m=="string"&&TS.test(m),j=dS(m,z);m=j.to;let B=qw(m,{relative:l}),[$,K,oe]=bR(s,T),Y=MR(m,{replace:f,state:h,target:p,preventScrollReset:y,relative:l,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:P});function re(St){e&&e(St),St.defaultPrevented||Y(St)}let Ye=R.createElement("a",{...T,...oe,href:j.absoluteURL||B,onClick:j.isExternal||u?e:re,ref:RR(O,K),target:p,"data-discover":!q&&r==="render"?"true":void 0});return $&&!q?R.createElement(R.Fragment,null,Ye,R.createElement(CR,{page:B})):Ye});Gn.displayName="Link";var OR=R.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:h,children:p,...m},y){let _=wl(f,{relative:m.relative}),E=Qi(),T=R.useContext(tc),{navigator:O,basename:z}=R.useContext(qt),P=T!=null&&zR(_)&&h===!0,q=O.encodeLocation?O.encodeLocation(_).pathname:_.pathname,j=E.pathname,B=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;r||(j=j.toLowerCase(),B=B?B.toLowerCase():null,q=q.toLowerCase()),B&&z&&(B=ei(B,z)||B);const $=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let K=j===q||!l&&j.startsWith(q)&&j.charAt($)==="/",oe=B!=null&&(B===q||!l&&B.startsWith(q)&&B.charAt(q.length)==="/"),Y={isActive:K,isPending:oe,isTransitioning:P},re=K?e:void 0,Ye;typeof s=="function"?Ye=s(Y):Ye=[s,K?"active":null,oe?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let St=typeof u=="function"?u(Y):u;return R.createElement(Gn,{...m,"aria-current":re,className:Ye,ref:y,style:St,to:f,viewTransition:h},typeof p=="function"?p(Y):p)});OR.displayName="NavLink";var DR=R.forwardRef(({discover:n="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:l,state:u,method:f=hu,action:h,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...T},O)=>{let{unstable_useTransitions:z}=R.useContext(qt),P=LR(),q=UR(h,{relative:m}),j=f.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&TS.test(h),$=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let oe=K.nativeEvent.submitter,Y=oe?.getAttribute("formmethod")||f,re=()=>P(oe||K.currentTarget,{fetcherKey:e,method:Y,navigate:r,replace:l,state:u,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E});z&&r!==!1?R.startTransition(()=>re()):re()};return R.createElement("form",{ref:O,method:j,action:q,onSubmit:s?p:$,...T,"data-discover":!B&&n==="render"?"true":void 0})});DR.displayName="Form";function IR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wS(n){let e=R.useContext(Us);return Pe(e,IR(n)),e}function MR(n,{target:e,replace:r,state:s,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:p}={}){let m=Tl(),y=Qi(),_=wl(n,{relative:u});return R.useCallback(E=>{if(uR(E,e)){E.preventDefault();let T=r!==void 0?r:sl(y)===sl(_),O=()=>m(n,{replace:T,state:s,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:h});p?R.startTransition(()=>O()):O()}},[y,m,_,r,s,e,n,l,u,f,h,p])}var xR=0,kR=()=>`__${String(++xR)}__`;function LR(){let{router:n}=wS("useSubmit"),{basename:e}=R.useContext(qt),r=Jw(),s=n.fetch,l=n.navigate;return R.useCallback(async(u,f={})=>{let{action:h,method:p,encType:m,formData:y,body:_}=dR(u,e);if(f.navigate===!1){let E=f.fetcherKey||kR();await s(E,r,f.action||h,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:_,formMethod:f.method||p,formEncType:f.encType||m,flushSync:f.flushSync})}else await l(f.action||h,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:_,formMethod:f.method||p,formEncType:f.encType||m,replace:f.replace,state:f.state,fromRouteId:r,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,l,e,r])}function UR(n,{relative:e}={}){let{basename:r}=R.useContext(qt),s=R.useContext(bn);Pe(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...wl(n||".",{relative:e})},f=Qi();if(n==null){u.search=f.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();u.search=y?`?${y}`:""}}return(!n||n===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Wn([r,u.pathname])),sl(u)}function zR(n,{relative:e}={}){let r=R.useContext(pS);Pe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wS("useViewTransitionState"),l=wl(n,{relative:e});if(!r.isTransitioning)return!1;let u=ei(r.currentLocation.pathname,s)||r.currentLocation.pathname,f=ei(r.nextLocation.pathname,s)||r.nextLocation.pathname;return bu(l.pathname,f)!=null||bu(l.pathname,u)!=null}let PR=class{levels;currentLevel;constructor(){this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(e){this.levels.includes(e)?this.currentLevel=e:console.error(`Nivel de log no vlido: ${e}`)}log(e,r){const s=this.levels.indexOf(e),l=this.levels.indexOf(this.currentLevel);if(s>=l){const u=new Date().toISOString();console[e](`[${e.toUpperCase()}] ${u}: ${r}`)}}debug(e){this.log("debug",e)}info(e){this.log("info",e)}warn(e){this.log("warn",e)}error(e){this.log("error",e)}};const ht=new PR,HR=()=>{};var kv={};const RS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const V=function(n,e){if(!n)throw Ps(e)},Ps=function(n){return new Error("Firebase Database ("+RS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};const AS=function(n){const e=[];let r=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},BR=function(n){const e=[];let r=0,s=0;for(;r<n.length;){const l=n[r++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=n[r++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=n[r++],f=n[r++],h=n[r++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=n[r++],f=n[r++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},hp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const u=n[l],f=l+1<n.length,h=f?n[l+1]:0,p=l+2<n.length,m=p?n[l+2]:0,y=u>>2,_=(u&3)<<4|h>>4;let E=(h&15)<<2|m>>6,T=m&63;p||(T=64,f||(E=64)),s.push(r[y],r[_],r[E],r[T])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(AS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):BR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const u=r[n.charAt(l++)],h=l<n.length?r[n.charAt(l)]:0;++l;const m=l<n.length?r[n.charAt(l)]:64;++l;const _=l<n.length?r[n.charAt(l)]:64;if(++l,u==null||h==null||m==null||_==null)throw new jR;const E=u<<2|h>>4;if(s.push(E),m!==64){const T=h<<4&240|m>>2;if(s.push(T),_!==64){const O=m<<6&192|_;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class jR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NS=function(n){const e=AS(n);return hp.encodeByteArray(e,!0)},Cu=function(n){return NS(n).replace(/\./g,"")},Tu=function(n){try{return hp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qR(n){return OS(void 0,n)}function OS(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!VR(r)||(n[r]=OS(n[r],e[r]));return n}function VR(n){return n!=="__proto__"}function FR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GR=()=>FR().__FIREBASE_DEFAULTS__,YR=()=>{if(typeof process>"u"||typeof kv>"u")return;const n=kv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},QR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Tu(n[1]);return e&&JSON.parse(e)},pp=()=>{try{return HR()||GR()||YR()||QR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DS=n=>pp()?.emulatorHosts?.[n],KR=n=>{const e=DS(n);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},IS=()=>pp()?.config,MS=n=>pp()?.[`_${n}`];class Rl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}function Hs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xS(n){return(await fetch(n,{credentials:"include"})).ok}function WR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",l=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Cu(JSON.stringify(r)),Cu(JSON.stringify(f)),""].join(".")}const Xa={};function XR(){const n={prod:[],emulator:[]};for(const e of Object.keys(Xa))Xa[e]?n.emulator.push(e):n.prod.push(e);return n}function $R(n){let e=document.getElementById(n),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),r=!0),{created:r,element:e}}let Lv=!1;function kS(n,e){if(typeof window>"u"||typeof document>"u"||!Hs(window.location.host)||Xa[n]===e||Xa[n]||Lv)return;Xa[n]=e;function r(E){return`__firebase__banner__${E}`}const s="__firebase__banner",u=XR().prod.length>0;function f(){const E=document.getElementById(s);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Lv=!0,f()},E}function y(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=$R(s),T=r("text"),O=document.getElementById(T)||document.createElement("span"),z=r("learnmore"),P=document.getElementById(z)||document.createElement("a"),q=r("preprendIcon"),j=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const B=E.element;h(B),y(P,z);const $=m();p(j,q),B.append(j,O,P,$),document.body.appendChild(B)}u?(O.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function ZR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eA(){const n=vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function tA(){return RS.NODE_ADMIN===!0}function nA(){try{return typeof indexedDB=="object"}catch{return!1}}function iA(){return new Promise((n,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(r){e(r)}})}const rA="FirebaseError";class Ki extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=rA,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?sA(u,s):"Error",h=`${this.serviceName}: ${f} (${l}).`;return new Ki(l,h,s)}}function sA(n,e){return n.replace(aA,(r,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const aA=/\{\$([^}]+)}/g;function al(n){return JSON.parse(n)}function Je(n){return JSON.stringify(n)}const US=function(n){let e={},r={},s={},l="";try{const u=n.split(".");e=al(Tu(u[0])||""),r=al(Tu(u[1])||""),l=u[2],s=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:s,signature:l}},lA=function(n){const e=US(n),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},oA=function(n){const e=US(n).claims;return typeof e=="object"&&e.admin===!0};function Cn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function As(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Th(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wu(n,e,r){const s={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=e.call(r,n[l],l,n));return s}function Er(n,e){if(n===e)return!0;const r=Object.keys(n),s=Object.keys(e);for(const l of r){if(!s.includes(l))return!1;const u=n[l],f=e[l];if(Uv(u)&&Uv(f)){if(!Er(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!r.includes(l))return!1;return!0}function Uv(n){return n!==null&&typeof n=="object"}function Bs(n){const e=[];for(const[r,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Qa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Ka(n){const e=n.indexOf("?");if(!e)return"";const r=n.indexOf("#",e);return n.substring(e,r>0?r:void 0)}class uA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const s=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)s[_]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let _=0;_<16;_++)s[_]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let _=16;_<80;_++){const E=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(E<<1|E>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],f=this.chain_[2],h=this.chain_[3],p=this.chain_[4],m,y;for(let _=0;_<80;_++){_<40?_<20?(m=h^u&(f^h),y=1518500249):(m=u^f^h,y=1859775393):_<60?(m=u&f|h&(u|f),y=2400959708):(m=u^f^h,y=3395469782);const E=(l<<5|l>>>27)+m+p+y+s[_]&4294967295;p=h,h=f,f=(u<<30|u>>>2)&4294967295,u=l,l=E}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const s=r-this.blockSize;let l=0;const u=this.buf_;let f=this.inbuf_;for(;l<r;){if(f===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<r;)if(u[f]=e.charCodeAt(l),++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}else for(;l<r;)if(u[f]=e[l],++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=r&255,r/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function cA(n,e){const r=new fA(n,e);return r.subscribe.bind(r)}class fA{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,s){let l;if(e===void 0&&r===void 0&&s===void 0)throw new Error("Missing Observer.");dA(e,["next","error","complete"])?l=e:l={next:e,error:r,complete:s},l.next===void 0&&(l.next=rh),l.error===void 0&&(l.error=rh),l.complete===void 0&&(l.complete=rh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dA(n,e){if(typeof n!="object"||n===null)return!1;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}function rh(){}function ic(n,e){return`${n} failed: ${e} argument `}const hA=function(n){const e=[];let r=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,V(s<n.length,"Surrogate pair missing trail surrogate.");const f=n.charCodeAt(s)-56320;l=65536+(u<<10)+f}l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):l<65536?(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},rc=function(n){let e=0;for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,r++):e+=3}return e};function pt(n){return n&&n._delegate?n._delegate:n}class Sr{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _r="[DEFAULT]";class pA{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new Rl;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gA(e))try{this.getOrInitializeService({instanceIdentifier:_r})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=_r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_r){return this.instances.has(e)}getOptions(e=_r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&f.resolve(l)}return l}onInit(e,r){const s=this.normalizeInstanceIdentifier(r),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const l of s)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mA(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_r){return this.component?this.component.multipleInstances?e:_r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mA(n){return n===_r?void 0:n}function gA(n){return n.instantiationMode==="EAGER"}class _A{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new pA(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Oe||(Oe={}));const yA={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},vA=Oe.INFO,EA={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},SA=(n,e,...r)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),l=EA[e];if(l)console[l](`[${s}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gp{constructor(e){this.name=e,this._logLevel=vA,this._logHandler=SA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const bA=(n,e)=>e.some(r=>n instanceof r);let zv,Pv;function CA(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TA(){return Pv||(Pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zS=new WeakMap,wh=new WeakMap,PS=new WeakMap,sh=new WeakMap,_p=new WeakMap;function wA(n){const e=new Promise((r,s)=>{const l=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{r(zi(n.result)),l()},f=()=>{s(n.error),l()};n.addEventListener("success",u),n.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&zS.set(r,n)}).catch(()=>{}),_p.set(e,n),e}function RA(n){if(wh.has(n))return;const e=new Promise((r,s)=>{const l=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{r(),l()},f=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});wh.set(n,e)}let Rh={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return wh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||PS.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return zi(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function AA(n){Rh=n(Rh)}function NA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=n.call(ah(this),e,...r);return PS.set(s,e.sort?e.sort():[e]),zi(s)}:TA().includes(n)?function(...e){return n.apply(ah(this),e),zi(zS.get(this))}:function(...e){return zi(n.apply(ah(this),e))}}function OA(n){return typeof n=="function"?NA(n):(n instanceof IDBTransaction&&RA(n),bA(n,CA())?new Proxy(n,Rh):n)}function zi(n){if(n instanceof IDBRequest)return wA(n);if(sh.has(n))return sh.get(n);const e=OA(n);return e!==n&&(sh.set(n,e),_p.set(e,n)),e}const ah=n=>_p.get(n);function DA(n,e,{blocked:r,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(n,e),h=zi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(zi(f.result),p.oldVersion,p.newVersion,zi(f.transaction),p)}),r&&f.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const IA=["get","getKey","getAll","getAllKeys","count"],MA=["put","add","delete","clear"],lh=new Map;function Hv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(lh.get(e))return lh.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,l=MA.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(l||IA.includes(r)))return;const u=async function(f,...h){const p=this.transaction(f,l?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[r](...h),l&&p.done]))[0]};return lh.set(e,u),u}AA(n=>({...n,get:(e,r,s)=>Hv(e,r)||n.get(e,r,s),has:(e,r)=>!!Hv(e,r)||n.has(e,r)}));class xA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(kA(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function kA(n){return n.getComponent()?.type==="VERSION"}const Ah="@firebase/app",Bv="0.14.7";const ti=new gp("@firebase/app"),LA="@firebase/app-compat",UA="@firebase/analytics-compat",zA="@firebase/analytics",PA="@firebase/app-check-compat",HA="@firebase/app-check",BA="@firebase/auth",jA="@firebase/auth-compat",qA="@firebase/database",VA="@firebase/data-connect",FA="@firebase/database-compat",GA="@firebase/functions",YA="@firebase/functions-compat",QA="@firebase/installations",KA="@firebase/installations-compat",WA="@firebase/messaging",XA="@firebase/messaging-compat",$A="@firebase/performance",ZA="@firebase/performance-compat",JA="@firebase/remote-config",eN="@firebase/remote-config-compat",tN="@firebase/storage",nN="@firebase/storage-compat",iN="@firebase/firestore",rN="@firebase/ai",sN="@firebase/firestore-compat",aN="firebase",lN="12.8.0";const Nh="[DEFAULT]",oN={[Ah]:"fire-core",[LA]:"fire-core-compat",[zA]:"fire-analytics",[UA]:"fire-analytics-compat",[HA]:"fire-app-check",[PA]:"fire-app-check-compat",[BA]:"fire-auth",[jA]:"fire-auth-compat",[qA]:"fire-rtdb",[VA]:"fire-data-connect",[FA]:"fire-rtdb-compat",[GA]:"fire-fn",[YA]:"fire-fn-compat",[QA]:"fire-iid",[KA]:"fire-iid-compat",[WA]:"fire-fcm",[XA]:"fire-fcm-compat",[$A]:"fire-perf",[ZA]:"fire-perf-compat",[JA]:"fire-rc",[eN]:"fire-rc-compat",[tN]:"fire-gcs",[nN]:"fire-gcs-compat",[iN]:"fire-fst",[sN]:"fire-fst-compat",[rN]:"fire-vertex","fire-js":"fire-js",[aN]:"fire-js-all"};const Ru=new Map,uN=new Map,Oh=new Map;function jv(n,e){try{n.container.addComponent(e)}catch(r){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function Ns(n){const e=n.name;if(Oh.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;Oh.set(e,n);for(const r of Ru.values())jv(r,n);for(const r of uN.values())jv(r,n);return!0}function yp(n,e){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(e)}function en(n){return n==null?!1:n.settings!==void 0}const cN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new Al("app","Firebase",cN);class fN{constructor(e,r,s){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}const js=lN;function HS(n,e={}){let r=n;typeof e!="object"&&(e={name:e});const s={name:Nh,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Pi.create("bad-app-name",{appName:String(l)});if(r||(r=IS()),!r)throw Pi.create("no-options");const u=Ru.get(l);if(u){if(Er(r,u.options)&&Er(s,u.config))return u;throw Pi.create("duplicate-app",{appName:l})}const f=new _A(l);for(const p of Oh.values())f.addComponent(p);const h=new fN(r,s,f);return Ru.set(l,h),h}function BS(n=Nh){const e=Ru.get(n);if(!e&&n===Nh&&IS())return HS();if(!e)throw Pi.create("no-app",{appName:n});return e}function Hi(n,e,r){let s=oN[n]??n;r&&(s+=`-${r}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(f.join(" "));return}Ns(new Sr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const dN="firebase-heartbeat-database",hN=1,ll="firebase-heartbeat-store";let oh=null;function jS(){return oh||(oh=DA(dN,hN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ll)}catch(r){console.warn(r)}}}}).catch(n=>{throw Pi.create("idb-open",{originalErrorMessage:n.message})})),oh}async function pN(n){try{const r=(await jS()).transaction(ll),s=await r.objectStore(ll).get(qS(n));return await r.done,s}catch(e){if(e instanceof Ki)ti.warn(e.message);else{const r=Pi.create("idb-get",{originalErrorMessage:e?.message});ti.warn(r.message)}}}async function qv(n,e){try{const s=(await jS()).transaction(ll,"readwrite");await s.objectStore(ll).put(e,qS(n)),await s.done}catch(r){if(r instanceof Ki)ti.warn(r.message);else{const s=Pi.create("idb-set",{originalErrorMessage:r?.message});ti.warn(s.message)}}}function qS(n){return`${n.name}!${n.options.appId}`}const mN=1024,gN=30;class _N{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new vN(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>gN){const l=EN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ti.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Vv(),{heartbeatsToSend:r,unsentEntries:s}=yN(this._heartbeatsCache.heartbeats),l=Cu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ti.warn(e),""}}}function Vv(){return new Date().toISOString().substring(0,10)}function yN(n,e=mN){const r=[];let s=n.slice();for(const l of n){const u=r.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Fv(r)>e){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),Fv(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class vN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nA()?iA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await pN(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Fv(n){return Cu(JSON.stringify({version:2,heartbeats:n})).length}function EN(n){if(n.length===0)return-1;let e=0,r=n[0].date;for(let s=1;s<n.length;s++)n[s].date<r&&(r=n[s].date,e=s);return e}function SN(n){Ns(new Sr("platform-logger",e=>new xA(e),"PRIVATE")),Ns(new Sr("heartbeat",e=>new _N(e),"PRIVATE")),Hi(Ah,Bv,n),Hi(Ah,Bv,"esm2020"),Hi("fire-js","")}SN("");var Gv={};const Yv="@firebase/database",Qv="1.1.0";let VS="";function bN(n){VS=n}class CN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Je(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:al(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class TN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return Cn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const FS=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new CN(e)}}catch{}return new TN},vr=FS("localStorage"),wN=FS("sessionStorage");const Ss=new gp("@firebase/database"),RN=(function(){let n=1;return function(){return n++}})(),GS=function(n){const e=hA(n),r=new uA;r.update(e);const s=r.digest();return hp.encodeByteArray(s)},Nl=function(...n){let e="";for(let r=0;r<n.length;r++){const s=n[r];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Nl.apply(null,s):typeof s=="object"?e+=Je(s):e+=s,e+=" "}return e};let $a=null,Kv=!0;const AN=function(n,e){V(!0,"Can't turn on custom loggers persistently."),Ss.logLevel=Oe.VERBOSE,$a=Ss.log.bind(Ss)},ct=function(...n){if(Kv===!0&&(Kv=!1,$a===null&&wN.get("logging_enabled")===!0&&AN()),$a){const e=Nl.apply(null,n);$a(e)}},Ol=function(n){return function(...e){ct(n,...e)}},Dh=function(...n){const e="FIREBASE INTERNAL ERROR: "+Nl(...n);Ss.error(e)},ni=function(...n){const e=`FIREBASE FATAL ERROR: ${Nl(...n)}`;throw Ss.error(e),new Error(e)},yt=function(...n){const e="FIREBASE WARNING: "+Nl(...n);Ss.warn(e)},NN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vp=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ON=function(n){if(document.readyState==="complete")n();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Os="[MIN_NAME]",br="[MAX_NAME]",Nr=function(n,e){if(n===e)return 0;if(n===Os||e===br)return-1;if(e===Os||n===br)return 1;{const r=Wv(n),s=Wv(e);return r!==null?s!==null?r-s===0?n.length-e.length:r-s:-1:s!==null?1:n<e?-1:1}},DN=function(n,e){return n===e?0:n<e?-1:1},qa=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Je(e))},Ep=function(n){if(typeof n!="object"||n===null)return Je(n);const e=[];for(const s in n)e.push(s);e.sort();let r="{";for(let s=0;s<e.length;s++)s!==0&&(r+=","),r+=Je(e[s]),r+=":",r+=Ep(n[e[s]]);return r+="}",r},YS=function(n,e){const r=n.length;if(r<=e)return[n];const s=[];for(let l=0;l<r;l+=e)l+e>r?s.push(n.substring(l,r)):s.push(n.substring(l,l+e));return s};function ft(n,e){for(const r in n)n.hasOwnProperty(r)&&e(r,n[r])}const QS=function(n){V(!vp(n),"Invalid JSON number");const e=11,r=52,s=(1<<e-1)-1;let l,u,f,h,p;n===0?(u=0,f=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),s),u=h+s,f=Math.round(n*Math.pow(2,r-h)-Math.pow(2,r))):(u=0,f=Math.round(n/Math.pow(2,1-s-r))));const m=[];for(p=r;p;p-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const y=m.join("");let _="";for(p=0;p<64;p+=8){let E=parseInt(y.substr(p,8),2).toString(16);E.length===1&&(E="0"+E),_=_+E}return _.toLowerCase()},IN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},MN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function xN(n,e){let r="Unknown Error";n==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?r="Client doesn't have permission to access the desired data.":n==="unavailable"&&(r="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+r);return s.code=n.toUpperCase(),s}const kN=new RegExp("^-?(0*)\\d{1,10}$"),LN=-2147483648,UN=2147483647,Wv=function(n){if(kN.test(n)){const e=Number(n);if(e>=LN&&e<=UN)return e}return null},qs=function(n){try{n()}catch(e){setTimeout(()=>{const r=e.stack||"";throw yt("Exception was thrown by user callback.",r),e},Math.floor(0))}},zN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Za=function(n,e){const r=setTimeout(n,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};class PN{constructor(e,r){this.appCheckProvider=r,this.appName=e.name,en(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=r?.getImmediate({optional:!0}),this.appCheck||r?.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((r,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){yt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class HN{constructor(e,r,s){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yt(e)}}class mu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}mu.OWNER="owner";const Sp="5",KS="v",WS="s",XS="r",$S="f",ZS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,JS="ls",eb="p",Ih="ac",tb="websocket",nb="long_polling";class ib{constructor(e,r,s,l,u=!1,f="",h=!1,p=!1,m=null){this.secure=r,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&vr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function BN(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function rb(n,e,r){V(typeof e=="string","typeof type must == string"),V(typeof r=="object","typeof params must == object");let s;if(e===tb)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===nb)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);BN(n)&&(r.ns=n.namespace);const l=[];return ft(r,(u,f)=>{l.push(u+"="+f)}),s+l.join("&")}class jN{constructor(){this.counters_={}}incrementCounter(e,r=1){Cn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return qR(this.counters_)}}const uh={},ch={};function bp(n){const e=n.toString();return uh[e]||(uh[e]=new jN),uh[e]}function qN(n,e){const r=n.toString();return ch[r]||(ch[r]=e()),ch[r]}class VN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&qs(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Xv="start",FN="close",GN="pLPCommand",YN="pRTLPCB",sb="id",ab="pw",lb="ser",QN="cb",KN="seg",WN="ts",XN="d",$N="dframe",ob=1870,ub=30,ZN=ob-ub,JN=25e3,eO=3e4;class vs{constructor(e,r,s,l,u,f,h){this.connId=e,this.repoInfo=r,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ol(e),this.stats_=bp(r),this.urlFn=p=>(this.appCheckToken&&(p[Ih]=this.appCheckToken),rb(r,nb,p))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new VN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(eO)),ON(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cp((...u)=>{const[f,h,p,m,y]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Xv)this.id=h,this.password=p;else if(f===FN)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[Xv]="t",s[lb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[QN]=this.scriptTagHolder.uniqueCallbackIdentifier),s[KS]=Sp,this.transportSessionId&&(s[WS]=this.transportSessionId),this.lastSessionId&&(s[JS]=this.lastSessionId),this.applicationId&&(s[eb]=this.applicationId),this.appCheckToken&&(s[Ih]=this.appCheckToken),typeof location<"u"&&location.hostname&&ZS.test(location.hostname)&&(s[XS]=$S);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vs.forceAllow_=!0}static forceDisallow(){vs.forceDisallow_=!0}static isAvailable(){return vs.forceAllow_?!0:!vs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!IN()&&!MN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=Je(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=NS(r),l=YS(s,ZN);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const s={};s[$N]="t",s[sb]=e,s[ab]=r,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=Je(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Cp{constructor(e,r,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=RN(),window[GN+this.uniqueCallbackIdentifier]=e,window[YN+this.uniqueCallbackIdentifier]=r,this.myIFrame=Cp.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){ct("frame writing exception"),h.stack&&ct(h.stack),ct(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ct("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[sb]=this.myID,e[ab]=this.myPW,e[lb]=this.currentSerial;let r=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ub+s.length<=ob;){const f=this.pendingSegs.shift();s=s+"&"+KN+l+"="+f.seg+"&"+WN+l+"="+f.ts+"&"+XN+l+"="+f.d,l++}return r=r+s,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,s){this.pendingSegs.push({seg:e,ts:r,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const s=()=>{this.outstandingRequests.delete(r),this.newRequest_()},l=setTimeout(s,Math.floor(JN)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),r())},s.onerror=()=>{ct("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}const tO=16384,nO=45e3;let Au=null;typeof MozWebSocket<"u"?Au=MozWebSocket:typeof WebSocket<"u"&&(Au=WebSocket);class on{constructor(e,r,s,l,u,f,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ol(this.connId),this.stats_=bp(r),this.connURL=on.connectionURL_(r,f,h,l,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,s,l,u){const f={};return f[KS]=Sp,typeof location<"u"&&location.hostname&&ZS.test(location.hostname)&&(f[XS]=$S),r&&(f[WS]=r),s&&(f[JS]=s),l&&(f[Ih]=l),u&&(f[eb]=u),rb(e,tb,f)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vr.set("previous_websocket_failure",!0);try{let s;tA(),this.mySock=new Au(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){on.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(r);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Au!==null&&!on.forceDisallow_}static previouslyFailed(){return vr.isInMemoryStorage||vr.get("previous_websocket_failure")===!0}markConnectionHealthy(){vr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const s=al(r);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(V(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const s=this.extractFrameCount_(r);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const r=Je(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=YS(r,tO);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(nO))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}on.responsesRequiredToBeHealthy=2;on.healthyTimeout=3e4;class ol{static get ALL_TRANSPORTS(){return[vs,on]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=on&&on.isAvailable();let s=r&&!on.previouslyFailed();if(e.webSocketOnly&&(r||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[on];else{const l=this.transports_=[];for(const u of ol.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);ol.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ol.globalTransportInitialized_=!1;const iO=6e4,rO=5e3,sO=10*1024,aO=100*1024,fh="t",$v="d",lO="s",Zv="r",oO="e",Jv="o",eE="a",tE="n",nE="p",uO="h";class cO{constructor(e,r,s,l,u,f,h,p,m,y){this.id=e,this.repoInfo_=r,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ol("c:"+this.id+":"),this.transportManager_=new ol(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Za(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>aO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(fh in e){const r=e[fh];r===eE?this.upgradeIfSecondaryHealthy_():r===Zv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Jv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=qa("t",e),s=qa("d",e);if(r==="c")this.onSecondaryControl_(s);else if(r==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:nE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:eE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=qa("t",e),s=qa("d",e);r==="c"?this.onControl_(s):r==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=qa(fh,e);if($v in e){const s=e[$v];if(r===uO){const l={...s};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(r===tE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===lO?this.onConnectionShutdown_(s):r===Zv?this.onReset_(s):r===oO?Dh("Server Error: "+s):r===Jv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Dh("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Sp!==s&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,s),Za(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(iO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Za(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(rO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:nE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class cb{put(e,r,s,l){}merge(e,r,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,s){}onDisconnectMerge(e,r,s){}onDisconnectCancel(e,r){}reportStats(e){}}class fb{constructor(e){this.allowedEvents_=e,this.listeners_={},V(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,r)}}on(e,r,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:s});const l=this.getInitialEvent(e);l&&r.apply(s,l)}off(e,r,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===r&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){V(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}}class Nu extends fb{static getInstance(){return new Nu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!mp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return V(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const iE=32,rE=768;class De{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}}function Ee(){return new De("")}function ue(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Fi(n){return n.pieces_.length-n.pieceNum_}function ke(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new De(n.pieces_,e)}function Tp(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function fO(n){let e="";for(let r=n.pieceNum_;r<n.pieces_.length;r++)n.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[r])));return e||"/"}function ul(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function db(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let r=n.pieceNum_;r<n.pieces_.length-1;r++)e.push(n.pieces_[r]);return new De(e,0)}function je(n,e){const r=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)r.push(n.pieces_[s]);if(e instanceof De)for(let s=e.pieceNum_;s<e.pieces_.length;s++)r.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&r.push(s[l])}return new De(r,0)}function pe(n){return n.pieceNum_>=n.pieces_.length}function _t(n,e){const r=ue(n),s=ue(e);if(r===null)return e;if(r===s)return _t(ke(n),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function dO(n,e){const r=ul(n,0),s=ul(e,0);for(let l=0;l<r.length&&l<s.length;l++){const u=Nr(r[l],s[l]);if(u!==0)return u}return r.length===s.length?0:r.length<s.length?-1:1}function wp(n,e){if(Fi(n)!==Fi(e))return!1;for(let r=n.pieceNum_,s=e.pieceNum_;r<=n.pieces_.length;r++,s++)if(n.pieces_[r]!==e.pieces_[s])return!1;return!0}function tn(n,e){let r=n.pieceNum_,s=e.pieceNum_;if(Fi(n)>Fi(e))return!1;for(;r<n.pieces_.length;){if(n.pieces_[r]!==e.pieces_[s])return!1;++r,++s}return!0}class hO{constructor(e,r){this.errorPrefix_=r,this.parts_=ul(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=rc(this.parts_[s]);hb(this)}}function pO(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=rc(e),hb(n)}function mO(n){const e=n.parts_.pop();n.byteLength_-=rc(e),n.parts_.length>0&&(n.byteLength_-=1)}function hb(n){if(n.byteLength_>rE)throw new Error(n.errorPrefix_+"has a key path longer than "+rE+" bytes ("+n.byteLength_+").");if(n.parts_.length>iE)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+iE+") or object contains a cycle "+yr(n))}function yr(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}class Rp extends fb{static getInstance(){return new Rp}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return V(e==="visible","Unknown event type: "+e),[this.visible_]}}const Va=1e3,gO=300*1e3,sE=30*1e3,_O=1.3,yO=3e4,vO="server_kill",aE=3;class Xn extends cb{constructor(e,r,s,l,u,f,h,p){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=Xn.nextPersistentConnectionId_++,this.log_=Ol("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Va,this.maxReconnectDelay_=gO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Nu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,s){const l=++this.requestNumber_,u={r:l,a:e,b:r};this.log_(Je(u)),V(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const r=new Rl,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),r.promise}listen(e,r,s,l){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),V(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:r,query:e,tag:s};this.listens.get(f).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(s)})}sendListen_(e){const r=e.query,s=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},f="q";e.tag&&(u.q=r._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,h=>{const p=h.d,m=h.s;Xn.warnOnListenWarnings_(p,r),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&Cn(e,"w")){const s=As(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||oA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=sE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=lA(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(r,s,l=>{const u=l.s,f=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,s=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,s)})}unlisten(e,r){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,r)}sendUnlisten_(e,r,s,l){this.log_("Unlisten on "+e+" for "+r);const u={p:e},f="n";l&&(u.q=s,u.t=l),this.sendRequest(f,u)}onDisconnectPut(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:s})}onDisconnectMerge(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:s})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,s,l){const u={p:r,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(e,r,s,l){this.putInternal("p",e,r,s,l)}merge(e,r,s,l){this.putInternal("m",e,r,s,l)}putInternal(e,r,s,l,u){this.initConnection_();const f={p:r,d:s};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,s,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Je(e));const r=e.r,s=this.requestCBHash_[r];s&&(delete this.requestCBHash_[r],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):Dh("Unrecognized action received from server: "+Je(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){V(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Va,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Va,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yO&&(this.reconnectDelay_=Va),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_O)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Xn.nextConnectionId_++,u=this.lastSessionId;let f=!1,h=null;const p=function(){h?h.close():(f=!0,s())},m=function(_){V(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:p,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,E]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);f?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=E&&E.token,h=new cO(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,s,T=>{yt(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(vO)},u))}catch(_){this.log_("Failed to get token: "+_),f||(this.repoInfo_.nodeAdmin&&yt(_),p())}}}interrupt(e){ct("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ct("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Th(this.interruptReasons_)&&(this.reconnectDelay_=Va,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let s;r?s=r.map(u=>Ep(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,r){const s=new De(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(r),u.delete(r),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,r){ct("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=aE&&(this.reconnectDelay_=sE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){ct("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=aE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+VS.replace(/\./g,"-")]=1,mp()?e["framework.cordova"]=1:LS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Nu.getInstance().currentlyOnline();return Th(this.interruptReasons_)&&e}}Xn.nextPersistentConnectionId_=0;Xn.nextConnectionId_=0;class ce{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new ce(e,r)}}class sc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const s=new ce(Os,e),l=new ce(Os,r);return this.compare(s,l)!==0}minPost(){return ce.MIN}}let lu;class pb extends sc{static get __EMPTY_NODE(){return lu}static set __EMPTY_NODE(e){lu=e}compare(e,r){return Nr(e.name,r.name)}isDefinedOn(e){throw Ps("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return ce.MIN}maxPost(){return new ce(br,lu)}makePost(e,r){return V(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,lu)}toString(){return".key"}}const bs=new pb;class ou{constructor(e,r,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=r?s(e.key,r):1,l&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class it{constructor(e,r,s,l,u){this.key=e,this.value=r,this.color=s??it.RED,this.left=l??Dt.EMPTY_NODE,this.right=u??Dt.EMPTY_NODE}copy(e,r,s,l,u){return new it(e??this.key,r??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,r,s),null):u===0?l=l.copy(null,r,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let s,l;if(s=this,r(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),r(e,s.key)===0){if(s.right.isEmpty())return Dt.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}it.RED=!0;it.BLACK=!1;class EO{copy(e,r,s,l,u){return this}insert(e,r,s){return new it(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Dt{constructor(e,r=Dt.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new Dt(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,it.BLACK,null,null))}remove(e){return new Dt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,it.BLACK,null,null))}get(e){let r,s=this.root_;for(;!s.isEmpty();){if(r=this.comparator_(e,s.key),r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}getPredecessorKey(e){let r,s=this.root_,l=null;for(;!s.isEmpty();)if(r=this.comparator_(e,s.key),r===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else r<0?s=s.left:r>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ou(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new ou(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new ou(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new ou(this.root_,null,this.comparator_,!0,e)}}Dt.EMPTY_NODE=new EO;function SO(n,e){return Nr(n.name,e.name)}function Ap(n,e){return Nr(n,e)}let Mh;function bO(n){Mh=n}const mb=function(n){return typeof n=="number"?"number:"+QS(n):"string:"+n},gb=function(n){if(n.isLeafNode()){const e=n.val();V(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Cn(e,".sv"),"Priority must be a string or number.")}else V(n===Mh||n.isEmpty(),"priority of unexpected type.");V(n===Mh||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let lE;class nt{static set __childrenNodeConstructor(e){lE=e}static get __childrenNodeConstructor(){return lE}constructor(e,r=nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,V(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),gb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new nt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pe(e)?this:ue(e)===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const s=ue(e);return s===null?r:r.isEmpty()&&s!==".priority"?this:(V(s!==".priority"||Fi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+mb(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=QS(this.value_):e+=this.value_,this.lazyHash_=GS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===nt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof nt.__childrenNodeConstructor?-1:(V(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,s=typeof this.value_,l=nt.VALUE_TYPE_ORDER.indexOf(r),u=nt.VALUE_TYPE_ORDER.indexOf(s);return V(l>=0,"Unknown leaf type: "+r),V(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let _b,yb;function CO(n){_b=n}function TO(n){yb=n}class wO extends sc{compare(e,r){const s=e.node.getPriority(),l=r.node.getPriority(),u=s.compareTo(l);return u===0?Nr(e.name,r.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(br,new nt("[PRIORITY-POST]",yb))}makePost(e,r){const s=_b(e);return new ce(r,new nt("[PRIORITY-POST]",s))}toString(){return".priority"}}const qe=new wO;const RO=Math.log(2);class AO{constructor(e){const r=u=>parseInt(Math.log(u)/RO,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ou=function(n,e,r,s){n.sort(e);const l=function(p,m){const y=m-p;let _,E;if(y===0)return null;if(y===1)return _=n[p],E=r?r(_):_,new it(E,_.node,it.BLACK,null,null);{const T=parseInt(y/2,10)+p,O=l(p,T),z=l(T+1,m);return _=n[T],E=r?r(_):_,new it(E,_.node,it.BLACK,O,z)}},u=function(p){let m=null,y=null,_=n.length;const E=function(O,z){const P=_-O,q=_;_-=O;const j=l(P+1,q),B=n[P],$=r?r(B):B;T(new it($,B.node,z,null,j))},T=function(O){m?(m.left=O,m=O):(y=O,m=O)};for(let O=0;O<p.count;++O){const z=p.nextBitIsOne(),P=Math.pow(2,p.count-(O+1));z?E(P,it.BLACK):(E(P,it.BLACK),E(P,it.RED))}return y},f=new AO(n.length),h=u(f);return new Dt(s||e,h)};let dh;const gs={};class Yn{static get Default(){return V(gs&&qe,"ChildrenNode.ts has not been loaded"),dh=dh||new Yn({".priority":gs},{".priority":qe}),dh}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=As(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof Dt?r:null}hasIndex(e){return Cn(this.indexSet_,e.toString())}addIndex(e,r){V(e!==bs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=r.getIterator(ce.Wrap);let f=u.getNext();for(;f;)l=l||e.isDefinedOn(f.node),s.push(f),f=u.getNext();let h;l?h=Ou(s,e.getCompare()):h=gs;const p=e.toString(),m={...this.indexSet_};m[p]=e;const y={...this.indexes_};return y[p]=h,new Yn(y,m)}addToIndexes(e,r){const s=wu(this.indexes_,(l,u)=>{const f=As(this.indexSet_,u);if(V(f,"Missing index implementation for "+u),l===gs)if(f.isDefinedOn(e.node)){const h=[],p=r.getIterator(ce.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&h.push(m),m=p.getNext();return h.push(e),Ou(h,f.getCompare())}else return gs;else{const h=r.get(e.name);let p=l;return h&&(p=p.remove(new ce(e.name,h))),p.insert(e,e.node)}});return new Yn(s,this.indexSet_)}removeFromIndexes(e,r){const s=wu(this.indexes_,l=>{if(l===gs)return l;{const u=r.get(e.name);return u?l.remove(new ce(e.name,u)):l}});return new Yn(s,this.indexSet_)}}let Fa;class te{static get EMPTY_NODE(){return Fa||(Fa=new te(new Dt(Ap),null,Yn.Default))}constructor(e,r,s){this.children_=e,this.priorityNode_=r,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&gb(this.priorityNode_),this.children_.isEmpty()&&V(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fa}updatePriority(e){return this.children_.isEmpty()?this:new te(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?Fa:r}}getChild(e){const r=ue(e);return r===null?this:this.getImmediateChild(r).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(V(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const s=new ce(e,r);let l,u;r.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,r),u=this.indexMap_.addToIndexes(s,this.children_));const f=l.isEmpty()?Fa:this.priorityNode_;return new te(l,f,u)}}updateChild(e,r){const s=ue(e);if(s===null)return r;{V(ue(e)!==".priority"||Fi(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(ke(e),r);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let s=0,l=0,u=!0;if(this.forEachChild(qe,(f,h)=>{r[f]=h.val(e),s++,u&&te.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):u=!1}),!e&&u&&l<2*s){const f=[];for(const h in r)f[h]=r[h];return f}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+mb(this.getPriority().val())+":"),this.forEachChild(qe,(r,s)=>{const l=s.hash();l!==""&&(e+=":"+r+":"+l)}),this.lazyHash_=e===""?"":GS(e)}return this.lazyHash_}getPredecessorChildName(e,r,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new ce(e,r));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new ce(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new ce(r,this.children_.get(r)):null}forEachChild(e,r){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,ce.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,ce.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Dl?-1:0}withIndex(e){if(e===bs||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new te(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===bs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const s=this.getIterator(qe),l=r.getIterator(qe);let u=s.getNext(),f=l.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=s.getNext(),f=l.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===bs?null:this.indexMap_.get(e.toString())}}te.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class NO extends te{constructor(){super(new Dt(Ap),te.EMPTY_NODE,Yn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return te.EMPTY_NODE}isEmpty(){return!1}}const Dl=new NO;Object.defineProperties(ce,{MIN:{value:new ce(Os,te.EMPTY_NODE)},MAX:{value:new ce(br,Dl)}});pb.__EMPTY_NODE=te.EMPTY_NODE;nt.__childrenNodeConstructor=te;bO(Dl);TO(Dl);const OO=!0;function Ze(n,e=null){if(n===null)return te.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),V(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const r=n;return new nt(r,Ze(e))}if(!(n instanceof Array)&&OO){const r=[];let s=!1;if(ft(n,(f,h)=>{if(f.substring(0,1)!=="."){const p=Ze(h);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),r.push(new ce(f,p)))}}),r.length===0)return te.EMPTY_NODE;const u=Ou(r,SO,f=>f.name,Ap);if(s){const f=Ou(r,qe.getCompare());return new te(u,Ze(e),new Yn({".priority":f},{".priority":qe}))}else return new te(u,Ze(e),Yn.Default)}else{let r=te.EMPTY_NODE;return ft(n,(s,l)=>{if(Cn(n,s)&&s.substring(0,1)!=="."){const u=Ze(l);(u.isLeafNode()||!u.isEmpty())&&(r=r.updateImmediateChild(s,u))}}),r.updatePriority(Ze(e))}}CO(Ze);class DO extends sc{constructor(e){super(),this.indexPath_=e,V(!pe(e)&&ue(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const s=this.extractChild(e.node),l=this.extractChild(r.node),u=s.compareTo(l);return u===0?Nr(e.name,r.name):u}makePost(e,r){const s=Ze(e),l=te.EMPTY_NODE.updateChild(this.indexPath_,s);return new ce(r,l)}maxPost(){const e=te.EMPTY_NODE.updateChild(this.indexPath_,Dl);return new ce(br,e)}toString(){return ul(this.indexPath_,0).join("/")}}class IO extends sc{compare(e,r){const s=e.node.compareTo(r.node);return s===0?Nr(e.name,r.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,r){const s=Ze(e);return new ce(r,s)}toString(){return".value"}}const MO=new IO;function vb(n){return{type:"value",snapshotNode:n}}function Ds(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function cl(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function fl(n,e,r){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:r}}function xO(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}class Np{constructor(e){this.index_=e}updateChild(e,r,s,l,u,f){V(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(r);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(f!=null&&(s.isEmpty()?e.hasChild(r)?f.trackChildChange(cl(r,h)):V(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(Ds(r,s)):f.trackChildChange(fl(r,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(r,s).withIndex(this.index_)}updateFullNode(e,r,s){return s!=null&&(e.isLeafNode()||e.forEachChild(qe,(l,u)=>{r.hasChild(l)||s.trackChildChange(cl(l,u))}),r.isLeafNode()||r.forEachChild(qe,(l,u)=>{if(e.hasChild(l)){const f=e.getImmediateChild(l);f.equals(u)||s.trackChildChange(fl(l,u,f))}else s.trackChildChange(Ds(l,u))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?te.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class dl{constructor(e){this.indexedFilter_=new Np(e.getIndex()),this.index_=e.getIndex(),this.startPost_=dl.getStartPost_(e),this.endPost_=dl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&s}updateChild(e,r,s,l,u,f){return this.matches(new ce(r,s))||(s=te.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,s,l,u,f)}updateFullNode(e,r,s){r.isLeafNode()&&(r=te.EMPTY_NODE);let l=r.withIndex(this.index_);l=l.updatePriority(te.EMPTY_NODE);const u=this;return r.forEachChild(qe,(f,h)=>{u.matches(new ce(f,h))||(l=l.updateImmediateChild(f,te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}class kO{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=r=>{const s=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new dl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,s,l,u,f){return this.rangedFilter_.matches(new ce(r,s))||(s=te.EMPTY_NODE),e.getImmediateChild(r).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,s,l,u,f):this.fullLimitUpdateChild_(e,r,s,u,f)}updateFullNode(e,r,s){let l;if(r.isLeafNode()||r.isEmpty())l=te.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){l=te.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{l=r.withIndex(this.index_),l=l.updatePriority(te.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let f=0;for(;u.hasNext();){const h=u.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:l=l.updateImmediateChild(h.name,te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,s,l,u){let f;if(this.reverse_){const _=this.index_.getCompare();f=(E,T)=>_(T,E)}else f=this.index_.getCompare();const h=e;V(h.numChildren()===this.limit_,"");const p=new ce(r,s),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(p);if(h.hasChild(r)){const _=h.getImmediateChild(r);let E=l.getChildAfterChild(this.index_,m,this.reverse_);for(;E!=null&&(E.name===r||h.hasChild(E.name));)E=l.getChildAfterChild(this.index_,E,this.reverse_);const T=E==null?1:f(E,p);if(y&&!s.isEmpty()&&T>=0)return u?.trackChildChange(fl(r,s,_)),h.updateImmediateChild(r,s);{u?.trackChildChange(cl(r,_));const z=h.updateImmediateChild(r,te.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u?.trackChildChange(Ds(E.name,E.node)),z.updateImmediateChild(E.name,E.node)):z}}else return s.isEmpty()?e:y&&f(m,p)>=0?(u!=null&&(u.trackChildChange(cl(m.name,m.node)),u.trackChildChange(Ds(r,s))),h.updateImmediateChild(r,s).updateImmediateChild(m.name,te.EMPTY_NODE)):e}}class Op{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return V(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return V(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Os}hasEnd(){return this.endSet_}getIndexEndValue(){return V(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return V(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:br}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return V(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qe}copy(){const e=new Op;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function LO(n){return n.loadsAllData()?new Np(n.getIndex()):n.hasLimit()?new kO(n):new dl(n)}function oE(n){const e={};if(n.isDefault())return e;let r;if(n.index_===qe?r="$priority":n.index_===MO?r="$value":n.index_===bs?r="$key":(V(n.index_ instanceof DO,"Unrecognized index type!"),r=n.index_.toString()),e.orderBy=Je(r),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=Je(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+Je(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=Je(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+Je(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function uE(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let r=n.viewFrom_;r===""&&(n.isViewFromLeft()?r="l":r="r"),e.vf=r}return n.index_!==qe&&(e.i=n.index_.toString()),e}class Du extends cb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(V(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Ol("p:rest:"),this.listens_={}}listen(e,r,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=Du.getListenId_(e,s),h={};this.listens_[f]=h;const p=oE(e._queryParams);this.restRequest_(u+".json",p,(m,y)=>{let _=y;if(m===404&&(_=null,m=null),m===null&&this.onDataUpdate_(u,_,!1,s),As(this.listens_,f)===h){let E;m?m===401?E="permission_denied":E="rest_error:"+m:E="ok",l(E,null)}})}unlisten(e,r){const s=Du.getListenId_(e,r);delete this.listens_[s]}get(e){const r=oE(e._queryParams),s=e._path.toString(),l=new Rl;return this.restRequest_(s+".json",r,(u,f)=>{let h=f;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,r={},s){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(r.auth=l.accessToken),u&&u.token&&(r.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Bs(r);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=al(h.responseText)}catch{yt("Failed to parse JSON response for "+f+": "+h.responseText)}s(null,p)}else h.status!==401&&h.status!==404&&yt("Got unsuccessful REST response for "+f+" Status: "+h.status),s(h.status);s=null}},h.open("GET",f,!0),h.send()})}}class UO{constructor(){this.rootNode_=te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}function Iu(){return{value:null,children:new Map}}function Eb(n,e,r){if(pe(e))n.value=r,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,r);else{const s=ue(e);n.children.has(s)||n.children.set(s,Iu());const l=n.children.get(s);e=ke(e),Eb(l,e,r)}}function xh(n,e,r){n.value!==null?r(e,n.value):zO(n,(s,l)=>{const u=new De(e.toString()+"/"+s);xh(l,u,r)})}function zO(n,e){n.children.forEach((r,s)=>{e(s,r)})}class PO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r={...e};return this.last_&&ft(this.last_,(s,l)=>{r[s]=r[s]-l}),this.last_=e,r}}const cE=10*1e3,HO=30*1e3,BO=300*1e3;class jO{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new PO(e);const s=cE+(HO-cE)*Math.random();Za(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),r={};let s=!1;ft(e,(l,u)=>{u>0&&Cn(this.statsToReport_,l)&&(r[l]=u,s=!0)}),s&&this.server_.reportStats(r),Za(this.reportStats_.bind(this),Math.floor(Math.random()*2*BO))}}var cn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(cn||(cn={}));function Dp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ip(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Mp(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Mu{constructor(e,r,s){this.path=e,this.affectedTree=r,this.revert=s,this.type=cn.ACK_USER_WRITE,this.source=Dp()}operationForChild(e){if(pe(this.path)){if(this.affectedTree.value!=null)return V(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new De(e));return new Mu(Ee(),r,this.revert)}}else return V(ue(this.path)===e,"operationForChild called for unrelated child."),new Mu(ke(this.path),this.affectedTree,this.revert)}}class hl{constructor(e,r){this.source=e,this.path=r,this.type=cn.LISTEN_COMPLETE}operationForChild(e){return pe(this.path)?new hl(this.source,Ee()):new hl(this.source,ke(this.path))}}class Cr{constructor(e,r,s){this.source=e,this.path=r,this.snap=s,this.type=cn.OVERWRITE}operationForChild(e){return pe(this.path)?new Cr(this.source,Ee(),this.snap.getImmediateChild(e)):new Cr(this.source,ke(this.path),this.snap)}}class Is{constructor(e,r,s){this.source=e,this.path=r,this.children=s,this.type=cn.MERGE}operationForChild(e){if(pe(this.path)){const r=this.children.subtree(new De(e));return r.isEmpty()?null:r.value?new Cr(this.source,Ee(),r.value):new Is(this.source,Ee(),r)}else return V(ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Is(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Gi{constructor(e,r,s){this.node_=e,this.fullyInitialized_=r,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const r=ue(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class qO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function VO(n,e,r,s){const l=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(xO(f.childName,f.snapshotNode))}),Ga(n,l,"child_removed",e,s,r),Ga(n,l,"child_added",e,s,r),Ga(n,l,"child_moved",u,s,r),Ga(n,l,"child_changed",e,s,r),Ga(n,l,"value",e,s,r),l}function Ga(n,e,r,s,l,u){const f=s.filter(h=>h.type===r);f.sort((h,p)=>GO(n,h,p)),f.forEach(h=>{const p=FO(n,h,u);l.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(p,n.query_))})})}function FO(n,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function GO(n,e,r){if(e.childName==null||r.childName==null)throw Ps("Should only compare child_ events.");const s=new ce(e.childName,e.snapshotNode),l=new ce(r.childName,r.snapshotNode);return n.index_.compare(s,l)}function ac(n,e){return{eventCache:n,serverCache:e}}function Ja(n,e,r,s){return ac(new Gi(e,r,s),n.serverCache)}function Sb(n,e,r,s){return ac(n.eventCache,new Gi(e,r,s))}function xu(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Tr(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let hh;const YO=()=>(hh||(hh=new Dt(DN)),hh);class xe{static fromObject(e){let r=new xe(null);return ft(e,(s,l)=>{r=r.set(new De(s),l)}),r}constructor(e,r=YO()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:Ee(),value:this.value};if(pe(e))return null;{const s=ue(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(ke(e),r);return u!=null?{path:je(new De(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const r=ue(e),s=this.children.get(r);return s!==null?s.subtree(ke(e)):new xe(null)}}set(e,r){if(pe(e))return new xe(r,this.children);{const s=ue(e),u=(this.children.get(s)||new xe(null)).set(ke(e),r),f=this.children.insert(s,u);return new xe(this.value,f)}}remove(e){if(pe(e))return this.children.isEmpty()?new xe(null):new xe(null,this.children);{const r=ue(e),s=this.children.get(r);if(s){const l=s.remove(ke(e));let u;return l.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,l),this.value===null&&u.isEmpty()?new xe(null):new xe(this.value,u)}else return this}}get(e){if(pe(e))return this.value;{const r=ue(e),s=this.children.get(r);return s?s.get(ke(e)):null}}setTree(e,r){if(pe(e))return r;{const s=ue(e),u=(this.children.get(s)||new xe(null)).setTree(ke(e),r);let f;return u.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,u),new xe(this.value,f)}}fold(e){return this.fold_(Ee(),e)}fold_(e,r){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(je(e,l),r)}),r(e,this.value,s)}findOnPath(e,r){return this.findOnPath_(e,Ee(),r)}findOnPath_(e,r,s){const l=this.value?s(r,this.value):!1;if(l)return l;if(pe(e))return null;{const u=ue(e),f=this.children.get(u);return f?f.findOnPath_(ke(e),je(r,u),s):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,Ee(),r)}foreachOnPath_(e,r,s){if(pe(e))return this;{this.value&&s(r,this.value);const l=ue(e),u=this.children.get(l);return u?u.foreachOnPath_(ke(e),je(r,l),s):new xe(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,r){this.children.inorderTraversal((s,l)=>{l.foreach_(je(e,s),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,s)=>{s.value&&e(r,s.value)})}}class dn{constructor(e){this.writeTree_=e}static empty(){return new dn(new xe(null))}}function el(n,e,r){if(pe(e))return new dn(new xe(r));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const f=_t(l,e);return u=u.updateChild(f,r),new dn(n.writeTree_.set(l,u))}else{const l=new xe(r),u=n.writeTree_.setTree(e,l);return new dn(u)}}}function kh(n,e,r){let s=n;return ft(r,(l,u)=>{s=el(s,je(e,l),u)}),s}function fE(n,e){if(pe(e))return dn.empty();{const r=n.writeTree_.setTree(e,new xe(null));return new dn(r)}}function Lh(n,e){return Or(n,e)!=null}function Or(n,e){const r=n.writeTree_.findRootMostValueAndPath(e);return r!=null?n.writeTree_.get(r.path).getChild(_t(r.path,e)):null}function dE(n){const e=[],r=n.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(qe,(s,l)=>{e.push(new ce(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new ce(s,l.value))}),e}function Bi(n,e){if(pe(e))return n;{const r=Or(n,e);return r!=null?new dn(new xe(r)):new dn(n.writeTree_.subtree(e))}}function Uh(n){return n.writeTree_.isEmpty()}function Ms(n,e){return bb(Ee(),n.writeTree_,e)}function bb(n,e,r){if(e.value!=null)return r.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(V(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):r=bb(je(n,l),u,r)}),!r.getChild(n).isEmpty()&&s!==null&&(r=r.updateChild(je(n,".priority"),s)),r}}function lc(n,e){return Rb(e,n)}function QO(n,e,r,s,l){V(s>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:e,snap:r,writeId:s,visible:l}),l&&(n.visibleWrites=el(n.visibleWrites,e,r)),n.lastWriteId=s}function KO(n,e,r,s){V(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:r,writeId:s,visible:!0}),n.visibleWrites=kh(n.visibleWrites,e,r),n.lastWriteId=s}function WO(n,e){for(let r=0;r<n.allWrites.length;r++){const s=n.allWrites[r];if(s.writeId===e)return s}return null}function XO(n,e){const r=n.allWrites.findIndex(h=>h.writeId===e);V(r>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[r];n.allWrites.splice(r,1);let l=s.visible,u=!1,f=n.allWrites.length-1;for(;l&&f>=0;){const h=n.allWrites[f];h.visible&&(f>=r&&$O(h,s.path)?l=!1:tn(s.path,h.path)&&(u=!0)),f--}if(l){if(u)return ZO(n),!0;if(s.snap)n.visibleWrites=fE(n.visibleWrites,s.path);else{const h=s.children;ft(h,p=>{n.visibleWrites=fE(n.visibleWrites,je(s.path,p))})}return!0}else return!1}function $O(n,e){if(n.snap)return tn(n.path,e);for(const r in n.children)if(n.children.hasOwnProperty(r)&&tn(je(n.path,r),e))return!0;return!1}function ZO(n){n.visibleWrites=Cb(n.allWrites,JO,Ee()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function JO(n){return n.visible}function Cb(n,e,r){let s=dn.empty();for(let l=0;l<n.length;++l){const u=n[l];if(e(u)){const f=u.path;let h;if(u.snap)tn(r,f)?(h=_t(r,f),s=el(s,h,u.snap)):tn(f,r)&&(h=_t(f,r),s=el(s,Ee(),u.snap.getChild(h)));else if(u.children){if(tn(r,f))h=_t(r,f),s=kh(s,h,u.children);else if(tn(f,r))if(h=_t(f,r),pe(h))s=kh(s,Ee(),u.children);else{const p=As(u.children,ue(h));if(p){const m=p.getChild(ke(h));s=el(s,Ee(),m)}}}else throw Ps("WriteRecord should have .snap or .children")}}return s}function Tb(n,e,r,s,l){if(!s&&!l){const u=Or(n.visibleWrites,e);if(u!=null)return u;{const f=Bi(n.visibleWrites,e);if(Uh(f))return r;if(r==null&&!Lh(f,Ee()))return null;{const h=r||te.EMPTY_NODE;return Ms(f,h)}}}else{const u=Bi(n.visibleWrites,e);if(!l&&Uh(u))return r;if(!l&&r==null&&!Lh(u,Ee()))return null;{const f=function(m){return(m.visible||l)&&(!s||!~s.indexOf(m.writeId))&&(tn(m.path,e)||tn(e,m.path))},h=Cb(n.allWrites,f,e),p=r||te.EMPTY_NODE;return Ms(h,p)}}}function eD(n,e,r){let s=te.EMPTY_NODE;const l=Or(n.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(qe,(u,f)=>{s=s.updateImmediateChild(u,f)}),s;if(r){const u=Bi(n.visibleWrites,e);return r.forEachChild(qe,(f,h)=>{const p=Ms(Bi(u,new De(f)),h);s=s.updateImmediateChild(f,p)}),dE(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}else{const u=Bi(n.visibleWrites,e);return dE(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}}function tD(n,e,r,s,l){V(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=je(e,r);if(Lh(n.visibleWrites,u))return null;{const f=Bi(n.visibleWrites,u);return Uh(f)?l.getChild(r):Ms(f,l.getChild(r))}}function nD(n,e,r,s){const l=je(e,r),u=Or(n.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(r)){const f=Bi(n.visibleWrites,l);return Ms(f,s.getNode().getImmediateChild(r))}else return null}function iD(n,e){return Or(n.visibleWrites,e)}function rD(n,e,r,s,l,u,f){let h;const p=Bi(n.visibleWrites,e),m=Or(p,Ee());if(m!=null)h=m;else if(r!=null)h=Ms(p,r);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const y=[],_=f.getCompare(),E=u?h.getReverseIteratorFrom(s,f):h.getIteratorFrom(s,f);let T=E.getNext();for(;T&&y.length<l;)_(T,s)!==0&&y.push(T),T=E.getNext();return y}else return[]}function sD(){return{visibleWrites:dn.empty(),allWrites:[],lastWriteId:-1}}function ku(n,e,r,s){return Tb(n.writeTree,n.treePath,e,r,s)}function xp(n,e){return eD(n.writeTree,n.treePath,e)}function hE(n,e,r,s){return tD(n.writeTree,n.treePath,e,r,s)}function Lu(n,e){return iD(n.writeTree,je(n.treePath,e))}function aD(n,e,r,s,l,u){return rD(n.writeTree,n.treePath,e,r,s,l,u)}function kp(n,e,r){return nD(n.writeTree,n.treePath,e,r)}function wb(n,e){return Rb(je(n.treePath,e),n.writeTree)}function Rb(n,e){return{treePath:n,writeTree:e}}class lD{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,s=e.childName;V(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),V(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(r==="child_added"&&u==="child_removed")this.changeMap.set(s,fl(s,e.snapshotNode,l.snapshotNode));else if(r==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(r==="child_removed"&&u==="child_changed")this.changeMap.set(s,cl(s,l.oldSnap));else if(r==="child_changed"&&u==="child_added")this.changeMap.set(s,Ds(s,e.snapshotNode));else if(r==="child_changed"&&u==="child_changed")this.changeMap.set(s,fl(s,e.snapshotNode,l.oldSnap));else throw Ps("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}class oD{getCompleteChild(e){return null}getChildAfterChild(e,r,s){return null}}const Ab=new oD;class Lp{constructor(e,r,s=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=s}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Gi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kp(this.writes_,e,s)}}getChildAfterChild(e,r,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Tr(this.viewCache_),u=aD(this.writes_,l,r,1,s,e);return u.length===0?null:u[0]}}function uD(n){return{filter:n}}function cD(n,e){V(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),V(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function fD(n,e,r,s,l){const u=new lD;let f,h;if(r.type===cn.OVERWRITE){const m=r;m.source.fromUser?f=zh(n,e,m.path,m.snap,s,l,u):(V(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!pe(m.path),f=Uu(n,e,m.path,m.snap,s,l,h,u))}else if(r.type===cn.MERGE){const m=r;m.source.fromUser?f=hD(n,e,m.path,m.children,s,l,u):(V(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),f=Ph(n,e,m.path,m.children,s,l,h,u))}else if(r.type===cn.ACK_USER_WRITE){const m=r;m.revert?f=gD(n,e,m.path,s,l,u):f=pD(n,e,m.path,m.affectedTree,s,l,u)}else if(r.type===cn.LISTEN_COMPLETE)f=mD(n,e,r.path,s,u);else throw Ps("Unknown operation type: "+r.type);const p=u.getChanges();return dD(e,f,p),{viewCache:f,changes:p}}function dD(n,e,r){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=xu(n);(r.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&r.push(vb(xu(e)))}}function Nb(n,e,r,s,l,u){const f=e.eventCache;if(Lu(s,r)!=null)return e;{let h,p;if(pe(r))if(V(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Tr(e),y=m instanceof te?m:te.EMPTY_NODE,_=xp(s,y);h=n.filter.updateFullNode(e.eventCache.getNode(),_,u)}else{const m=ku(s,Tr(e));h=n.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=ue(r);if(m===".priority"){V(Fi(r)===1,"Can't have a priority with additional path components");const y=f.getNode();p=e.serverCache.getNode();const _=hE(s,r,y,p);_!=null?h=n.filter.updatePriority(y,_):h=f.getNode()}else{const y=ke(r);let _;if(f.isCompleteForChild(m)){p=e.serverCache.getNode();const E=hE(s,r,f.getNode(),p);E!=null?_=f.getNode().getImmediateChild(m).updateChild(y,E):_=f.getNode().getImmediateChild(m)}else _=kp(s,m,e.serverCache);_!=null?h=n.filter.updateChild(f.getNode(),m,_,y,l,u):h=f.getNode()}}return Ja(e,h,f.isFullyInitialized()||pe(r),n.filter.filtersNodes())}}function Uu(n,e,r,s,l,u,f,h){const p=e.serverCache;let m;const y=f?n.filter:n.filter.getIndexedFilter();if(pe(r))m=y.updateFullNode(p.getNode(),s,null);else if(y.filtersNodes()&&!p.isFiltered()){const T=p.getNode().updateChild(r,s);m=y.updateFullNode(p.getNode(),T,null)}else{const T=ue(r);if(!p.isCompleteForPath(r)&&Fi(r)>1)return e;const O=ke(r),P=p.getNode().getImmediateChild(T).updateChild(O,s);T===".priority"?m=y.updatePriority(p.getNode(),P):m=y.updateChild(p.getNode(),T,P,O,Ab,null)}const _=Sb(e,m,p.isFullyInitialized()||pe(r),y.filtersNodes()),E=new Lp(l,_,u);return Nb(n,_,r,l,E,h)}function zh(n,e,r,s,l,u,f){const h=e.eventCache;let p,m;const y=new Lp(l,e,u);if(pe(r))m=n.filter.updateFullNode(e.eventCache.getNode(),s,f),p=Ja(e,m,!0,n.filter.filtersNodes());else{const _=ue(r);if(_===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),s),p=Ja(e,m,h.isFullyInitialized(),h.isFiltered());else{const E=ke(r),T=h.getNode().getImmediateChild(_);let O;if(pe(E))O=s;else{const z=y.getCompleteChild(_);z!=null?Tp(E)===".priority"&&z.getChild(db(E)).isEmpty()?O=z:O=z.updateChild(E,s):O=te.EMPTY_NODE}if(T.equals(O))p=e;else{const z=n.filter.updateChild(h.getNode(),_,O,E,y,f);p=Ja(e,z,h.isFullyInitialized(),n.filter.filtersNodes())}}}return p}function pE(n,e){return n.eventCache.isCompleteForChild(e)}function hD(n,e,r,s,l,u,f){let h=e;return s.foreach((p,m)=>{const y=je(r,p);pE(e,ue(y))&&(h=zh(n,h,y,m,l,u,f))}),s.foreach((p,m)=>{const y=je(r,p);pE(e,ue(y))||(h=zh(n,h,y,m,l,u,f))}),h}function mE(n,e,r){return r.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function Ph(n,e,r,s,l,u,f,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;pe(r)?m=s:m=new xe(null).setTree(r,s);const y=e.serverCache.getNode();return m.children.inorderTraversal((_,E)=>{if(y.hasChild(_)){const T=e.serverCache.getNode().getImmediateChild(_),O=mE(n,T,E);p=Uu(n,p,new De(_),O,l,u,f,h)}}),m.children.inorderTraversal((_,E)=>{const T=!e.serverCache.isCompleteForChild(_)&&E.value===null;if(!y.hasChild(_)&&!T){const O=e.serverCache.getNode().getImmediateChild(_),z=mE(n,O,E);p=Uu(n,p,new De(_),z,l,u,f,h)}}),p}function pD(n,e,r,s,l,u,f){if(Lu(l,r)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(pe(r)&&p.isFullyInitialized()||p.isCompleteForPath(r))return Uu(n,e,r,p.getNode().getChild(r),l,u,h,f);if(pe(r)){let m=new xe(null);return p.getNode().forEachChild(bs,(y,_)=>{m=m.set(new De(y),_)}),Ph(n,e,r,m,l,u,h,f)}else return e}else{let m=new xe(null);return s.foreach((y,_)=>{const E=je(r,y);p.isCompleteForPath(E)&&(m=m.set(y,p.getNode().getChild(E)))}),Ph(n,e,r,m,l,u,h,f)}}function mD(n,e,r,s,l){const u=e.serverCache,f=Sb(e,u.getNode(),u.isFullyInitialized()||pe(r),u.isFiltered());return Nb(n,f,r,s,Ab,l)}function gD(n,e,r,s,l,u){let f;if(Lu(s,r)!=null)return e;{const h=new Lp(s,e,l),p=e.eventCache.getNode();let m;if(pe(r)||ue(r)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=ku(s,Tr(e));else{const _=e.serverCache.getNode();V(_ instanceof te,"serverChildren would be complete if leaf node"),y=xp(s,_)}y=y,m=n.filter.updateFullNode(p,y,u)}else{const y=ue(r);let _=kp(s,y,e.serverCache);_==null&&e.serverCache.isCompleteForChild(y)&&(_=p.getImmediateChild(y)),_!=null?m=n.filter.updateChild(p,y,_,ke(r),h,u):e.eventCache.getNode().hasChild(y)?m=n.filter.updateChild(p,y,te.EMPTY_NODE,ke(r),h,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=ku(s,Tr(e)),f.isLeafNode()&&(m=n.filter.updateFullNode(m,f,u)))}return f=e.serverCache.isFullyInitialized()||Lu(s,Ee())!=null,Ja(e,m,f,n.filter.filtersNodes())}}class _D{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new Np(s.getIndex()),u=LO(s);this.processor_=uD(u);const f=r.serverCache,h=r.eventCache,p=l.updateFullNode(te.EMPTY_NODE,f.getNode(),null),m=u.updateFullNode(te.EMPTY_NODE,h.getNode(),null),y=new Gi(p,f.isFullyInitialized(),l.filtersNodes()),_=new Gi(m,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=ac(_,y),this.eventGenerator_=new qO(this.query_)}get query(){return this.query_}}function yD(n){return n.viewCache_.serverCache.getNode()}function vD(n){return xu(n.viewCache_)}function ED(n,e){const r=Tr(n.viewCache_);return r&&(n.query._queryParams.loadsAllData()||!pe(e)&&!r.getImmediateChild(ue(e)).isEmpty())?r.getChild(e):null}function gE(n){return n.eventRegistrations_.length===0}function SD(n,e){n.eventRegistrations_.push(e)}function _E(n,e,r){const s=[];if(r){V(e==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(r,l);f&&s.push(f)})}if(e){let l=[];for(let u=0;u<n.eventRegistrations_.length;++u){const f=n.eventRegistrations_[u];if(!f.matches(e))l.push(f);else if(e.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(u+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function yE(n,e,r,s){e.type===cn.MERGE&&e.source.queryId!==null&&(V(Tr(n.viewCache_),"We should always have a full cache before handling merges"),V(xu(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,u=fD(n.processor_,l,e,r,s);return cD(n.processor_,u.viewCache),V(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,Ob(n,u.changes,u.viewCache.eventCache.getNode(),null)}function bD(n,e){const r=n.viewCache_.eventCache,s=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(qe,(u,f)=>{s.push(Ds(u,f))}),r.isFullyInitialized()&&s.push(vb(r.getNode())),Ob(n,s,r.getNode(),e)}function Ob(n,e,r,s){const l=s?[s]:n.eventRegistrations_;return VO(n.eventGenerator_,e,r,l)}let zu;class Db{constructor(){this.views=new Map}}function CD(n){V(!zu,"__referenceConstructor has already been defined"),zu=n}function TD(){return V(zu,"Reference.ts has not been loaded"),zu}function wD(n){return n.views.size===0}function Up(n,e,r,s){const l=e.source.queryId;if(l!==null){const u=n.views.get(l);return V(u!=null,"SyncTree gave us an op for an invalid query."),yE(u,e,r,s)}else{let u=[];for(const f of n.views.values())u=u.concat(yE(f,e,r,s));return u}}function Ib(n,e,r,s,l){const u=e._queryIdentifier,f=n.views.get(u);if(!f){let h=ku(r,l?s:null),p=!1;h?p=!0:s instanceof te?(h=xp(r,s),p=!1):(h=te.EMPTY_NODE,p=!1);const m=ac(new Gi(h,p,!1),new Gi(s,l,!1));return new _D(e,m)}return f}function RD(n,e,r,s,l,u){const f=Ib(n,e,s,l,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,f),SD(f,r),bD(f,r)}function AD(n,e,r,s){const l=e._queryIdentifier,u=[];let f=[];const h=Yi(n);if(l==="default")for(const[p,m]of n.views.entries())f=f.concat(_E(m,r,s)),gE(m)&&(n.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=n.views.get(l);p&&(f=f.concat(_E(p,r,s)),gE(p)&&(n.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return h&&!Yi(n)&&u.push(new(TD())(e._repo,e._path)),{removed:u,events:f}}function Mb(n){const e=[];for(const r of n.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function ji(n,e){let r=null;for(const s of n.views.values())r=r||ED(s,e);return r}function xb(n,e){if(e._queryParams.loadsAllData())return oc(n);{const s=e._queryIdentifier;return n.views.get(s)}}function kb(n,e){return xb(n,e)!=null}function Yi(n){return oc(n)!=null}function oc(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Pu;function ND(n){V(!Pu,"__referenceConstructor has already been defined"),Pu=n}function OD(){return V(Pu,"Reference.ts has not been loaded"),Pu}let DD=1;class vE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new xe(null),this.pendingWriteTree_=sD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Lb(n,e,r,s,l){return QO(n.pendingWriteTree_,e,r,s,l),l?Vs(n,new Cr(Dp(),e,r)):[]}function ID(n,e,r,s){KO(n.pendingWriteTree_,e,r,s);const l=xe.fromObject(r);return Vs(n,new Is(Dp(),e,l))}function Ui(n,e,r=!1){const s=WO(n.pendingWriteTree_,e);if(XO(n.pendingWriteTree_,e)){let u=new xe(null);return s.snap!=null?u=u.set(Ee(),!0):ft(s.children,f=>{u=u.set(new De(f),!0)}),Vs(n,new Mu(s.path,u,r))}else return[]}function Il(n,e,r){return Vs(n,new Cr(Ip(),e,r))}function MD(n,e,r){const s=xe.fromObject(r);return Vs(n,new Is(Ip(),e,s))}function xD(n,e){return Vs(n,new hl(Ip(),e))}function kD(n,e,r){const s=Pp(n,r);if(s){const l=Hp(s),u=l.path,f=l.queryId,h=_t(u,e),p=new hl(Mp(f),h);return Bp(n,u,p)}else return[]}function Hu(n,e,r,s,l=!1){const u=e._path,f=n.syncPointTree_.get(u);let h=[];if(f&&(e._queryIdentifier==="default"||kb(f,e))){const p=AD(f,e,r,s);wD(f)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const m=p.removed;if(h=p.events,!l){const y=m.findIndex(E=>E._queryParams.loadsAllData())!==-1,_=n.syncPointTree_.findOnPath(u,(E,T)=>Yi(T));if(y&&!_){const E=n.syncPointTree_.subtree(u);if(!E.isEmpty()){const T=zD(E);for(let O=0;O<T.length;++O){const z=T[O],P=z.query,q=Hb(n,z);n.listenProvider_.startListening(tl(P),pl(n,P),q.hashFn,q.onComplete)}}}!_&&m.length>0&&!s&&(y?n.listenProvider_.stopListening(tl(e),null):m.forEach(E=>{const T=n.queryToTagMap.get(uc(E));n.listenProvider_.stopListening(tl(E),T)}))}PD(n,m)}return h}function Ub(n,e,r,s){const l=Pp(n,s);if(l!=null){const u=Hp(l),f=u.path,h=u.queryId,p=_t(f,e),m=new Cr(Mp(h),p,r);return Bp(n,f,m)}else return[]}function LD(n,e,r,s){const l=Pp(n,s);if(l){const u=Hp(l),f=u.path,h=u.queryId,p=_t(f,e),m=xe.fromObject(r),y=new Is(Mp(h),p,m);return Bp(n,f,y)}else return[]}function Hh(n,e,r,s=!1){const l=e._path;let u=null,f=!1;n.syncPointTree_.foreachOnPath(l,(E,T)=>{const O=_t(E,l);u=u||ji(T,O),f=f||Yi(T)});let h=n.syncPointTree_.get(l);h?(f=f||Yi(h),u=u||ji(h,Ee())):(h=new Db,n.syncPointTree_=n.syncPointTree_.set(l,h));let p;u!=null?p=!0:(p=!1,u=te.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((T,O)=>{const z=ji(O,Ee());z&&(u=u.updateImmediateChild(T,z))}));const m=kb(h,e);if(!m&&!e._queryParams.loadsAllData()){const E=uc(e);V(!n.queryToTagMap.has(E),"View does not exist, but we have a tag");const T=HD();n.queryToTagMap.set(E,T),n.tagToQueryMap.set(T,E)}const y=lc(n.pendingWriteTree_,l);let _=RD(h,e,r,y,u,p);if(!m&&!f&&!s){const E=xb(h,e);_=_.concat(BD(n,e,E))}return _}function zp(n,e,r){const l=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(f,h)=>{const p=_t(f,e),m=ji(h,p);if(m)return m});return Tb(l,e,u,r,!0)}function UD(n,e){const r=e._path;let s=null;n.syncPointTree_.foreachOnPath(r,(m,y)=>{const _=_t(m,r);s=s||ji(y,_)});let l=n.syncPointTree_.get(r);l?s=s||ji(l,Ee()):(l=new Db,n.syncPointTree_=n.syncPointTree_.set(r,l));const u=s!=null,f=u?new Gi(s,!0,!1):null,h=lc(n.pendingWriteTree_,e._path),p=Ib(l,e,h,u?f.getNode():te.EMPTY_NODE,u);return vD(p)}function Vs(n,e){return zb(e,n.syncPointTree_,null,lc(n.pendingWriteTree_,Ee()))}function zb(n,e,r,s){if(pe(n.path))return Pb(n,e,r,s);{const l=e.get(Ee());r==null&&l!=null&&(r=ji(l,Ee()));let u=[];const f=ue(n.path),h=n.operationForChild(f),p=e.children.get(f);if(p&&h){const m=r?r.getImmediateChild(f):null,y=wb(s,f);u=u.concat(zb(h,p,m,y))}return l&&(u=u.concat(Up(l,n,s,r))),u}}function Pb(n,e,r,s){const l=e.get(Ee());r==null&&l!=null&&(r=ji(l,Ee()));let u=[];return e.children.inorderTraversal((f,h)=>{const p=r?r.getImmediateChild(f):null,m=wb(s,f),y=n.operationForChild(f);y&&(u=u.concat(Pb(y,h,p,m)))}),l&&(u=u.concat(Up(l,n,s,r))),u}function Hb(n,e){const r=e.query,s=pl(n,r);return{hashFn:()=>(yD(e)||te.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?kD(n,r._path,s):xD(n,r._path);{const u=xN(l,r);return Hu(n,r,null,u)}}}}function pl(n,e){const r=uc(e);return n.queryToTagMap.get(r)}function uc(n){return n._path.toString()+"$"+n._queryIdentifier}function Pp(n,e){return n.tagToQueryMap.get(e)}function Hp(n){const e=n.indexOf("$");return V(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new De(n.substr(0,e))}}function Bp(n,e,r){const s=n.syncPointTree_.get(e);V(s,"Missing sync point for query tag that we're tracking");const l=lc(n.pendingWriteTree_,e);return Up(s,r,l,null)}function zD(n){return n.fold((e,r,s)=>{if(r&&Yi(r))return[oc(r)];{let l=[];return r&&(l=Mb(r)),ft(s,(u,f)=>{l=l.concat(f)}),l}})}function tl(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(OD())(n._repo,n._path):n}function PD(n,e){for(let r=0;r<e.length;++r){const s=e[r];if(!s._queryParams.loadsAllData()){const l=uc(s),u=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(u)}}}function HD(){return DD++}function BD(n,e,r){const s=e._path,l=pl(n,e),u=Hb(n,r),f=n.listenProvider_.startListening(tl(e),l,u.hashFn,u.onComplete),h=n.syncPointTree_.subtree(s);if(l)V(!Yi(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((m,y,_)=>{if(!pe(m)&&y&&Yi(y))return[oc(y).query];{let E=[];return y&&(E=E.concat(Mb(y).map(T=>T.query))),ft(_,(T,O)=>{E=E.concat(O)}),E}});for(let m=0;m<p.length;++m){const y=p[m];n.listenProvider_.stopListening(tl(y),pl(n,y))}}return f}class jp{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new jp(r)}node(){return this.node_}}class qp{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=je(this.path_,e);return new qp(this.syncTree_,r)}node(){return zp(this.syncTree_,this.path_)}}const jD=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},EE=function(n,e,r){if(!n||typeof n!="object")return n;if(V(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return qD(n[".sv"],e,r);if(typeof n[".sv"]=="object")return VD(n[".sv"],e);V(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},qD=function(n,e,r){if(n==="timestamp")return r.timestamp;V(!1,"Unexpected server value: "+n)},VD=function(n,e,r){n.hasOwnProperty("increment")||V(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&V(!1,"Unexpected increment value: "+s);const l=e.node();if(V(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const f=l.getValue();return typeof f!="number"?s:f+s},Bb=function(n,e,r,s){return Vp(e,new qp(r,n),s)},jb=function(n,e,r){return Vp(n,new jp(e),r)};function Vp(n,e,r){const s=n.getPriority().val(),l=EE(s,e.getImmediateChild(".priority"),r);let u;if(n.isLeafNode()){const f=n,h=EE(f.getValue(),e,r);return h!==f.getValue()||l!==f.getPriority().val()?new nt(h,Ze(l)):n}else{const f=n;return u=f,l!==f.getPriority().val()&&(u=u.updatePriority(new nt(l))),f.forEachChild(qe,(h,p)=>{const m=Vp(p,e.getImmediateChild(h),r);m!==p&&(u=u.updateImmediateChild(h,m))}),u}}class Fp{constructor(e="",r=null,s={children:{},childCount:0}){this.name=e,this.parent=r,this.node=s}}function Gp(n,e){let r=e instanceof De?e:new De(e),s=n,l=ue(r);for(;l!==null;){const u=As(s.node.children,l)||{children:{},childCount:0};s=new Fp(l,s,u),r=ke(r),l=ue(r)}return s}function Fs(n){return n.node.value}function qb(n,e){n.node.value=e,Bh(n)}function Vb(n){return n.node.childCount>0}function FD(n){return Fs(n)===void 0&&!Vb(n)}function cc(n,e){ft(n.node.children,(r,s)=>{e(new Fp(r,n,s))})}function Fb(n,e,r,s){r&&e(n),cc(n,l=>{Fb(l,e,!0)})}function GD(n,e,r){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Ml(n){return new De(n.parent===null?n.name:Ml(n.parent)+"/"+n.name)}function Bh(n){n.parent!==null&&YD(n.parent,n.name,n)}function YD(n,e,r){const s=FD(r),l=Cn(n.node.children,e);s&&l?(delete n.node.children[e],n.node.childCount--,Bh(n)):!s&&!l&&(n.node.children[e]=r.node,n.node.childCount++,Bh(n))}const QD=/[\[\].#$\/\u0000-\u001F\u007F]/,KD=/[\[\].#$\u0000-\u001F\u007F]/,ph=10*1024*1024,Yp=function(n){return typeof n=="string"&&n.length!==0&&!QD.test(n)},Gb=function(n){return typeof n=="string"&&n.length!==0&&!KD.test(n)},WD=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Gb(n)},XD=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!vp(n)||n&&typeof n=="object"&&Cn(n,".sv")},Yb=function(n,e,r,s){s&&e===void 0||fc(ic(n,"value"),e,r)},fc=function(n,e,r){const s=r instanceof De?new hO(r,n):r;if(e===void 0)throw new Error(n+"contains undefined "+yr(s));if(typeof e=="function")throw new Error(n+"contains a function "+yr(s)+" with contents = "+e.toString());if(vp(e))throw new Error(n+"contains "+e.toString()+" "+yr(s));if(typeof e=="string"&&e.length>ph/3&&rc(e)>ph)throw new Error(n+"contains a string greater than "+ph+" utf8 bytes "+yr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(ft(e,(f,h)=>{if(f===".value")l=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!Yp(f)))throw new Error(n+" contains an invalid key ("+f+") "+yr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);pO(s,f),fc(n,h,s),mO(s)}),l&&u)throw new Error(n+' contains ".value" child '+yr(s)+" in addition to actual children.")}},$D=function(n,e){let r,s;for(r=0;r<e.length;r++){s=e[r];const u=ul(s);for(let f=0;f<u.length;f++)if(!(u[f]===".priority"&&f===u.length-1)){if(!Yp(u[f]))throw new Error(n+"contains an invalid key ("+u[f]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(dO);let l=null;for(r=0;r<e.length;r++){if(s=e[r],l!==null&&tn(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},ZD=function(n,e,r,s){const l=ic(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const u=[];ft(e,(f,h)=>{const p=new De(f);if(fc(l,h,je(r,p)),Tp(p)===".priority"&&!XD(h))throw new Error(l+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),$D(l,u)},Qb=function(n,e,r,s){if(!Gb(r))throw new Error(ic(n,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},JD=function(n,e,r,s){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Qb(n,e,r)},Qp=function(n,e){if(ue(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},eI=function(n,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Yp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!WD(r))throw new Error(ic(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class tI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dc(n,e){let r=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();r!==null&&!wp(u,r.path)&&(n.eventLists_.push(r),r=null),r===null&&(r={events:[],path:u}),r.events.push(l)}r&&n.eventLists_.push(r)}function Kb(n,e,r){dc(n,r),Wb(n,s=>wp(s,e))}function nn(n,e,r){dc(n,r),Wb(n,s=>tn(s,e)||tn(e,s))}function Wb(n,e){n.recursionDepth_++;let r=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];if(l){const u=l.path;e(u)?(nI(n.eventLists_[s]),n.eventLists_[s]=null):r=!1}}r&&(n.eventLists_=[]),n.recursionDepth_--}function nI(n){for(let e=0;e<n.events.length;e++){const r=n.events[e];if(r!==null){n.events[e]=null;const s=r.getEventRunner();$a&&ct("event: "+r.toString()),qs(s)}}}const iI="repo_interrupt",rI=25;class sI{constructor(e,r,s,l){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new tI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Iu(),this.transactionQueueTree_=new Fp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function aI(n,e,r){if(n.stats_=bp(n.repoInfo_),n.forceRestClient_||zN())n.server_=new Du(n.repoInfo_,(s,l,u,f)=>{SE(n,s,l,u,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>bE(n,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Je(r)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new Xn(n.repoInfo_,e,(s,l,u,f)=>{SE(n,s,l,u,f)},s=>{bE(n,s)},s=>{lI(n,s)},n.authTokenProvider_,n.appCheckProvider_,r),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=qN(n.repoInfo_,()=>new jO(n.stats_,n.server_)),n.infoData_=new UO,n.infoSyncTree_=new vE({startListening:(s,l,u,f)=>{let h=[];const p=n.infoData_.getNode(s._path);return p.isEmpty()||(h=Il(n.infoSyncTree_,s._path,p),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),Kp(n,"connected",!1),n.serverSyncTree_=new vE({startListening:(s,l,u,f)=>(n.server_.listen(s,u,l,(h,p)=>{const m=f(h,p);nn(n.eventQueue_,s._path,m)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}function Xb(n){const r=n.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function hc(n){return jD({timestamp:Xb(n)})}function SE(n,e,r,s,l){n.dataUpdateCount++;const u=new De(e);r=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,r):r;let f=[];if(l)if(s){const p=wu(r,m=>Ze(m));f=LD(n.serverSyncTree_,u,p,l)}else{const p=Ze(r);f=Ub(n.serverSyncTree_,u,p,l)}else if(s){const p=wu(r,m=>Ze(m));f=MD(n.serverSyncTree_,u,p)}else{const p=Ze(r);f=Il(n.serverSyncTree_,u,p)}let h=u;f.length>0&&(h=xs(n,u)),nn(n.eventQueue_,h,f)}function bE(n,e){Kp(n,"connected",e),e===!1&&fI(n)}function lI(n,e){ft(e,(r,s)=>{Kp(n,r,s)})}function Kp(n,e,r){const s=new De("/.info/"+e),l=Ze(r);n.infoData_.updateSnapshot(s,l);const u=Il(n.infoSyncTree_,s,l);nn(n.eventQueue_,s,u)}function Wp(n){return n.nextWriteId_++}function oI(n,e,r){const s=UD(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(l=>{const u=Ze(l).withIndex(e._queryParams.getIndex());Hh(n.serverSyncTree_,e,r,!0);let f;if(e._queryParams.loadsAllData())f=Il(n.serverSyncTree_,e._path,u);else{const h=pl(n.serverSyncTree_,e);f=Ub(n.serverSyncTree_,e._path,u,h)}return nn(n.eventQueue_,e._path,f),Hu(n.serverSyncTree_,e,r,null,!0),u},l=>(xl(n,"get for query "+Je(e)+" failed: "+l),Promise.reject(new Error(l))))}function uI(n,e,r,s,l){xl(n,"set",{path:e.toString(),value:r,priority:s});const u=hc(n),f=Ze(r,s),h=zp(n.serverSyncTree_,e),p=jb(f,h,u),m=Wp(n),y=Lb(n.serverSyncTree_,e,p,m,!0);dc(n.eventQueue_,y),n.server_.put(e.toString(),f.val(!0),(E,T)=>{const O=E==="ok";O||yt("set at "+e+" failed: "+E);const z=Ui(n.serverSyncTree_,m,!O);nn(n.eventQueue_,e,z),jh(n,l,E,T)});const _=$p(n,e);xs(n,_),nn(n.eventQueue_,_,[])}function cI(n,e,r,s){xl(n,"update",{path:e.toString(),value:r});let l=!0;const u=hc(n),f={};if(ft(r,(h,p)=>{l=!1,f[h]=Bb(je(e,h),Ze(p),n.serverSyncTree_,u)}),l)ct("update() called with empty data.  Don't do anything."),jh(n,s,"ok",void 0);else{const h=Wp(n),p=ID(n.serverSyncTree_,e,f,h);dc(n.eventQueue_,p),n.server_.merge(e.toString(),r,(m,y)=>{const _=m==="ok";_||yt("update at "+e+" failed: "+m);const E=Ui(n.serverSyncTree_,h,!_),T=E.length>0?xs(n,e):e;nn(n.eventQueue_,T,E),jh(n,s,m,y)}),ft(r,m=>{const y=$p(n,je(e,m));xs(n,y)}),nn(n.eventQueue_,e,[])}}function fI(n){xl(n,"onDisconnectEvents");const e=hc(n),r=Iu();xh(n.onDisconnect_,Ee(),(l,u)=>{const f=Bb(l,u,n.serverSyncTree_,e);Eb(r,l,f)});let s=[];xh(r,Ee(),(l,u)=>{s=s.concat(Il(n.serverSyncTree_,l,u));const f=$p(n,l);xs(n,f)}),n.onDisconnect_=Iu(),nn(n.eventQueue_,Ee(),s)}function dI(n,e,r){let s;ue(e._path)===".info"?s=Hh(n.infoSyncTree_,e,r):s=Hh(n.serverSyncTree_,e,r),Kb(n.eventQueue_,e._path,s)}function CE(n,e,r){let s;ue(e._path)===".info"?s=Hu(n.infoSyncTree_,e,r):s=Hu(n.serverSyncTree_,e,r),Kb(n.eventQueue_,e._path,s)}function hI(n){n.persistentConnection_&&n.persistentConnection_.interrupt(iI)}function xl(n,...e){let r="";n.persistentConnection_&&(r=n.persistentConnection_.id+":"),ct(r,...e)}function jh(n,e,r,s){e&&qs(()=>{if(r==="ok")e(null);else{const l=(r||"error").toUpperCase();let u=l;s&&(u+=": "+s);const f=new Error(u);f.code=l,e(f)}})}function $b(n,e,r){return zp(n.serverSyncTree_,e,r)||te.EMPTY_NODE}function Xp(n,e=n.transactionQueueTree_){if(e||pc(n,e),Fs(e)){const r=Jb(n,e);V(r.length>0,"Sending zero length transaction queue"),r.every(l=>l.status===0)&&pI(n,Ml(e),r)}else Vb(e)&&cc(e,r=>{Xp(n,r)})}function pI(n,e,r){const s=r.map(m=>m.currentWriteId),l=$b(n,e,s);let u=l;const f=l.hash();for(let m=0;m<r.length;m++){const y=r[m];V(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const _=_t(e,y.path);u=u.updateChild(_,y.currentOutputSnapshotRaw)}const h=u.val(!0),p=e;n.server_.put(p.toString(),h,m=>{xl(n,"transaction put response",{path:p.toString(),status:m});let y=[];if(m==="ok"){const _=[];for(let E=0;E<r.length;E++)r[E].status=2,y=y.concat(Ui(n.serverSyncTree_,r[E].currentWriteId)),r[E].onComplete&&_.push(()=>r[E].onComplete(null,!0,r[E].currentOutputSnapshotResolved)),r[E].unwatcher();pc(n,Gp(n.transactionQueueTree_,e)),Xp(n,n.transactionQueueTree_),nn(n.eventQueue_,e,y);for(let E=0;E<_.length;E++)qs(_[E])}else{if(m==="datastale")for(let _=0;_<r.length;_++)r[_].status===3?r[_].status=4:r[_].status=0;else{yt("transaction at "+p.toString()+" failed: "+m);for(let _=0;_<r.length;_++)r[_].status=4,r[_].abortReason=m}xs(n,e)}},f)}function xs(n,e){const r=Zb(n,e),s=Ml(r),l=Jb(n,r);return mI(n,l,s),s}function mI(n,e,r){if(e.length===0)return;const s=[];let l=[];const f=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],m=_t(r,p.path);let y=!1,_;if(V(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,_=p.abortReason,l=l.concat(Ui(n.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=rI)y=!0,_="maxretry",l=l.concat(Ui(n.serverSyncTree_,p.currentWriteId,!0));else{const E=$b(n,p.path,f);p.currentInputSnapshot=E;const T=e[h].update(E.val());if(T!==void 0){fc("transaction failed: Data returned ",T,p.path);let O=Ze(T);typeof T=="object"&&T!=null&&Cn(T,".priority")||(O=O.updatePriority(E.getPriority()));const P=p.currentWriteId,q=hc(n),j=jb(O,E,q);p.currentOutputSnapshotRaw=O,p.currentOutputSnapshotResolved=j,p.currentWriteId=Wp(n),f.splice(f.indexOf(P),1),l=l.concat(Lb(n.serverSyncTree_,p.path,j,p.currentWriteId,p.applyLocally)),l=l.concat(Ui(n.serverSyncTree_,P,!0))}else y=!0,_="nodata",l=l.concat(Ui(n.serverSyncTree_,p.currentWriteId,!0))}nn(n.eventQueue_,r,l),l=[],y&&(e[h].status=2,(function(E){setTimeout(E,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(_==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(_),!1,null))))}pc(n,n.transactionQueueTree_);for(let h=0;h<s.length;h++)qs(s[h]);Xp(n,n.transactionQueueTree_)}function Zb(n,e){let r,s=n.transactionQueueTree_;for(r=ue(e);r!==null&&Fs(s)===void 0;)s=Gp(s,r),e=ke(e),r=ue(e);return s}function Jb(n,e){const r=[];return e0(n,e,r),r.sort((s,l)=>s.order-l.order),r}function e0(n,e,r){const s=Fs(e);if(s)for(let l=0;l<s.length;l++)r.push(s[l]);cc(e,l=>{e0(n,l,r)})}function pc(n,e){const r=Fs(e);if(r){let s=0;for(let l=0;l<r.length;l++)r[l].status!==2&&(r[s]=r[l],s++);r.length=s,qb(e,r.length>0?r:void 0)}cc(e,s=>{pc(n,s)})}function $p(n,e){const r=Ml(Zb(n,e)),s=Gp(n.transactionQueueTree_,e);return GD(s,l=>{mh(n,l)}),mh(n,s),Fb(s,l=>{mh(n,l)}),r}function mh(n,e){const r=Fs(e);if(r){const s=[];let l=[],u=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(V(u===f-1,"All SENT items should be at beginning of queue."),u=f,r[f].status=3,r[f].abortReason="set"):(V(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),l=l.concat(Ui(n.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&s.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?qb(e,void 0):r.length=u+1,nn(n.eventQueue_,Ml(e),l);for(let f=0;f<s.length;f++)qs(s[f])}}function gI(n){let e="";const r=n.split("/");for(let s=0;s<r.length;s++)if(r[s].length>0){let l=r[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function _I(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const r of n.split("&")){if(r.length===0)continue;const s=r.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):yt(`Invalid query segment '${r}' in query '${n}'`)}return e}const TE=function(n,e){const r=yI(n),s=r.namespace;r.domain==="firebase.com"&&ni(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&r.domain!=="localhost"&&ni("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||NN();const l=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new ib(r.host,r.secure,s,l,e,"",s!==r.subdomain),path:new De(r.pathString)}},yI=function(n){let e="",r="",s="",l="",u="",f=!0,h="https",p=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(h=n.substring(0,m-1),n=n.substring(m+2));let y=n.indexOf("/");y===-1&&(y=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),e=n.substring(0,Math.min(y,_)),y<_&&(l=gI(n.substring(y,_)));const E=_I(n.substring(Math.min(n.length,_)));m=e.indexOf(":"),m>=0?(f=h==="https"||h==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const T=e.slice(0,m);if(T.toLowerCase()==="localhost")r="localhost";else if(T.split(".").length<=2)r=T;else{const O=e.indexOf(".");s=e.substring(0,O).toLowerCase(),r=e.substring(O+1),u=s}"ns"in E&&(u=E.ns)}return{host:e,port:p,domain:r,subdomain:s,secure:f,scheme:h,pathString:l,namespace:u}};const wE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",vI=(function(){let n=0;const e=[];return function(r){const s=r===n;n=r;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=wE.charAt(r%64),r=Math.floor(r/64);V(r===0,"Cannot push at time == 0");let f=u.join("");if(s){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)f+=wE.charAt(e[l]);return V(f.length===20,"nextPushId: Length should be 20."),f}})();class EI{constructor(e,r,s,l){this.eventType=e,this.eventRegistration=r,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Je(this.snapshot.exportVal())}}class SI{constructor(e,r,s){this.eventRegistration=e,this.error=r,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class t0{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return V(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Zp{constructor(e,r,s,l){this._repo=e,this._path=r,this._queryParams=s,this._orderByCalled=l}get key(){return pe(this._path)?null:Tp(this._path)}get ref(){return new si(this._repo,this._path)}get _queryIdentifier(){const e=uE(this._queryParams),r=Ep(e);return r==="{}"?"default":r}get _queryObject(){return uE(this._queryParams)}isEqual(e){if(e=pt(e),!(e instanceof Zp))return!1;const r=this._repo===e._repo,s=wp(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return r&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+fO(this._path)}}class si extends Zp{constructor(e,r){super(e,r,new Op,!1)}get parent(){const e=db(this._path);return e===null?null:new si(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ml{constructor(e,r,s){this._node=e,this.ref=r,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new De(e),s=gl(this.ref,e);return new ml(this._node.getChild(r),s,qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new ml(l,gl(this.ref,s),qe)))}hasChild(e){const r=new De(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $n(n,e){return n=pt(n),n._checkNotDeleted("ref"),e!==void 0?gl(n._root,e):n._root}function gl(n,e){return n=pt(n),ue(n._path)===null?JD("child","path",e):Qb("child","path",e),new si(n._repo,je(n._path,e))}function bI(n,e){n=pt(n),Qp("push",n._path),Yb("push",e,n._path,!0);const r=Xb(n._repo),s=vI(r),l=gl(n,s),u=gl(n,s);let f;return e!=null?f=Jp(u,e).then(()=>u):f=Promise.resolve(u),l.then=f.then.bind(f),l.catch=f.then.bind(f,void 0),l}function CI(n){return Qp("remove",n._path),Jp(n,null)}function Jp(n,e){n=pt(n),Qp("set",n._path),Yb("set",e,n._path,!1);const r=new Rl;return uI(n._repo,n._path,e,null,r.wrapCallback(()=>{})),r.promise}function n0(n,e){ZD("update",e,n._path);const r=new Rl;return cI(n._repo,n._path,e,r.wrapCallback(()=>{})),r.promise}function em(n){n=pt(n);const e=new t0(()=>{}),r=new mc(e);return oI(n._repo,n,r).then(s=>new ml(s,new si(n._repo,n._path),n._queryParams.getIndex()))}class mc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const s=r._queryParams.getIndex();return new EI("value",this,new ml(e.snapshotNode,new si(r._repo,r._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new SI(this,e,r):null}matches(e){return e instanceof mc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function TI(n,e,r,s,l){let u;if(typeof s=="object"&&(u=void 0,l=s),typeof s=="function"&&(u=s),l&&l.onlyOnce){const p=r,m=(y,_)=>{CE(n._repo,n,h),p(y,_)};m.userCallback=r.userCallback,m.context=r.context,r=m}const f=new t0(r,u||void 0),h=new mc(f);return dI(n._repo,n,h),()=>CE(n._repo,n,h)}function wI(n,e,r,s){return TI(n,"value",e,r,s)}CD(si);ND(si);const RI="FIREBASE_DATABASE_EMULATOR_HOST",qh={};let AI=!1;function NI(n,e,r,s){const l=e.lastIndexOf(":"),u=e.substring(0,l),f=Hs(u);n.repoInfo_=new ib(e,f,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,r),s&&(n.authTokenProvider_=s)}function OI(n,e,r,s,l){let u=s||n.options.databaseURL;u===void 0&&(n.options.projectId||ni("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f=TE(u,l),h=f.repoInfo,p;typeof process<"u"&&Gv&&(p=Gv[RI]),p?(u=`http://${p}?ns=${h.namespace}`,f=TE(u,l),h=f.repoInfo):f.repoInfo.secure;const m=new HN(n.name,n.options,e);eI("Invalid Firebase Database URL",f),pe(f.path)||ni("Database URL must point to the root of a Firebase Database (not including a child path).");const y=II(h,n,m,new PN(n,r));return new MI(y,n)}function DI(n,e){const r=qh[e];(!r||r[n.key]!==n)&&ni(`Database ${e}(${n.repoInfo_}) has already been deleted.`),hI(n),delete r[n.key]}function II(n,e,r,s){let l=qh[e.name];l||(l={},qh[e.name]=l);let u=l[n.toURLString()];return u&&ni("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new sI(n,AI,r,s),l[n.toURLString()]=u,u}class MI{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(aI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new si(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(DI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ni("Cannot call "+e+" on a deleted database.")}}function nl(n=BS(),e){const r=yp(n,"database").getImmediate({identifier:e});if(!r._instanceStarted){const s=KR("database");s&&xI(r,...s)}return r}function xI(n,e,r,s={}){n=pt(n),n._checkNotDeleted("useEmulator");const l=`${e}:${r}`,u=n._repoInternal;if(n._instanceStarted){if(l===n._repoInternal.repoInfo_.host&&Er(s,u.repoInfo_.emulatorOptions))return;ni("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&ni('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new mu(mu.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:WR(s.mockUserToken,n.app.options.projectId);f=new mu(h)}Hs(e)&&(xS(e),kS("Database",!0)),NI(u,l,s,f)}function kI(n){bN(js),Ns(new Sr("database",(e,{instanceIdentifier:r})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return OI(s,l,u,r)},"PUBLIC").setMultipleInstances(!0)),Hi(Yv,Qv,n),Hi(Yv,Qv,"esm2020")}Xn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Xn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};kI();var LI="firebase",UI="12.8.0";Hi(LI,UI,"app");const zI={apiKey:"AIzaSyCU0WPTyqBGvgTZkIoplVUPfee4Zxaln44",authDomain:"ac62-a682c.firebaseapp.com",databaseURL:"https://ac62-a682c-default-rtdb.europe-west1.firebasedatabase.app",projectId:"ac62-a682c",storageBucket:"ac62-a682c.firebasestorage.app",messagingSenderId:"574850486529",appId:"1:574850486529:web:dffd5d25e74d2501d58b00"},Cs=HS(zI),kl=nl(Cs),Ll="orders";function i0(n){return n.reduce((e,r)=>e+r.price*r.quantity,0)}function r0(n,e){const r=Array.isArray(e?.items)?e.items:[],s=typeof e?.createdAt=="number"?e.createdAt:Date.now(),l=e?.status??"CREATED",u=typeof e?.total=="number"&&Number.isFinite(e.total)?e.total:i0(r);return{id:n,createdAt:s,status:l,items:r,total:u,notes:e?.notes??""}}async function s0(n){const e=$n(kl,Ll),r={createdAt:n.createdAt??Date.now(),status:n.status??"CREATED",items:n.items??[],total:i0(n.items??[]),notes:n.notes??""},l=(await bI(e,r)).key;if(!l)throw new Error("Firebase did not return a key for the new order");return ht.info(`Order created: ${l}`),l}function PI(n,e){const r=$n(kl,Ll);return wI(r,s=>{const l=s.val(),u=l?Object.entries(l).map(([f,h])=>r0(f,h)):[];n(u)},s=>{ht.error(`Order subscribe error: ${String(s)}`),e?.(s)})}async function HI(){const n=$n(kl,Ll),r=(await em(n)).val();return r?Object.entries(r).map(([s,l])=>r0(s,l)):[]}async function BI(n,e){const r=$n(kl,`${Ll}/${n}`);await n0(r,e),ht.info(`Order updated: ${n}`)}async function jI(n){const e=$n(kl,`${Ll}/${n}`);await CI(e),ht.warn(`Order deleted: ${n}`)}async function qI(n,e){return s0({items:n,notes:e,status:"CREATED"})}const gc={create:s0,createFromCart:qI,subscribe:PI,listOnce:HI,patch:BI,deleteById:jI};function VI(n){const e=R.useContext(tC);if(!e)throw new Error("No se ha encontrado el contexto de pedidos");const[r,s]=R.useState(1),[l,u]=R.useState(n.food.price),[f,h]=R.useState(!1),[p,m]=R.useState("idle"),[y,_]=R.useState(null),E=O=>{const z=Number(O.target.value),P=Number.isFinite(z)&&z>0?z:1;ht.debug(`FoodOrder: quantity changed; raw=${O.target.value}, safe=${P}`),s(P),u(n.food.price*P)},T=async()=>{ht.info(`FoodOrder: send order clicked; foodId=${n.food.id}, qty=${r}`),m("saving"),_(null);try{e?.orderFood(n.food,r);const O={id:n.food.id,name:n.food.name,price:n.food.price,quantity:r},z=await gc.create({items:[O]});ht.info(`Order: saved to Firebase; id=${z}`),h(!0),m("saved")}catch(O){ht.error(`Order: save failed; ${String(O)}`),h(!1),m("error"),_(String(O))}};return M.jsxs("div",{className:"foodOrder",children:[M.jsx("h4",{children:"Pedido"}),M.jsx("p",{children:n.food.name}),f?M.jsxs(M.Fragment,{children:[M.jsx("p",{children:"Pedido confirmado."}),M.jsx("button",{onClick:n.onReturnToMenu,children:"Volver al men"})]}):M.jsxs(M.Fragment,{children:[M.jsxs("label",{children:["Cantidad:",M.jsx("input",{type:"number",min:1,value:r,onChange:E})]}),M.jsxs("p",{children:["Precio: ",l,"$"]}),M.jsx("button",{onClick:T,disabled:p==="saving",children:p==="saving"?"Guardando...":"Enviar pedido"}),p==="saving"&&M.jsx("p",{children:"Guardando pedido en Firebase..."}),p==="saved"&&M.jsx("p",{children:"Pedido guardado."}),p==="error"&&M.jsxs("p",{children:["Error guardando pedido: ",y]}),M.jsx("button",{onClick:n.onReturnToMenu,children:"Volver al men"})]})]})}class FI extends O1.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,r){ht.warn(`Error capturado por ErrorBoundary: ${e.message}`),ht.debug(`Detalles del error: ${r.componentStack}`)}render(){return this.state.hasError?this.props.fallback:this.props.children}}var qi=(n=>(n.ADMIN="ADMIN",n.USER="USER",n))(qi||{});function a0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GI=a0,l0=new Al("auth","Firebase",a0());const Bu=new gp("@firebase/auth");function YI(n,...e){Bu.logLevel<=Oe.WARN&&Bu.warn(`Auth (${js}): ${n}`,...e)}function gu(n,...e){Bu.logLevel<=Oe.ERROR&&Bu.error(`Auth (${js}): ${n}`,...e)}function pn(n,...e){throw tm(n,...e)}function En(n,...e){return tm(n,...e)}function o0(n,e,r){const s={...GI(),[e]:r};return new Al("auth","Firebase",s).create(e,{appName:n.name})}function Zn(n){return o0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tm(n,...e){if(typeof n!="string"){const r=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(r,...s)}return l0.create(n,...e)}function ee(n,e,...r){if(!n)throw tm(e,...r)}function Qn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gu(e),new Error(e)}function ii(n,e){n||Qn(e)}function Vh(){return typeof self<"u"&&self.location?.href||""}function QI(){return RE()==="http:"||RE()==="https:"}function RE(){return typeof self<"u"&&self.location?.protocol||null}function KI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QI()||JR()||"connection"in navigator)?navigator.onLine:!0}function WI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Ul{constructor(e,r){this.shortDelay=e,this.longDelay=r,ii(r>e,"Short delay should be less than long delay!"),this.isMobile=mp()||LS()}get(){return KI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nm(n,e){ii(n.emulator,"Emulator should always be set here");const{url:r}=n.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}class u0{static initialize(e,r,s){this.fetchImpl=e,r&&(this.headersImpl=r),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $I=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZI=new Ul(3e4,6e4);function Wi(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Xi(n,e,r,s,l={}){return c0(n,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const h=Bs({key:n.config.apiKey,...f}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:p,...u};return ZR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Hs(n.emulatorConfig.host)&&(m.credentials="include"),u0.fetch()(await f0(n,n.config.apiHost,r,h),m)})}async function c0(n,e,r){n._canInitEmulator=!1;const s={...XI,...e};try{const l=new eM(n),u=await Promise.race([r(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw uu(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const h=u.ok?f.errorMessage:f.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uu(n,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw uu(n,"email-already-in-use",f);if(p==="USER_DISABLED")throw uu(n,"user-disabled",f);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw o0(n,y,m);pn(n,y)}}catch(l){if(l instanceof Ki)throw l;pn(n,"network-request-failed",{message:String(l)})}}async function zl(n,e,r,s,l={}){const u=await Xi(n,e,r,s,l);return"mfaPendingCredential"in u&&pn(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function f0(n,e,r,s){const l=`${e}${r}?${s}`,u=n,f=u.config.emulator?nm(n.config,l):`${n.config.apiScheme}://${l}`;return $I.includes(r)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function JI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,s)=>{this.timer=setTimeout(()=>s(En(this.auth,"network-request-failed")),ZI.get())})}}function uu(n,e,r){const s={appName:n.name};r.email&&(s.email=r.email),r.phoneNumber&&(s.phoneNumber=r.phoneNumber);const l=En(n,e,s);return l.customData._tokenResponse=r,l}function AE(n){return n!==void 0&&n.enterprise!==void 0}class tM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return JI(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nM(n,e){return Xi(n,"GET","/v2/recaptchaConfig",Wi(n,e))}async function iM(n,e){return Xi(n,"POST","/v1/accounts:delete",e)}async function ju(n,e){return Xi(n,"POST","/v1/accounts:lookup",e)}function il(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rM(n,e=!1){const r=pt(n),s=await r.getIdToken(e),l=im(s);ee(l&&l.exp&&l.auth_time&&l.iat,r.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u?.sign_in_provider;return{claims:l,token:s,authTime:il(gh(l.auth_time)),issuedAtTime:il(gh(l.iat)),expirationTime:il(gh(l.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function gh(n){return Number(n)*1e3}function im(n){const[e,r,s]=n.split(".");if(e===void 0||r===void 0||s===void 0)return gu("JWT malformed, contained fewer than 3 sections"),null;try{const l=Tu(r);return l?JSON.parse(l):(gu("Failed to decode base64 JWT payload"),null)}catch(l){return gu("Caught error parsing JWT payload as JSON",l?.toString()),null}}function NE(n){const e=im(n);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _l(n,e,r=!1){if(r)return e;try{return await e}catch(s){throw s instanceof Ki&&sM(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function sM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class aM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Fh{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qu(n){const e=n.auth,r=await n.getIdToken(),s=await _l(n,ju(e,{idToken:r}));ee(s?.users.length,e,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const u=l.providerUserInfo?.length?d0(l.providerUserInfo):[],f=oM(n.providerData,u),h=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!f?.length,m=h?p:!1,y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Fh(l.createdAt,l.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function lM(n){const e=pt(n);await qu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oM(n,e){return[...n.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function d0(n){return n.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}async function uM(n,e){const r=await c0(n,{},async()=>{const s=Bs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=n.config,f=await f0(n,l,"/v1/token",`key=${u}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:s};return n.emulatorConfig&&Hs(n.emulatorConfig.host)&&(p.credentials="include"),u0.fetch()(f,p)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function cM(n,e){return Xi(n,"POST","/v2/accounts:revokeToken",Wi(n,e))}class Ts{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const r=NE(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:s,refreshToken:l,expiresIn:u}=await uM(e,r);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,r,s){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,r){const{refreshToken:s,accessToken:l,expirationTime:u}=r,f=new Ts;return s&&(ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(ee(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ts,this.toJSON())}_performRefresh(){return Qn("not implemented")}}function Ii(n,e){ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fn{constructor({uid:e,auth:r,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new aM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Fh(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const r=await _l(this,this.stsTokenManager.getToken(this.auth,e));return ee(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return rM(this,e)}reload(){return lM(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),r&&await qu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(Zn(this.auth));const e=await this.getIdToken();return await _l(this,iM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const s=r.displayName??void 0,l=r.email??void 0,u=r.phoneNumber??void 0,f=r.photoURL??void 0,h=r.tenantId??void 0,p=r._redirectEventId??void 0,m=r.createdAt??void 0,y=r.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:T,providerData:O,stsTokenManager:z}=r;ee(_&&z,e,"internal-error");const P=Ts.fromJSON(this.name,z);ee(typeof _=="string",e,"internal-error"),Ii(s,e.name),Ii(l,e.name),ee(typeof E=="boolean",e,"internal-error"),ee(typeof T=="boolean",e,"internal-error"),Ii(u,e.name),Ii(f,e.name),Ii(h,e.name),Ii(p,e.name),Ii(m,e.name),Ii(y,e.name);const q=new fn({uid:_,auth:e,email:l,emailVerified:E,displayName:s,isAnonymous:T,photoURL:f,phoneNumber:u,tenantId:h,stsTokenManager:P,createdAt:m,lastLoginAt:y});return O&&Array.isArray(O)&&(q.providerData=O.map(j=>({...j}))),p&&(q._redirectEventId=p),q}static async _fromIdTokenResponse(e,r,s=!1){const l=new Ts;l.updateFromServerResponse(r);const u=new fn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await qu(u),u}static async _fromGetAccountInfoResponse(e,r,s){const l=r.users[0];ee(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?d0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!u?.length,h=new Ts;h.updateFromIdToken(s);const p=new fn({uid:l.localId,auth:e,stsTokenManager:h,isAnonymous:f}),m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Fh(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(p,m),p}}const OE=new Map;function Kn(n){ii(n instanceof Function,"Expected a class definition");let e=OE.get(n);return e?(ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,OE.set(n,e),e)}class h0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}h0.type="NONE";const DE=h0;function _u(n,e,r){return`firebase:${n}:${e}:${r}`}class ws{constructor(e,r,s){this.persistence=e,this.auth=r,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=_u(this.userKey,l.apiKey,u),this.fullPersistenceKey=_u("persistence",l.apiKey,u),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await ju(this.auth,{idToken:e}).catch(()=>{});return r?fn._fromGetAccountInfoResponse(this.auth,r,e):null}return fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,s="authUser"){if(!r.length)return new ws(Kn(DE),e,s);const l=(await Promise.all(r.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=l[0]||Kn(DE);const f=_u(s,e.config.apiKey,e.name);let h=null;for(const m of r)try{const y=await m._get(f);if(y){let _;if(typeof y=="string"){const E=await ju(e,{idToken:y}).catch(()=>{});if(!E)break;_=await fn._fromGetAccountInfoResponse(e,E,y)}else _=fn._fromJSON(e,y);m!==u&&(h=_),u=m;break}}catch{}const p=l.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ws(u,e,s):(u=p[0],h&&await u._set(f,h.toJSON()),await Promise.all(r.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new ws(u,e,s))}}function IE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v0(e))return"Blackberry";if(E0(e))return"Webos";if(m0(e))return"Safari";if((e.includes("chrome/")||g0(e))&&!e.includes("edge/"))return"Chrome";if(y0(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(r);if(s?.length===2)return s[1]}return"Other"}function p0(n=vt()){return/firefox\//i.test(n)}function m0(n=vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g0(n=vt()){return/crios\//i.test(n)}function _0(n=vt()){return/iemobile/i.test(n)}function y0(n=vt()){return/android/i.test(n)}function v0(n=vt()){return/blackberry/i.test(n)}function E0(n=vt()){return/webos/i.test(n)}function rm(n=vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function fM(n=vt()){return rm(n)&&!!window.navigator?.standalone}function dM(){return eA()&&document.documentMode===10}function S0(n=vt()){return rm(n)||y0(n)||E0(n)||v0(n)||/windows phone/i.test(n)||_0(n)}function b0(n,e=[]){let r;switch(n){case"Browser":r=IE(vt());break;case"Worker":r=`${IE(vt())}-${n}`;break;default:r=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${js}/${s}`}class hM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const s=u=>new Promise((f,h)=>{try{const p=e(u);f(p)}catch(p){h(p)}});s.onAbort=r,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const s of this.queue)await s(e),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const l of r)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function pM(n,e={}){return Xi(n,"GET","/v2/passwordPolicy",Wi(n,e))}const mM=6;class gM{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??mM,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(r.meetsMinPasswordLength=e.length>=s),l&&(r.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(r,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,r,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class _M{constructor(e,r,s,l){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ME(this),this.idTokenSubscription=new ME(this),this.beforeStateQueue=new hM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Kn(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ws.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await ju(this,{idToken:e}),s=await fn._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(s)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(en(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&h?.user&&(s=h.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await qu(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(Zn(this));const r=e?pt(e):null;return r&&ee(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(Zn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(Zn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pM(this),r=new gM(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Al("auth","Firebase",e())}onAuthStateChanged(e,r,s){return this.registerStateListener(this.authStateSubscription,e,r,s)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,s){return this.registerStateListener(this.idTokenSubscription,e,r,s)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(s.tenantId=this.tenantId),await cM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const s=await this.getOrInitRedirectPersistenceManager(r);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Kn(e)||this._popupRedirectResolver;ee(r,this,"argument-error"),this.redirectPersistenceManager=await ws.create(this,[Kn(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,s,l){if(this._deleted)return()=>{};const u=typeof r=="function"?r:r.next.bind(r);let f=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(h,this,"internal-error"),h.then(()=>{f||u(this.currentUser)}),typeof r=="function"){const p=e.addObserver(r,s,l);return()=>{f=!0,p()}}else{const p=e.addObserver(r);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&YI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Dr(n){return pt(n)}class ME{constructor(e){this.auth=e,this.observer=null,this.addObserver=cA(r=>this.observer=r)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _c={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yM(n){_c=n}function C0(n){return _c.loadJS(n)}function vM(){return _c.recaptchaEnterpriseScript}function EM(){return _c.gapiScript}function SM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class bM{constructor(){this.enterprise=new CM}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class CM{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const TM="recaptcha-enterprise",T0="NO_RECAPTCHA";class wM{constructor(e){this.type=TM,this.auth=Dr(e)}async verify(e="verify",r=!1){async function s(u){if(!r){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,h)=>{nM(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new tM(p);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,f(m.siteKey)}}).catch(p=>{h(p)})})}function l(u,f,h){const p=window.grecaptcha;AE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(m=>{f(m)}).catch(()=>{f(T0)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bM().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(h=>{if(!r&&AE(window.grecaptcha))l(h,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=vM();p.length!==0&&(p+=h),C0(p).then(()=>{l(h,u,f)}).catch(m=>{f(m)})}}).catch(h=>{f(h)})})}}async function xE(n,e,r,s=!1,l=!1){const u=new wM(n);let f;if(l)f=T0;else try{f=await u.verify(r)}catch{f=await u.verify(r,!0)}const h={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:f}):Object.assign(h,{captchaResponse:f}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Gh(n,e,r,s,l){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await xE(n,e,r,r==="getOobCode");return s(n,u)}else return s(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await xE(n,e,r,r==="getOobCode");return s(n,f)}else return Promise.reject(u)})}function RM(n,e){const r=yp(n,"auth");if(r.isInitialized()){const l=r.getImmediate(),u=r.getOptions();if(Er(u,e??{}))return l;pn(l,"already-initialized")}return r.initialize({options:e})}function AM(n,e){const r=e?.persistence||[],s=(Array.isArray(r)?r:[r]).map(Kn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function NM(n,e,r){const s=Dr(n);ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=w0(e),{host:f,port:h}=OM(e),p=h===null?"":`:${h}`,m={url:`${u}//${f}${p}/`},y=Object.freeze({host:f,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ee(Er(m,s.config.emulator)&&Er(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Hs(f)?(xS(`${u}//${f}${p}`),kS("Auth",!0)):DM()}function w0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function OM(n){const e=w0(n),r=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!r)return{host:"",port:null};const s=r[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:kE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:kE(f)}}}function kE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DM(){function n(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class sm{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,r){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}}async function IM(n,e){return Xi(n,"POST","/v1/accounts:signUp",e)}async function MM(n,e){return zl(n,"POST","/v1/accounts:signInWithPassword",Wi(n,e))}async function xM(n,e){return zl(n,"POST","/v1/accounts:signInWithEmailLink",Wi(n,e))}async function kM(n,e){return zl(n,"POST","/v1/accounts:signInWithEmailLink",Wi(n,e))}class yl extends sm{constructor(e,r,s,l=null){super("password",s),this._email=e,this._password=r,this._tenantId=l}static _fromEmailAndPassword(e,r){return new yl(e,r,"password")}static _fromEmailAndCode(e,r,s=null){return new yl(e,r,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gh(e,r,"signInWithPassword",MM);case"emailLink":return xM(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const s={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gh(e,s,"signUpPassword",IM);case"emailLink":return kM(e,{idToken:r,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Rs(n,e){return zl(n,"POST","/v1/accounts:signInWithIdp",Wi(n,e))}const LM="http://localhost";class wr extends sm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new wr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):pn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...u}=r;if(!s||!l)return null;const f=new wr(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const r=this.buildRequest();return Rs(e,r)}_linkToIdToken(e,r){const s=this.buildRequest();return s.idToken=r,Rs(e,s)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Rs(e,r)}buildRequest(){const e={requestUri:LM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Bs(r)}return e}}function UM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zM(n){const e=Qa(Ka(n)).link,r=e?Qa(Ka(e)).deep_link_id:null,s=Qa(Ka(n)).deep_link_id;return(s?Qa(Ka(s)).link:null)||s||r||e||n}class am{constructor(e){const r=Qa(Ka(e)),s=r.apiKey??null,l=r.oobCode??null,u=UM(r.mode??null);ee(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=zM(e);try{return new am(r)}catch{return null}}}class Gs{constructor(){this.providerId=Gs.PROVIDER_ID}static credential(e,r){return yl._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const s=am.parseLink(r);return ee(s,"argument-error"),yl._fromEmailAndCode(e,s.code,s.tenantId)}}Gs.PROVIDER_ID="password";Gs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class R0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Pl extends R0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Mi extends Pl{constructor(){super("facebook.com")}static credential(e){return wr._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";class xi extends Pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return wr._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:s}=e;if(!r&&!s)return null;try{return xi.credential(r,s)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";class ki extends Pl{constructor(){super("github.com")}static credential(e){return wr._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.GITHUB_SIGN_IN_METHOD="github.com";ki.PROVIDER_ID="github.com";class Li extends Pl{constructor(){super("twitter.com")}static credential(e,r){return wr._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:s}=e;if(!r||!s)return null;try{return Li.credential(r,s)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";async function PM(n,e){return zl(n,"POST","/v1/accounts:signUp",Wi(n,e))}class Rr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,s,l=!1){const u=await fn._fromIdTokenResponse(e,s,l),f=LE(s);return new Rr({user:u,providerId:f,_tokenResponse:s,operationType:r})}static async _forOperation(e,r,s){await e._updateTokensIfNecessary(s,!0);const l=LE(s);return new Rr({user:e,providerId:l,_tokenResponse:s,operationType:r})}}function LE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Vu extends Ki{constructor(e,r,s,l){super(r.code,r.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Vu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,r,s,l){return new Vu(e,r,s,l)}}function A0(n,e,r,s){return(e==="reauthenticate"?r._getReauthenticationResolver(n):r._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Vu._fromErrorAndOperation(n,u,e,s):u})}async function HM(n,e,r=!1){const s=await _l(n,e._linkToIdToken(n.auth,await n.getIdToken()),r);return Rr._forOperation(n,"link",s)}async function BM(n,e,r=!1){const{auth:s}=n;if(en(s.app))return Promise.reject(Zn(s));const l="reauthenticate";try{const u=await _l(n,A0(s,l,e,n),r);ee(u.idToken,s,"internal-error");const f=im(u.idToken);ee(f,s,"internal-error");const{sub:h}=f;return ee(n.uid===h,s,"user-mismatch"),Rr._forOperation(n,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&pn(s,"user-mismatch"),u}}async function N0(n,e,r=!1){if(en(n.app))return Promise.reject(Zn(n));const s="signIn",l=await A0(n,s,e),u=await Rr._fromIdTokenResponse(n,s,l);return r||await n._updateCurrentUser(u.user),u}async function jM(n,e){return N0(Dr(n),e)}async function O0(n){const e=Dr(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qM(n,e,r){if(en(n.app))return Promise.reject(Zn(n));const s=Dr(n),f=await Gh(s,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PM).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&O0(n),p}),h=await Rr._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(h.user),h}function VM(n,e,r){return en(n.app)?Promise.reject(Zn(n)):jM(pt(n),Gs.credential(e,r)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&O0(n),s})}function FM(n,e,r,s){return pt(n).onIdTokenChanged(e,r,s)}function GM(n,e,r){return pt(n).beforeAuthStateChanged(e,r)}function YM(n,e,r,s){return pt(n).onAuthStateChanged(e,r,s)}function QM(n){return pt(n).signOut()}const Fu="__sak";class D0{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Fu,"1"),this.storage.removeItem(Fu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const KM=1e3,WM=10;class I0 extends D0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const s=this.storage.getItem(r),l=this.localCache[r];s!==l&&e(r,l,s)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((f,h,p)=>{this.notifyListeners(f,p)});return}const s=e.key;r?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!r&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);dM()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,WM):l()}notifyListeners(e,r){this.localCache[e]=r;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:s}),!0)})},KM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}I0.type="LOCAL";const XM=I0;class M0 extends D0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}M0.type="SESSION";const x0=M0;function $M(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}class yc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(l=>l.isListeningto(e));if(r)return r;const s=new yc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:s,eventType:l,data:u}=r.data,f=this.handlersMap[l];if(!f?.size)return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const h=Array.from(f).map(async m=>m(r.origin,u)),p=await $M(h);r.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yc.receivers=[];function lm(n="",e=10){let r="";for(let s=0;s<e;s++)r+=Math.floor(Math.random()*10);return n+r}class ZM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((h,p)=>{const m=lm("",20);l.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(_){const E=_;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(E.data.response);break;default:clearTimeout(y),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:r},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Sn(){return window}function JM(n){Sn().location.href=n}function k0(){return typeof Sn().WorkerGlobalScope<"u"&&typeof Sn().importScripts=="function"}async function ex(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tx(){return navigator?.serviceWorker?.controller||null}function nx(){return k0()?self:null}const L0="firebaseLocalStorageDb",ix=1,Gu="firebaseLocalStorage",U0="fbase_key";class Hl{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function vc(n,e){return n.transaction([Gu],e?"readwrite":"readonly").objectStore(Gu)}function rx(){const n=indexedDB.deleteDatabase(L0);return new Hl(n).toPromise()}function Yh(){const n=indexedDB.open(L0,ix);return new Promise((e,r)=>{n.addEventListener("error",()=>{r(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Gu,{keyPath:U0})}catch(l){r(l)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Gu)?e(s):(s.close(),await rx(),e(await Yh()))})})}async function UE(n,e,r){const s=vc(n,!0).put({[U0]:e,value:r});return new Hl(s).toPromise()}async function sx(n,e){const r=vc(n,!1).get(e),s=await new Hl(r).toPromise();return s===void 0?null:s.value}function zE(n,e){const r=vc(n,!0).delete(e);return new Hl(r).toPromise()}const ax=800,lx=3;class z0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yh(),this.db)}async _withRetries(e){let r=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(r++>lx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yc._getInstance(nx()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ex(),!this.activeServiceWorker)return;this.sender=new ZM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yh();return await UE(e,Fu,"1"),await zE(e,Fu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(s=>UE(s,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(s=>sx(s,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>zE(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=vc(l,!1).getAll();return new Hl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),r.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),r.push(l));return r}notifyListeners(e,r){this.localCache[e]=r;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ax)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z0.type="LOCAL";const ox=z0;new Ul(3e4,6e4);function ux(n,e){return e?Kn(e):(ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class om extends sm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rs(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Rs(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function cx(n){return N0(n.auth,new om(n),n.bypassAuthState)}function fx(n){const{auth:e,user:r}=n;return ee(r,e,"internal-error"),BM(r,new om(n),n.bypassAuthState)}async function dx(n){const{auth:e,user:r}=n;return ee(r,e,"internal-error"),HM(r,new om(n),n.bypassAuthState)}class P0{constructor(e,r,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:s,postBody:l,tenantId:u,error:f,type:h}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:r,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cx;case"linkViaPopup":case"linkViaRedirect":return dx;case"reauthViaPopup":case"reauthViaRedirect":return fx;default:pn(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hx=new Ul(2e3,1e4);class Es extends P0{constructor(e,r,s,l,u){super(e,r,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(En(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(En(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(En(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hx.get())};e()}}Es.currentPopupAction=null;const px="pendingRedirect",yu=new Map;class mx extends P0{constructor(e,r,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,s),this.eventId=null}async execute(){let e=yu.get(this.auth._key());if(!e){try{const s=await gx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(r){e=()=>Promise.reject(r)}yu.set(this.auth._key(),e)}return this.bypassAuthState||yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gx(n,e){const r=vx(e),s=yx(n);if(!await s._isAvailable())return!1;const l=await s._get(r)==="true";return await s._remove(r),l}function _x(n,e){yu.set(n._key(),e)}function yx(n){return Kn(n._redirectPersistence)}function vx(n){return _u(px,n.config.apiKey,n.name)}async function Ex(n,e,r=!1){if(en(n.app))return Promise.reject(Zn(n));const s=Dr(n),l=ux(s,e),f=await new mx(s,l,r).execute();return f&&!r&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const Sx=600*1e3;class bx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(r=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Cx(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!H0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";r.onError(En(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const s=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sx&&this.cachedEventUids.clear(),this.cachedEventUids.has(PE(e))}saveEventToCache(e){this.cachedEventUids.add(PE(e)),this.lastProcessedEventTime=Date.now()}}function PE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function H0({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Cx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H0(n);default:return!1}}async function Tx(n,e={}){return Xi(n,"GET","/v1/projects",e)}const wx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rx=/^https?/;async function Ax(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Tx(n);for(const r of e)try{if(Nx(r))return}catch{}pn(n,"unauthorized-domain")}function Nx(n){const e=Vh(),{protocol:r,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&s===""?r==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&f.hostname===s}if(!Rx.test(r))return!1;if(wx.test(n))return s===n;const l=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const Ox=new Ul(3e4,6e4);function HE(){const n=Sn().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let r=0;r<n.CP.length;r++)n.CP[r]=null}}function Dx(n){return new Promise((e,r)=>{function s(){HE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HE(),r(En(n,"network-request-failed"))},timeout:Ox.get()})}if(Sn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Sn().gapi?.load)s();else{const l=SM("iframefcb");return Sn()[l]=()=>{gapi.load?s():r(En(n,"network-request-failed"))},C0(`${EM()}?onload=${l}`).catch(u=>r(u))}}).catch(e=>{throw vu=null,e})}let vu=null;function Ix(n){return vu=vu||Dx(n),vu}const Mx=new Ul(5e3,15e3),xx="__/auth/iframe",kx="emulator/auth/iframe",Lx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ux=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zx(n){const e=n.config;ee(e.authDomain,n,"auth-domain-config-required");const r=e.emulator?nm(e,kx):`https://${n.config.authDomain}/${xx}`,s={apiKey:e.apiKey,appName:n.name,v:js},l=Ux.get(n.config.apiHost);l&&(s.eid=l);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${r}?${Bs(s).slice(1)}`}async function Px(n){const e=await Ix(n),r=Sn().gapi;return ee(r,n,"internal-error"),e.open({where:document.body,url:zx(n),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lx,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=En(n,"network-request-failed"),h=Sn().setTimeout(()=>{u(f)},Mx.get());function p(){Sn().clearTimeout(h),l(s)}s.ping(p).then(p,()=>{u(f)})}))}const Hx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bx=500,jx=600,qx="_blank",Vx="http://localhost";class BE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Fx(n,e,r,s=Bx,l=jx){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const p={...Hx,width:s.toString(),height:l.toString(),top:u,left:f},m=vt().toLowerCase();r&&(h=g0(m)?qx:r),p0(m)&&(e=e||Vx,p.scrollbars="yes");const y=Object.entries(p).reduce((E,[T,O])=>`${E}${T}=${O},`,"");if(fM(m)&&h!=="_self")return Gx(e||"",h),new BE(null);const _=window.open(e||"",h,y);ee(_,n,"popup-blocked");try{_.focus()}catch{}return new BE(_)}function Gx(n,e){const r=document.createElement("a");r.href=n,r.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(s)}const Yx="__/auth/handler",Qx="emulator/auth/handler",Kx=encodeURIComponent("fac");async function jE(n,e,r,s,l,u){ee(n.config.authDomain,n,"auth-domain-config-required"),ee(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:r,redirectUrl:s,v:js,eventId:l};if(e instanceof R0){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",Th(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))f[y]=_}if(e instanceof Pl){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(f.scopes=y.join(","))}n.tenantId&&(f.tid=n.tenantId);const h=f;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const p=await n._getAppCheckToken(),m=p?`#${Kx}=${encodeURIComponent(p)}`:"";return`${Wx(n)}?${Bs(h).slice(1)}${m}`}function Wx({config:n}){return n.emulator?nm(n,Qx):`https://${n.authDomain}/${Yx}`}const _h="webStorageSupport";class Xx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x0,this._completeRedirectFn=Ex,this._overrideRedirectResult=_x}async _openPopup(e,r,s,l){ii(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await jE(e,r,s,Vh(),l);return Fx(e,u,lm())}async _openRedirect(e,r,s,l){await this._originValidation(e);const u=await jE(e,r,s,Vh(),l);return JM(u),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:l,promise:u}=this.eventManagers[r];return l?Promise.resolve(l):(ii(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[r]={promise:s},s.catch(()=>{delete this.eventManagers[r]}),s}async initAndGetManager(e){const r=await Px(e),s=new bx(e);return r.register("authEvent",l=>(ee(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=r,s}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(_h,{type:_h},l=>{const u=l?.[0]?.[_h];u!==void 0&&r(!!u),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Ax(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return S0()||m0()||rm()}}const $x=Xx;var qE="@firebase/auth",VE="1.12.0";class Zx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Jx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e2(n){Ns(new Sr("auth",(e,{options:r})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:h}=s.options;ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b0(n)},m=new _M(s,l,u,p);return AM(m,r),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,s)=>{e.getProvider("auth-internal").initialize()})),Ns(new Sr("auth-internal",e=>{const r=Dr(e.getProvider("auth").getImmediate());return(s=>new Zx(s))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(qE,VE,Jx(n)),Hi(qE,VE,"esm2020")}const t2=300,n2=MS("authIdTokenMaxAge")||t2;let FE=null;const i2=n=>async e=>{const r=e&&await e.getIdTokenResult(),s=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(s&&s>n2)return;const l=r?.token;FE!==l&&(FE=l,await fetch(n,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function r2(n=BS()){const e=yp(n,"auth");if(e.isInitialized())return e.getImmediate();const r=RM(n,{popupRedirectResolver:$x,persistence:[ox,XM,x0]}),s=MS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=i2(u.toString());GM(r,f,()=>f(r.currentUser)),FM(r,h=>f(h))}}const l=DS("auth");return l&&NM(r,`http://${l}`),r}function s2(){return document.getElementsByTagName("head")?.[0]??document}yM({loadJS(n){return new Promise((e,r)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=l=>{const u=En("internal-error");u.customData=l,r(u)},s.type="text/javascript",s.charset="UTF-8",s2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e2("Browser");class a2{async getUserRoles(e){const r=nl(Cs),s=$n(r,`users/${e}/roles`),l=await em(s);if(l.exists()){const u=l.val(),f=[];return u?.admin===!0&&f.push(qi.ADMIN),f.length===0&&f.push(qi.USER),f}return[qi.USER]}}const Ya=r2(Cs);class l2{databaseService;constructor(){this.databaseService=new a2}signIn(e,r){return VM(Ya,e,r)}signUp(e,r){return qM(Ya,e,r)}signOut(){return QM(Ya)}onAuthStateChanged(e){return YM(Ya,e)}getCurrentUser(){return Ya.currentUser}async getUserRoles(e){return e?.email==="admin@email.com"?[qi.ADMIN]:this.databaseService.getUserRoles(e.uid)}}const vl=new l2,Ir=R.createContext({user:null,roles:null}),o2=({children:n})=>{const[e,r]=R.useState(null),[s,l]=R.useState(null);return R.useEffect(()=>vl.onAuthStateChanged(async f=>{if(r(f),f)try{const h=await vl.getUserRoles(f);l(h)}catch(h){console.error("Error al obtener los roles",h),l(null)}else l(null)}),[]),M.jsx(Ir.Provider,{value:{user:e,roles:s},children:n})};class u2{async setUserRoles(e,r){const s=nl(Cs),l=$n(s,`users/${e}`);await Jp(l,r)}async getAllUsers(){const e=nl(Cs),r=$n(e,"users"),s=await em(r);if(!s.exists())return[];const l=s.val();return Object.keys(l).map(u=>({uid:u,...l[u]}))}async updateUserAdminRole(e,r){const s=nl(Cs),l=$n(s,`users/${e}/roles`);await n0(l,{admin:r})}}const Qh=new u2;function ut(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var c2=typeof Symbol=="function"&&Symbol.observable||"@@observable",GE=c2,yh=()=>Math.random().toString(36).substring(7).split("").join("."),f2={INIT:`@@redux/INIT${yh()}`,REPLACE:`@@redux/REPLACE${yh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${yh()}`},Yu=f2;function um(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function B0(n,e,r){if(typeof n!="function")throw new Error(ut(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ut(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ut(1));return r(B0)(n,e)}let s=n,l=e,u=new Map,f=u,h=0,p=!1;function m(){f===u&&(f=new Map,u.forEach((P,q)=>{f.set(q,P)}))}function y(){if(p)throw new Error(ut(3));return l}function _(P){if(typeof P!="function")throw new Error(ut(4));if(p)throw new Error(ut(5));let q=!0;m();const j=h++;return f.set(j,P),function(){if(q){if(p)throw new Error(ut(6));q=!1,m(),f.delete(j),u=null}}}function E(P){if(!um(P))throw new Error(ut(7));if(typeof P.type>"u")throw new Error(ut(8));if(typeof P.type!="string")throw new Error(ut(17));if(p)throw new Error(ut(9));try{p=!0,l=s(l,P)}finally{p=!1}return(u=f).forEach(j=>{j()}),P}function T(P){if(typeof P!="function")throw new Error(ut(10));s=P,E({type:Yu.REPLACE})}function O(){const P=_;return{subscribe(q){if(typeof q!="object"||q===null)throw new Error(ut(11));function j(){const $=q;$.next&&$.next(y())}return j(),{unsubscribe:P(j)}},[GE](){return this}}}return E({type:Yu.INIT}),{dispatch:E,subscribe:_,getState:y,replaceReducer:T,[GE]:O}}function d2(n){Object.keys(n).forEach(e=>{const r=n[e];if(typeof r(void 0,{type:Yu.INIT})>"u")throw new Error(ut(12));if(typeof r(void 0,{type:Yu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ut(13))})}function h2(n){const e=Object.keys(n),r={};for(let u=0;u<e.length;u++){const f=e[u];typeof n[f]=="function"&&(r[f]=n[f])}const s=Object.keys(r);let l;try{d2(r)}catch(u){l=u}return function(f={},h){if(l)throw l;let p=!1;const m={};for(let y=0;y<s.length;y++){const _=s[y],E=r[_],T=f[_],O=E(T,h);if(typeof O>"u")throw h&&h.type,new Error(ut(14));m[_]=O,p=p||O!==T}return p=p||s.length!==Object.keys(f).length,p?m:f}}function Qu(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,r)=>(...s)=>e(r(...s)))}function p2(...n){return e=>(r,s)=>{const l=e(r,s);let u=()=>{throw new Error(ut(15))};const f={getState:l.getState,dispatch:(p,...m)=>u(p,...m)},h=n.map(p=>p(f));return u=Qu(...h)(l.dispatch),{...l,dispatch:u}}}function m2(n){return um(n)&&"type"in n&&typeof n.type=="string"}var j0=Symbol.for("immer-nothing"),YE=Symbol.for("immer-draftable"),Et=Symbol.for("immer-state");function un(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var jt=Object,ks=jt.getPrototypeOf,Ku="constructor",Ec="prototype",Kh="configurable",Wu="enumerable",Eu="writable",El="value",ri=n=>!!n&&!!n[Et];function mn(n){return n?q0(n)||bc(n)||!!n[YE]||!!n[Ku]?.[YE]||Cc(n)||Tc(n):!1}var g2=jt[Ec][Ku].toString(),QE=new WeakMap;function q0(n){if(!n||!cm(n))return!1;const e=ks(n);if(e===null||e===jt[Ec])return!0;const r=jt.hasOwnProperty.call(e,Ku)&&e[Ku];if(r===Object)return!0;if(!ys(r))return!1;let s=QE.get(r);return s===void 0&&(s=Function.toString.call(r),QE.set(r,s)),s===g2}function Sc(n,e,r=!0){Bl(n)===0?(r?Reflect.ownKeys(n):jt.keys(n)).forEach(l=>{e(l,n[l],n)}):n.forEach((s,l)=>e(l,s,n))}function Bl(n){const e=n[Et];return e?e.type_:bc(n)?1:Cc(n)?2:Tc(n)?3:0}var KE=(n,e,r=Bl(n))=>r===2?n.has(e):jt[Ec].hasOwnProperty.call(n,e),Wh=(n,e,r=Bl(n))=>r===2?n.get(e):n[e],Xu=(n,e,r,s=Bl(n))=>{s===2?n.set(e,r):s===3?n.add(r):n[e]=r};function _2(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var bc=Array.isArray,Cc=n=>n instanceof Map,Tc=n=>n instanceof Set,cm=n=>typeof n=="object",ys=n=>typeof n=="function",vh=n=>typeof n=="boolean";function y2(n){const e=+n;return Number.isInteger(e)&&String(e)===n}var Fn=n=>n.copy_||n.base_,fm=n=>n.modified_?n.copy_:n.base_;function Xh(n,e){if(Cc(n))return new Map(n);if(Tc(n))return new Set(n);if(bc(n))return Array[Ec].slice.call(n);const r=q0(n);if(e===!0||e==="class_only"&&!r){const s=jt.getOwnPropertyDescriptors(n);delete s[Et];let l=Reflect.ownKeys(s);for(let u=0;u<l.length;u++){const f=l[u],h=s[f];h[Eu]===!1&&(h[Eu]=!0,h[Kh]=!0),(h.get||h.set)&&(s[f]={[Kh]:!0,[Eu]:!0,[Wu]:h[Wu],[El]:n[f]})}return jt.create(ks(n),s)}else{const s=ks(n);if(s!==null&&r)return{...n};const l=jt.create(s);return jt.assign(l,n)}}function dm(n,e=!1){return wc(n)||ri(n)||!mn(n)||(Bl(n)>1&&jt.defineProperties(n,{set:cu,add:cu,clear:cu,delete:cu}),jt.freeze(n),e&&Sc(n,(r,s)=>{dm(s,!0)},!1)),n}function v2(){un(2)}var cu={[El]:v2};function wc(n){return n===null||!cm(n)?!0:jt.isFrozen(n)}var $u="MapSet",$h="Patches",WE="ArrayMethods",V0={};function Ar(n){const e=V0[n];return e||un(0,n),e}var XE=n=>!!V0[n],Sl,F0=()=>Sl,E2=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:XE($u)?Ar($u):void 0,arrayMethodsPlugin_:XE(WE)?Ar(WE):void 0});function $E(n,e){e&&(n.patchPlugin_=Ar($h),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Zh(n){Jh(n),n.drafts_.forEach(S2),n.drafts_=null}function Jh(n){n===Sl&&(Sl=n.parent_)}var ZE=n=>Sl=E2(Sl,n);function S2(n){const e=n[Et];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function JE(n,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];if(n!==void 0&&n!==r){r[Et].modified_&&(Zh(e),un(4)),mn(n)&&(n=eS(e,n));const{patchPlugin_:l}=e;l&&l.generateReplacementPatches_(r[Et].base_,n,e)}else n=eS(e,r);return b2(e,n,!0),Zh(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==j0?n:void 0}function eS(n,e){if(wc(e))return e;const r=e[Et];if(!r)return Zu(e,n.handledSet_,n);if(!Rc(r,n))return e;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:s}=r;if(s)for(;s.length>0;)s.pop()(n);Q0(r,n)}return r.copy_}function b2(n,e,r=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&dm(e,r)}function G0(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var Rc=(n,e)=>n.scope_===e,C2=[];function Y0(n,e,r,s){const l=Fn(n),u=n.type_;if(s!==void 0&&Wh(l,s,u)===e){Xu(l,s,r,u);return}if(!n.draftLocations_){const h=n.draftLocations_=new Map;Sc(l,(p,m)=>{if(ri(m)){const y=h.get(m)||[];y.push(p),h.set(m,y)}})}const f=n.draftLocations_.get(e)??C2;for(const h of f)Xu(l,h,r,u)}function T2(n,e,r){n.callbacks_.push(function(l){const u=e;if(!u||!Rc(u,l))return;l.mapSetPlugin_?.fixSetContents(u);const f=fm(u);Y0(n,u.draft_??u,f,r),Q0(u,l)})}function Q0(n,e){if(n.modified_&&!n.finalized_&&(n.type_===3||n.type_===1&&n.allIndicesReassigned_||(n.assigned_?.size??0)>0)){const{patchPlugin_:s}=e;if(s){const l=s.getPath(n);l&&s.generatePatches_(n,l,e)}G0(n)}}function w2(n,e,r){const{scope_:s}=n;if(ri(r)){const l=r[Et];Rc(l,s)&&l.callbacks_.push(function(){Su(n);const f=fm(l);Y0(n,r,f,e)})}else mn(r)&&n.callbacks_.push(function(){const u=Fn(n);n.type_===3?u.has(r)&&Zu(r,s.handledSet_,s):Wh(u,e,n.type_)===r&&s.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&Zu(Wh(n.copy_,e,n.type_),s.handledSet_,s)})}function Zu(n,e,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ri(n)||e.has(n)||!mn(n)||wc(n)||(e.add(n),Sc(n,(s,l)=>{if(ri(l)){const u=l[Et];if(Rc(u,r)){const f=fm(u);Xu(n,s,f,n.type_),G0(u)}}else mn(l)&&Zu(l,e,r)})),n}function R2(n,e){const r=bc(n),s={type_:r?1:0,scope_:e?e.scope_:F0(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let l=s,u=Ju;r&&(l=[s],u=bl);const{revoke:f,proxy:h}=Proxy.revocable(l,u);return s.draft_=h,s.revoke_=f,[h,s]}var Ju={get(n,e){if(e===Et)return n;let r=n.scope_.arrayMethodsPlugin_;const s=n.type_===1&&typeof e=="string";if(s&&r?.isArrayOperationMethod(e))return r.createMethodInterceptor(n,e);const l=Fn(n);if(!KE(l,e,n.type_))return A2(n,l,e);const u=l[e];if(n.finalized_||!mn(u)||s&&n.operationMethod&&r?.isMutatingArrayMethod(n.operationMethod)&&y2(e))return u;if(u===Eh(n.base_,e)){Su(n);const f=n.type_===1?+e:e,h=tp(n.scope_,u,n,f);return n.copy_[f]=h}return u},has(n,e){return e in Fn(n)},ownKeys(n){return Reflect.ownKeys(Fn(n))},set(n,e,r){const s=K0(Fn(n),e);if(s?.set)return s.set.call(n.draft_,r),!0;if(!n.modified_){const l=Eh(Fn(n),e),u=l?.[Et];if(u&&u.base_===r)return n.copy_[e]=r,n.assigned_.set(e,!1),!0;if(_2(r,l)&&(r!==void 0||KE(n.base_,e,n.type_)))return!0;Su(n),ep(n)}return n.copy_[e]===r&&(r!==void 0||e in n.copy_)||Number.isNaN(r)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=r,n.assigned_.set(e,!0),w2(n,e,r)),!0},deleteProperty(n,e){return Su(n),Eh(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),ep(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const r=Fn(n),s=Reflect.getOwnPropertyDescriptor(r,e);return s&&{[Eu]:!0,[Kh]:n.type_!==1||e!=="length",[Wu]:s[Wu],[El]:r[e]}},defineProperty(){un(11)},getPrototypeOf(n){return ks(n.base_)},setPrototypeOf(){un(12)}},bl={};for(let n in Ju){let e=Ju[n];bl[n]=function(){const r=arguments;return r[0]=r[0][0],e.apply(this,r)}}bl.deleteProperty=function(n,e){return bl.set.call(this,n,e,void 0)};bl.set=function(n,e,r){return Ju.set.call(this,n[0],e,r,n[0])};function Eh(n,e){const r=n[Et];return(r?Fn(r):n)[e]}function A2(n,e,r){const s=K0(e,r);return s?El in s?s[El]:s.get?.call(n.draft_):void 0}function K0(n,e){if(!(e in n))return;let r=ks(n);for(;r;){const s=Object.getOwnPropertyDescriptor(r,e);if(s)return s;r=ks(r)}}function ep(n){n.modified_||(n.modified_=!0,n.parent_&&ep(n.parent_))}function Su(n){n.copy_||(n.assigned_=new Map,n.copy_=Xh(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var N2=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,r,s)=>{if(ys(e)&&!ys(r)){const u=r;r=e;const f=this;return function(p=u,...m){return f.produce(p,y=>r.call(this,y,...m))}}ys(r)||un(6),s!==void 0&&!ys(s)&&un(7);let l;if(mn(e)){const u=ZE(this),f=tp(u,e,void 0);let h=!0;try{l=r(f),h=!1}finally{h?Zh(u):Jh(u)}return $E(u,s),JE(l,u)}else if(!e||!cm(e)){if(l=r(e),l===void 0&&(l=e),l===j0&&(l=void 0),this.autoFreeze_&&dm(l,!0),s){const u=[],f=[];Ar($h).generateReplacementPatches_(e,l,{patches_:u,inversePatches_:f}),s(u,f)}return l}else un(1,e)},this.produceWithPatches=(e,r)=>{if(ys(e))return(f,...h)=>this.produceWithPatches(f,p=>e(p,...h));let s,l;return[this.produce(e,r,(f,h)=>{s=f,l=h}),s,l]},vh(n?.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),vh(n?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),vh(n?.useStrictIteration)&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){mn(n)||un(8),ri(n)&&(n=O2(n));const e=ZE(this),r=tp(e,n,void 0);return r[Et].isManual_=!0,Jh(e),r}finishDraft(n,e){const r=n&&n[Et];(!r||!r.isManual_)&&un(9);const{scope_:s}=r;return $E(s,e),JE(void 0,s)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let r;for(r=e.length-1;r>=0;r--){const l=e[r];if(l.path.length===0&&l.op==="replace"){n=l.value;break}}r>-1&&(e=e.slice(r+1));const s=Ar($h).applyPatches_;return ri(n)?s(n,e):this.produce(n,l=>s(l,e))}};function tp(n,e,r,s){const[l,u]=Cc(e)?Ar($u).proxyMap_(e,r):Tc(e)?Ar($u).proxySet_(e,r):R2(e,r);return(r?.scope_??F0()).drafts_.push(l),u.callbacks_=r?.callbacks_??[],u.key_=s,r&&s!==void 0?T2(r,u,s):u.callbacks_.push(function(p){p.mapSetPlugin_?.fixSetContents(u);const{patchPlugin_:m}=p;u.modified_&&m&&m.generatePatches_(u,[],p)}),l}function O2(n){return ri(n)||un(10,n),W0(n)}function W0(n){if(!mn(n)||wc(n))return n;const e=n[Et];let r,s=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Xh(n,e.scope_.immer_.useStrictShallowCopy_),s=e.scope_.immer_.shouldUseStrictIteration()}else r=Xh(n,!0);return Sc(r,(l,u)=>{Xu(r,l,W0(u))},s),e&&(e.finalized_=!1),r}var D2=new N2,X0=D2.produce;function $0(n){return({dispatch:r,getState:s})=>l=>u=>typeof u=="function"?u(r,s,n):l(u)}var I2=$0(),M2=$0,x2=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qu:Qu.apply(null,arguments)},k2=n=>n&&typeof n.match=="function";function rl(n,e){function r(...s){if(e){let l=e(...s);if(!l)throw new Error(Jn(0));return{type:n,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:n,payload:s[0]}}return r.toString=()=>`${n}`,r.type=n,r.match=s=>m2(s)&&s.type===n,r}var Z0=class Wa extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Wa.prototype)}static get[Symbol.species](){return Wa}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Wa(...e[0].concat(this)):new Wa(...e.concat(this))}};function tS(n){return mn(n)?X0(n,()=>{}):n}function fu(n,e,r){return n.has(e)?n.get(e):n.set(e,r(e)).get(e)}function L2(n){return typeof n=="boolean"}var U2=()=>function(e){const{thunk:r=!0,immutableCheck:s=!0,serializableCheck:l=!0,actionCreatorCheck:u=!0}=e??{};let f=new Z0;return r&&(L2(r)?f.push(I2):f.push(M2(r.extraArgument))),f},z2="RTK_autoBatch",nS=n=>e=>{setTimeout(e,n)},P2=(n={type:"raf"})=>e=>(...r)=>{const s=e(...r);let l=!0,u=!1,f=!1;const h=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nS(10):n.type==="callback"?n.queueNotification:nS(n.timeout),m=()=>{f=!1,u&&(u=!1,h.forEach(y=>y()))};return Object.assign({},s,{subscribe(y){const _=()=>l&&y(),E=s.subscribe(_);return h.add(y),()=>{E(),h.delete(y)}},dispatch(y){try{return l=!y?.meta?.[z2],u=!l,u&&(f||(f=!0,p(m))),s.dispatch(y)}finally{l=!0}}})},H2=n=>function(r){const{autoBatch:s=!0}=r??{};let l=new Z0(n);return s&&l.push(P2(typeof s=="object"?s:void 0)),l};function B2(n){const e=U2(),{reducer:r=void 0,middleware:s,devTools:l=!0,preloadedState:u=void 0,enhancers:f=void 0}=n||{};let h;if(typeof r=="function")h=r;else if(um(r))h=h2(r);else throw new Error(Jn(1));let p;typeof s=="function"?p=s(e):p=e();let m=Qu;l&&(m=x2({trace:!1,...typeof l=="object"&&l}));const y=p2(...p),_=H2(y);let E=typeof f=="function"?f(_):_();const T=m(...E);return B0(h,u,T)}function J0(n){const e={},r=[];let s;const l={addCase(u,f){const h=typeof u=="string"?u:u.type;if(!h)throw new Error(Jn(28));if(h in e)throw new Error(Jn(29));return e[h]=f,l},addAsyncThunk(u,f){return f.pending&&(e[u.pending.type]=f.pending),f.rejected&&(e[u.rejected.type]=f.rejected),f.fulfilled&&(e[u.fulfilled.type]=f.fulfilled),f.settled&&r.push({matcher:u.settled,reducer:f.settled}),l},addMatcher(u,f){return r.push({matcher:u,reducer:f}),l},addDefaultCase(u){return s=u,l}};return n(l),[e,r,s]}function j2(n){return typeof n=="function"}function q2(n,e){let[r,s,l]=J0(e),u;if(j2(n))u=()=>tS(n());else{const h=tS(n);u=()=>h}function f(h=u(),p){let m=[r[p.type],...s.filter(({matcher:y})=>y(p)).map(({reducer:y})=>y)];return m.filter(y=>!!y).length===0&&(m=[l]),m.reduce((y,_)=>{if(_)if(ri(y)){const T=_(y,p);return T===void 0?y:T}else{if(mn(y))return X0(y,E=>_(E,p));{const E=_(y,p);if(E===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return y},h)}return f.getInitialState=u,f}var V2=(n,e)=>k2(n)?n.match(e):n(e);function F2(...n){return e=>n.some(r=>V2(r,e))}var G2="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Y2=(n=21)=>{let e="",r=n;for(;r--;)e+=G2[Math.random()*64|0];return e},Q2=["name","message","stack","code"],Sh=class{constructor(n,e){this.payload=n,this.meta=e}_type},iS=class{constructor(n,e){this.payload=n,this.meta=e}_type},K2=n=>{if(typeof n=="object"&&n!==null){const e={};for(const r of Q2)typeof n[r]=="string"&&(e[r]=n[r]);return e}return{message:String(n)}},rS="External signal was aborted",Ac=(()=>{function n(e,r,s){const l=rl(e+"/fulfilled",(p,m,y,_)=>({payload:p,meta:{..._||{},arg:y,requestId:m,requestStatus:"fulfilled"}})),u=rl(e+"/pending",(p,m,y)=>({payload:void 0,meta:{...y||{},arg:m,requestId:p,requestStatus:"pending"}})),f=rl(e+"/rejected",(p,m,y,_,E)=>({payload:_,error:(s&&s.serializeError||K2)(p||"Rejected"),meta:{...E||{},arg:y,requestId:m,rejectedWithValue:!!_,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"}}));function h(p,{signal:m}={}){return(y,_,E)=>{const T=s?.idGenerator?s.idGenerator(p):Y2(),O=new AbortController;let z,P;function q(B){P=B,O.abort()}m&&(m.aborted?q(rS):m.addEventListener("abort",()=>q(rS),{once:!0}));const j=(async function(){let B;try{let K=s?.condition?.(p,{getState:_,extra:E});if(X2(K)&&(K=await K),K===!1||O.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const oe=new Promise((Y,re)=>{z=()=>{re({name:"AbortError",message:P||"Aborted"})},O.signal.addEventListener("abort",z,{once:!0})});y(u(T,p,s?.getPendingMeta?.({requestId:T,arg:p},{getState:_,extra:E}))),B=await Promise.race([oe,Promise.resolve(r(p,{dispatch:y,getState:_,extra:E,requestId:T,signal:O.signal,abort:q,rejectWithValue:(Y,re)=>new Sh(Y,re),fulfillWithValue:(Y,re)=>new iS(Y,re)})).then(Y=>{if(Y instanceof Sh)throw Y;return Y instanceof iS?l(Y.payload,T,p,Y.meta):l(Y,T,p)})])}catch(K){B=K instanceof Sh?f(null,T,p,K.payload,K.meta):f(K,T,p)}finally{z&&O.signal.removeEventListener("abort",z)}return s&&!s.dispatchConditionRejection&&f.match(B)&&B.meta.condition||y(B),B})();return Object.assign(j,{abort:q,requestId:T,arg:p,unwrap(){return j.then(W2)}})}}return Object.assign(h,{pending:u,rejected:f,fulfilled:l,settled:F2(f,l),typePrefix:e})}return n.withTypes=()=>n,n})();function W2(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function X2(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var $2=Symbol.for("rtk-slice-createasyncthunk");function Z2(n,e){return`${n}/${e}`}function J2({creators:n}={}){const e=n?.asyncThunk?.[$2];return function(s){const{name:l,reducerPath:u=l}=s;if(!l)throw new Error(Jn(11));const f=(typeof s.reducers=="function"?s.reducers(n3()):s.reducers)||{},h=Object.keys(f),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(B,$){const K=typeof B=="string"?B:B.type;if(!K)throw new Error(Jn(12));if(K in p.sliceCaseReducersByType)throw new Error(Jn(13));return p.sliceCaseReducersByType[K]=$,m},addMatcher(B,$){return p.sliceMatchers.push({matcher:B,reducer:$}),m},exposeAction(B,$){return p.actionCreators[B]=$,m},exposeCaseReducer(B,$){return p.sliceCaseReducersByName[B]=$,m}};h.forEach(B=>{const $=f[B],K={reducerName:B,type:Z2(l,B),createNotation:typeof s.reducers=="function"};r3($)?a3(K,$,m,e):i3(K,$,m)});function y(){const[B={},$=[],K=void 0]=typeof s.extraReducers=="function"?J0(s.extraReducers):[s.extraReducers],oe={...B,...p.sliceCaseReducersByType};return q2(s.initialState,Y=>{for(let re in oe)Y.addCase(re,oe[re]);for(let re of p.sliceMatchers)Y.addMatcher(re.matcher,re.reducer);for(let re of $)Y.addMatcher(re.matcher,re.reducer);K&&Y.addDefaultCase(K)})}const _=B=>B,E=new Map,T=new WeakMap;let O;function z(B,$){return O||(O=y()),O(B,$)}function P(){return O||(O=y()),O.getInitialState()}function q(B,$=!1){function K(Y){let re=Y[B];return typeof re>"u"&&$&&(re=fu(T,K,P)),re}function oe(Y=_){const re=fu(E,$,()=>new WeakMap);return fu(re,Y,()=>{const Ye={};for(const[St,Vt]of Object.entries(s.selectors??{}))Ye[St]=e3(Vt,Y,()=>fu(T,Y,P),$);return Ye})}return{reducerPath:B,getSelectors:oe,get selectors(){return oe(K)},selectSlice:K}}const j={name:l,reducer:z,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:P,...q(u),injectInto(B,{reducerPath:$,...K}={}){const oe=$??u;return B.inject({reducerPath:oe,reducer:z},K),{...j,...q(oe,!0)}}};return j}}function e3(n,e,r,s){function l(u,...f){let h=e(u);return typeof h>"u"&&s&&(h=r()),n(h,...f)}return l.unwrapped=n,l}var t3=J2();function n3(){function n(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:n}}function i3({type:n,reducerName:e,createNotation:r},s,l){let u,f;if("reducer"in s){if(r&&!s3(s))throw new Error(Jn(17));u=s.reducer,f=s.prepare}else u=s;l.addCase(n,u).exposeCaseReducer(e,u).exposeAction(e,f?rl(n,f):rl(n))}function r3(n){return n._reducerDefinitionType==="asyncThunk"}function s3(n){return n._reducerDefinitionType==="reducerWithPrepare"}function a3({type:n,reducerName:e},r,s,l){if(!l)throw new Error(Jn(18));const{payloadCreator:u,fulfilled:f,pending:h,rejected:p,settled:m,options:y}=r,_=l(n,u,y);s.exposeAction(e,_),f&&s.addCase(_.fulfilled,f),h&&s.addCase(_.pending,h),p&&s.addCase(_.rejected,p),m&&s.addMatcher(_.settled,m),s.exposeCaseReducer(e,{fulfilled:f||du,pending:h||du,rejected:p||du,settled:m||du})}function du(){}function Jn(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const l3={isChooseFoodPage:!1,selectedFood:void 0,menuItems:[{id:1,name:"Hamburguesa de Pollo",quantity:40,desc:"Hamburguesa de pollo frito - ... y mayones",price:24,image:"cb.jpg"},{id:2,name:"Hamburguesa de Carne",quantity:20,desc:"Hamburguesa de carne con queso y tomate",price:30,image:"vb.jpg"},{id:3,name:"Helado",quantity:30,desc:"Cono de helado",price:28,image:"ic.jpg"},{id:4,name:"Patatas fritas",quantity:100,desc:"Patatas fritas con salsa verde",price:123,image:"chips.jpg"}],cartItems:[],orders:[],ordersStatus:"idle",ordersLoading:!0,ordersError:null,statusMessage:void 0,ordersUnsubscribe:void 0},np=Ac("food/startOrdersSubscription",async(n,e)=>{try{ht.debug("Orders: subscribe start (thunk)");const r=gc.subscribe(s=>{e.dispatch(h3(s))},s=>{e.dispatch(p3(String(s)))});e.dispatch(m3(r))}catch(r){return e.rejectWithValue(String(r))}}),o3=Ac("food/stopOrdersSubscription",async(n,e)=>{const s=e.getState().food?.ordersUnsubscribe;s&&s(),e.dispatch(g3())}),ip=Ac("food/markOrderPaid",async({id:n},e)=>{try{await gc.patch(n,{status:"PAID"})}catch(r){return e.rejectWithValue(String(r))}}),rp=Ac("food/deleteOrder",async({id:n},e)=>{try{await gc.deleteById(n)}catch(r){return e.rejectWithValue(String(r))}});function u3(n){return n.reduce((e,r)=>e+r.price*r.quantity,0)}const eC=t3({name:"food",initialState:l3,reducers:{togglePage(n){n.isChooseFoodPage=!n.isChooseFoodPage,n.selectedFood=void 0,n.statusMessage=void 0},selectFood(n,e){n.selectedFood=e.payload},orderFood(n,e){const{food:r,quantity:s}=e.payload;if(!Number.isFinite(s)||s<=0)return;const l=n.menuItems.find(f=>f.id===r.id);if(!l||s>l.quantity)return;l.quantity=Math.max(0,l.quantity-s);const u=n.cartItems.find(f=>f.id===r.id);u?u.quantity+=s:n.cartItems.push({id:r.id,name:r.name,price:r.price,quantity:s}),n.statusMessage=`Added to cart: ${r.name} x${s}. Cart total=${u3(n.cartItems)}$`},removeFromCart(n,e){const r=e.payload.id,s=n.cartItems.find(u=>u.id===r);if(!s)return;const l=n.menuItems.find(u=>u.id===r);l&&(l.quantity+=s.quantity),n.cartItems=n.cartItems.filter(u=>u.id!==r),n.statusMessage=`Removed from cart: id=${r}`},ordersSubscriptionStarted(n,e){n.ordersUnsubscribe&&n.ordersUnsubscribe(),n.ordersUnsubscribe=e.payload,n.ordersStatus="succeeded",n.ordersLoading=!1,n.ordersError=null,n.statusMessage="Orders subscription started."},ordersSubscriptionStopped(n){n.ordersUnsubscribe&&n.ordersUnsubscribe(),n.ordersUnsubscribe=void 0,n.ordersStatus="idle",n.ordersLoading=!1,n.statusMessage="Orders subscription stopped."},ordersReceived(n,e){n.orders=e.payload,n.ordersStatus="succeeded",n.ordersLoading=!1,n.ordersError=null,n.statusMessage=`Orders updated: ${e.payload.length}`},ordersFailed(n,e){n.ordersStatus="failed",n.ordersLoading=!1,n.ordersError=e.payload,n.statusMessage="Error loading orders."}},extraReducers:n=>{n.addCase(np.pending,e=>{e.ordersStatus="loading",e.ordersLoading=!0,e.ordersError=null,e.statusMessage="Subscribing to orders..."}).addCase(np.rejected,(e,r)=>{e.ordersStatus="failed",e.ordersLoading=!1,e.ordersError=r.payload??r.error.message??"Unknown error",e.statusMessage="Failed to subscribe to orders."}).addCase(ip.pending,e=>{e.statusMessage="Marking order as PAID..."}).addCase(ip.rejected,(e,r)=>{e.statusMessage=`Failed to mark paid: ${r.payload??r.error.message}`}).addCase(rp.pending,e=>{e.statusMessage="Deleting order..."}).addCase(rp.rejected,(e,r)=>{e.statusMessage=`Failed to delete: ${r.payload??r.error.message}`})}}),{togglePage:c3,selectFood:sS,orderFood:f3,removeFromCart:d3,ordersReceived:h3,ordersFailed:p3,ordersSubscriptionStarted:m3,ordersSubscriptionStopped:g3}=eC.actions,_3=eC.reducer;function y3(){const{user:n}=R.useContext(Ir),[e,r]=R.useState(!1),[s,l]=R.useState(""),[u,f]=R.useState([]),h=async()=>{r(!0),l("");try{const E=(await Qh.getAllUsers()).map(T=>({uid:T.uid,email:T.email,isAdmin:T.roles?.admin===!0}));E.sort((T,O)=>(T.email??T.uid).localeCompare(O.email??O.uid)),f(E)}catch(_){l(_?.message??String(_))}finally{r(!1)}};R.useEffect(()=>{h()},[]);const p=n?.uid,m=R.useMemo(()=>u,[u]),y=async _=>{l("");try{await Qh.updateUserAdminRole(_.uid,!_.isAdmin),f(E=>E.map(T=>T.uid===_.uid?{...T,isAdmin:!T.isAdmin}:T))}catch(E){l(E?.message??String(E))}};return M.jsxs("div",{className:"usersBox",children:[M.jsx("h4",{className:"subTitle",children:"Gestin de usuarios"}),M.jsx("button",{onClick:h,disabled:e,children:e?"Cargando...":"Actualizar lista"}),s&&M.jsxs("p",{className:"error-message",children:["Error: ",s]}),!e&&!s&&m.length===0&&M.jsx("p",{children:"No hay usuarios."}),!e&&m.length>0&&M.jsxs("table",{className:"usersTable",children:[M.jsx("thead",{children:M.jsxs("tr",{children:[M.jsx("th",{children:"Email"}),M.jsx("th",{children:"UID"}),M.jsx("th",{children:"Admin"}),M.jsx("th",{children:"Accin"})]})}),M.jsx("tbody",{children:m.map(_=>{const E=p&&_.uid===p;return M.jsxs("tr",{children:[M.jsx("td",{children:_.email??"(sin email)"}),M.jsx("td",{style:{fontFamily:"monospace"},children:_.uid}),M.jsx("td",{children:_.isAdmin?"S":"No"}),M.jsxs("td",{children:[M.jsx("button",{onClick:()=>y(_),disabled:E,children:_.isAdmin?"Quitar admin":"Hacer admin"}),E&&M.jsx("span",{style:{marginLeft:8},children:"(t)"})]})]},_.uid)})})]})]})}const v3=R.lazy(()=>H1(()=>import("./Foods-DyGgl_yB.js"),[])),tC=R.createContext(null),E3=({children:n})=>{const{user:e}=R.useContext(Ir);return e?n:M.jsx(SS,{to:"/login",replace:!0})},S3=({children:n})=>{const{user:e,roles:r}=R.useContext(Ir);return!e||!r||!r.includes(qi.ADMIN)?M.jsx(SS,{to:"/",replace:!0}):M.jsx(M.Fragment,{children:n})},b3=()=>{const{user:n,roles:e}=R.useContext(Ir),r=Tl(),s=async()=>{try{await vl.signOut(),r("/login")}catch(l){console.error("Error al cerrar sesin",l)}};return M.jsx("nav",{className:"navbar",children:M.jsxs("ul",{className:"nav-menu",children:[M.jsx("li",{children:M.jsx(Gn,{to:"/",children:"Home"})}),n&&M.jsx("li",{children:M.jsx(Gn,{to:"/dashboard",children:"Dashboard"})}),n&&e&&e.includes(qi.ADMIN)&&M.jsx("li",{children:M.jsx(Gn,{to:"/admin",children:"Admin"})}),!n&&M.jsx("li",{children:M.jsx(Gn,{to:"/login",children:"Login"})}),!n&&M.jsx("li",{children:M.jsx(Gn,{to:"/register",children:"Registro"})}),n&&M.jsx("li",{children:M.jsx("button",{onClick:s,children:"Logout"})})]})})},C3=()=>{const{user:n,roles:e}=R.useContext(Ir);return M.jsxs("div",{className:"main-content",children:[M.jsx("h3",{className:"title",children:"Comida Rapida Online"}),!n&&M.jsx("p",{children:"Para hacer pedidos, inicia sesin (Login) o regstrate (Registro)."}),n&&M.jsxs("p",{children:["Sesin iniciada como: ",n.email??"(sin email)"," ",e&&e.includes(qi.ADMIN)?"(ADMIN)":""]}),M.jsxs("p",{children:["Links: ",M.jsx(Gn,{to:"/dashboard",children:"Dashboard"})," | ",M.jsx(Gn,{to:"/admin",children:"Admin"})]})]})},T3=()=>{const[n,e]=R.useState(""),[r,s]=R.useState(""),[l,u]=R.useState(""),f=Tl(),h=async p=>{p.preventDefault(),u("");try{const m=await vl.signIn(n,r);console.log("Usuario autenticado",m.user),f("/dashboard")}catch(m){console.error("Error al iniciar sesin",m),u(m?.message??"Error")}};return M.jsx("div",{className:"main-content",children:M.jsxs("form",{onSubmit:h,children:[M.jsx("h2",{children:"Iniciar Sesin"}),M.jsx("input",{type:"email",placeholder:"Correo electrnico",value:n,onChange:p=>e(p.target.value)}),M.jsx("input",{type:"password",placeholder:"Contrasea",value:r,onChange:p=>s(p.target.value)}),M.jsx("button",{type:"submit",children:"Login"}),l&&M.jsx("p",{className:"error-message",children:l})]})})},w3=()=>{const[n,e]=R.useState(""),[r,s]=R.useState(""),[l,u]=R.useState(""),[f,h]=R.useState(""),p=Tl(),m=async y=>{y.preventDefault(),u(""),h("");try{const _=await vl.signUp(n,r);await Qh.setUserRoles(_.user.uid,{email:_.user.email,roles:{admin:!1}}),console.log("Usuario registrado",_.user),h("Registro exitoso. Redirigiendo al Dashboard..."),setTimeout(()=>{p("/dashboard")},2e3)}catch(_){console.error("Error al registrarse",_),u(_?.message??"Error")}};return M.jsx("div",{className:"main-content",children:M.jsxs("form",{onSubmit:m,children:[M.jsx("h2",{children:"Registrarse"}),M.jsx("input",{type:"email",placeholder:"Correo electrnico",value:n,onChange:y=>e(y.target.value)}),M.jsx("input",{type:"password",placeholder:"Contrasea",value:r,onChange:y=>s(y.target.value)}),M.jsx("button",{type:"submit",children:"Registrarse"}),l&&M.jsx("p",{className:"error-message",children:l}),f&&M.jsx("p",{className:"success-message",children:f})]})})},R3=()=>{const n=sw(),{user:e}=R.useContext(Ir),r=Vn(E=>E.food.isChooseFoodPage),s=Vn(E=>E.food.menuItems),l=Vn(E=>E.food.selectedFood),u=Vn(E=>E.food.cartItems),f=u.reduce((E,T)=>E+T.price*T.quantity,0),h=Vn(E=>E.food.orders),p=Vn(E=>E.food.ordersLoading),m=Vn(E=>E.food.ordersError),y=Vn(E=>E.food.statusMessage);R.useEffect(()=>{if(e)return n(np()),()=>{n(o3())}},[n,e]);const _=(E,T)=>{n(f3({food:E,quantity:T}))};return M.jsx(tC.Provider,{value:{orderFood:_},children:M.jsxs("div",{className:"App",children:[M.jsx("button",{className:"toggleButton",onClick:()=>{ht.info(`UI: toggle page; current=${r?"ORDER":"STOCK"}`),n(c3())},children:r?"Disponibilidad":"Pedir Comida"}),M.jsx("h3",{className:"title",children:"Comida Rapida Online"}),y&&M.jsx("p",{className:"statusMessage",children:y}),r&&M.jsx(M.Fragment,{children:l===void 0?M.jsx(R.Suspense,{fallback:M.jsx("div",{children:"Cargando detalles ......"}),children:M.jsx(v3,{foodItems:s,onFoodSelected:E=>{ht.info(`UI: food selected; id=${E.id}, name=${E.name}`),n(sS(E))}})}):M.jsx(VI,{food:l,onReturnToMenu:()=>{ht.debug("UI: return to menu"),n(sS(void 0))}})}),M.jsxs("div",{className:"cartBox",children:[M.jsx("h4",{className:"subTitle",children:"Carrito"}),u.length===0?M.jsx("p",{className:"cartEmpty",children:"Carrito vaco"}):M.jsxs(M.Fragment,{children:[M.jsx("ul",{className:"ulCart",children:u.map(E=>M.jsxs("li",{className:"liCart",children:[M.jsxs("span",{children:[E.name," x",E.quantity]}),M.jsxs("span",{children:[E.price*E.quantity,"$"]}),M.jsx("button",{onClick:()=>n(d3({id:E.id})),children:"Quitar"})]},E.id))}),M.jsxs("p",{className:"cartTotal",children:["Total: ",f,"$"]})]})]}),M.jsxs("div",{className:"ordersBox",children:[M.jsx("h4",{className:"subTitle",children:"Pedidos (Firebase)"}),p&&M.jsx("p",{children:"Cargando pedidos..."}),m&&M.jsxs("p",{children:["Error cargando pedidos: ",m]}),!p&&!m&&h.length===0&&M.jsx("p",{children:"No hay pedidos."}),!p&&!m&&h.length>0&&M.jsx("ul",{className:"ulOrders",children:h.map(E=>M.jsxs("li",{className:"liOrders",children:[M.jsxs("span",{children:["#",E.id,"  ",E.status,"  ",E.total,"$"]}),M.jsx("button",{onClick:()=>n(ip({id:E.id})),children:"Marcar pagado"}),M.jsx("button",{onClick:()=>n(rp({id:E.id})),children:"Borrar"})]},E.id))})]})]})})},A3=()=>{const n=Vn(e=>e.food.menuItems);return M.jsxs("div",{className:"main-content",children:[M.jsx("h2",{children:"Administracin"}),M.jsx("h4",{className:"subTitle",children:"Stock"}),M.jsx("ul",{className:"ulApp",children:n.map(e=>M.jsxs("li",{className:"liApp",children:[M.jsx("p",{children:e.name}),M.jsxs("p",{children:["#",e.quantity]})]},e.id))}),M.jsx(y3,{})]})};function N3(){return M.jsx(FI,{fallback:M.jsx("div",{children:"Algo sali mal!"}),children:M.jsx(o2,{children:M.jsxs(NR,{children:[M.jsx(b3,{}),M.jsxs(rR,{children:[M.jsx(_s,{path:"/",element:M.jsx(C3,{})}),M.jsx(_s,{path:"/login",element:M.jsx(T3,{})}),M.jsx(_s,{path:"/register",element:M.jsx(w3,{})}),M.jsx(_s,{path:"/dashboard",element:M.jsx(E3,{children:M.jsx(R3,{})})}),M.jsx(_s,{path:"/admin",element:M.jsx(S3,{children:M.jsx(A3,{})})})]})]})})})}const O3=n=>e=>r=>{ht.debug(`[redux] action: ${String(r?.type)}`);const s=e(r);return ht.debug(`[redux] state: ${JSON.stringify(n.getState())}`),s},D3=B2({reducer:{food:_3},middleware:n=>n({serializableCheck:!1}).concat(O3)});U1.createRoot(document.getElementById("root")).render(M.jsx(R.StrictMode,{children:M.jsx(nw,{store:D3,children:M.jsx(N3,{})})}));export{M as j};
